(self.webpackChunkvisyn_core=self.webpackChunkvisyn_core||[]).push([[813],{"./src/vis/EagerVis.tsx":(e,n,t)=>{"use strict";t.r(n),t.d(n,{EagerVis:()=>rZ,useRegisterDefaultVis:()=>rW});var r=t("./node_modules/@mantine/core/esm/components/Group/Group.mjs"),a=t("./node_modules/@mantine/core/esm/components/Stack/Stack.mjs"),l=t("./node_modules/@mantine/hooks/esm/use-uncontrolled/use-uncontrolled.mjs"),o=t("./node_modules/@mantine/hooks/esm/use-resize-observer/use-resize-observer.mjs"),i=t("./node_modules/d3v7/src/index.js"),u=t("./node_modules/react/index.js"),c=t("./src/hooks/useSyncedRef.tsx"),s=t("./src/utils/index.ts"),d=t("./src/vis/Provider.tsx"),p=t("./node_modules/@fortawesome/free-solid-svg-icons/index.mjs"),m=t("./node_modules/@fortawesome/react-fontawesome/index.es.js"),f=t("./node_modules/@mantine/core/esm/core/Box/Box.mjs"),y=t("./node_modules/@mantine/core/esm/components/ScrollArea/ScrollArea.mjs"),g=t("./node_modules/@mantine/core/esm/components/Text/Text.mjs"),b=t("./node_modules/@mantine/core/esm/components/Tooltip/Tooltip.mjs"),h=t("./node_modules/@mantine/core/esm/components/ActionIcon/ActionIcon.mjs"),S=t("./node_modules/@mantine/core/esm/components/Divider/Divider.mjs"),v=t("./src/i18n/index.ts"),C=t("./node_modules/@mantine/core/esm/components/Select/Select.mjs");function O(e){var n=e.title,t=e.content;return e.dataCyPrefix,u.createElement(r.Z,{align:"center",mb:2,justify:"space-between",wrap:"nowrap"},n,u.createElement(b.u,{label:t,withArrow:!0},u.createElement(h.A,{variant:"transparent",color:"gray"},u.createElement(m.G,{icon:p.Fuz}))))}try{O.displayName="HelpHoverCard",O.__docgenInfo={description:"",displayName:"HelpHoverCard",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"Element"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"ReactNode"}},dataCyPrefix:{defaultValue:null,description:"",name:"dataCyPrefix",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/HelpHoverCard.tsx#HelpHoverCard"]={docgenInfo:O.__docgenInfo,name:"HelpHoverCard",path:"src/components/HelpHoverCard.tsx#HelpHoverCard"})}catch(e){}function E(e){var n=e.callback,t=e.currentSelected,r=(0,d.jx)(),a=r.visTypes,l=(0,r.getVisByType)(t);return u.createElement(C.P,{searchable:!0,label:u.createElement(O,{title:u.createElement(g.x,{fs:"sm",fw:"bold"},"Visualization type"),content:null==l?void 0:l.description}),styles:{label:{width:"100%"}},onChange:function(e){return n(e)},name:"visTypes",maxDropdownHeight:380,data:a.map(function(e){return{value:e.type,label:e.type,description:e.description}}),value:t})}try{E.displayName="VisTypeSelect",E.__docgenInfo={description:"",displayName:"VisTypeSelect",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(s: ESupportedPlotlyVis) => void"}},currentSelected:{defaultValue:null,description:"",name:"currentSelected",required:!0,type:{name:"enum",value:[{value:'"Scatter plot"'},{value:'"Violin plot"'},{value:'"Bar chart"'},{value:'"Hexbin plot"'},{value:'"Heatmap plot"'},{value:'"Raincloud plot"'},{value:'"Sankey"'},{value:'"Correlation plot"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/sidebar/VisTypeSelect.tsx#VisTypeSelect"]={docgenInfo:E.__docgenInfo,name:"VisTypeSelect",path:"src/vis/sidebar/VisTypeSelect.tsx#VisTypeSelect"})}catch(e){}function V(e){var n=e.children,t=e.config,l=e.setConfig,o=e.onClick;return u.createElement(f.x,{pt:"sm",style:{height:"100%",boxShadow:"2px 0px 15px 0px lightgray",zIndex:5}},u.createElement(r.Z,{gap:0,style:{width:"100%",height:"100%"},wrap:"nowrap"},u.createElement(y.x,{p:0,w:"".concat(200,"px"),h:"100%"},u.createElement(f.x,{pb:"xl",style:{height:"100%",width:"".concat(200,"px")}},u.createElement(a.K,{gap:"xs",px:"xs"},u.createElement(r.Z,{justify:"space-between"},u.createElement(g.x,null,"Settings"),u.createElement(b.u,{label:v.ag.t("visyn:vis.closeSettings"),withArrow:!0},u.createElement(h.A,{onClick:o,variant:"transparent",color:"gray"},u.createElement(m.G,{icon:p.YIN})))),u.createElement(E,{callback:function(e){return l(function(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])})}return e}({},t),{type:e}))},currentSelected:t.type}),u.createElement(S.i,null),n)))))}try{V.displayName="VisSidebarWrapper",V.__docgenInfo={description:"",displayName:"VisSidebarWrapper",props:{config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"any"}},setConfig:{defaultValue:null,description:"",name:"setConfig",required:!0,type:{name:"any"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/VisSidebarWrapper.tsx#VisSidebarWrapper"]={docgenInfo:V.__docgenInfo,name:"VisSidebarWrapper",path:"src/vis/VisSidebarWrapper.tsx#VisSidebarWrapper"})}catch(e){}var x=t("./src/vis/interfaces.ts");function w(e){var n,t=e.columns,r=e.filterCallback,a=e.optionsConfig,l=e.config,o=void 0===l?null:l,i=e.setConfig,c=e.className,s=e.style,p=(0,d.jx)().getVisByType;if(!o)return null;var m=null===(n=p(null==o?void 0:o.type))||void 0===n?void 0:n.sidebarRenderer;return m?u.createElement(m,{config:o,optionsConfig:a,setConfig:void 0===i?null:i,filterCallback:r,columns:t,className:c,style:s}):null}try{w.displayName="VisSidebar",w.__docgenInfo={description:"",displayName:"VisSidebar",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},optionsConfig:{defaultValue:null,description:"",name:"optionsConfig",required:!1,type:{name:"any"}},filterCallback:{defaultValue:null,description:"",name:"filterCallback",required:!1,type:{name:"(s: EFilterOptions) => void"}},config:{defaultValue:{value:"null"},description:"",name:"config",required:!1,type:{name:"any"}},setConfig:{defaultValue:{value:"null"},description:"",name:"setConfig",required:!1,type:{name:"(c: any) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/VisSidebar.tsx#VisSidebar"]={docgenInfo:w.__docgenInfo,name:"VisSidebar",path:"src/vis/VisSidebar.tsx#VisSidebar"})}catch(e){}var T=t("./node_modules/@fortawesome/free-solid-svg-icons/faGear.js");function A(e){var n=e.isOpen,t=e.onClick;return u.createElement(b.u,{label:n?v.ag.t("visyn:vis.closeSettings"):v.ag.t("visyn:vis.openSettings")},u.createElement(h.A,{style:{zIndex:10,position:"absolute"},top:12,right:10,onClick:t,variant:"transparent",color:"gray"},u.createElement(m.G,{icon:T.gr})))}try{A.displayName="VisSidebarOpenButton",A.__docgenInfo={description:"",displayName:"VisSidebarOpenButton",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/VisSidebarOpenButton.tsx#VisSidebarOpenButton"]={docgenInfo:A.__docgenInfo,name:"VisSidebarOpenButton",path:"src/vis/VisSidebarOpenButton.tsx#VisSidebarOpenButton"})}catch(e){}var _=t("./node_modules/@mantine/core/esm/components/Center/Center.mjs"),k=t("./node_modules/@mantine/core/esm/components/Alert/Alert.mjs"),R=t("./node_modules/@mantine/core/esm/core/utils/units-converters/rem.mjs");function I(e){var n=e.headerMessage,t=e.bodyMessage;return u.createElement(a.K,{style:{height:"100%"}},u.createElement(_.M,{style:{height:"100%",width:"100%"}},u.createElement(k.b,{title:n,color:"yellow",miw:(0,R.h)(420)},t)))}try{I.displayName="InvalidCols",I.__docgenInfo={description:"",displayName:"InvalidCols",props:{headerMessage:{defaultValue:null,description:"",name:"headerMessage",required:!0,type:{name:"string"}},bodyMessage:{defaultValue:null,description:"",name:"bodyMessage",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/general/InvalidCols.tsx#InvalidCols"]={docgenInfo:I.__docgenInfo,name:"InvalidCols",path:"src/vis/general/InvalidCols.tsx#InvalidCols"})}catch(e){}var q=t("./node_modules/@mantine/core/esm/components/SimpleGrid/SimpleGrid.mjs"),P=t("./node_modules/@mantine/core/esm/components/Loader/Loader.mjs"),L=t("./node_modules/arquero/src/index.js"),j=t("./src/hooks/useAsync.tsx"),B=t("./node_modules/@mantine/core/esm/components/Container/Container.mjs");function N(e){var n=e.xScale,t=e.yRange,a=e.vertPosition,l=e.label,o=e.ticks,i=e.showLines,c=e.compact,s=(e.sortType,e.arrowAsc),d=void 0!==s&&s,f=e.arrowDesc,y=void 0!==f&&f,h=e.setSortType,S=(0,u.useMemo)(function(){return o.length>1?Math.abs(o[1].offset-o[0].offset):n.range()[0]-n.range()[1]},[o,n]);return u.createElement(u.Fragment,null,u.createElement("g",{transform:"translate(".concat(n.range()[1],", ").concat(a+25,")")},u.createElement("foreignObject",{width:Math.abs(n.range()[0]-n.range()[1]),height:20},u.createElement(_.M,null,u.createElement(r.Z,{gap:3,style:{cursor:"pointer"}},y?u.createElement(m.G,{style:{color:"#878E95"},icon:p.Uu6}):null,u.createElement(g.x,{size:void 0!==c&&c?"xs":"md",style:{color:"#878E95"},onClick:function(){return h(l)}},l),d?u.createElement(m.G,{style:{color:"#878E95"},icon:p.I4f}):null)))),u.createElement("path",{transform:"translate(0, ".concat(a,")"),d:["M",n.range()[0],0,"H",n.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),u.createElement("path",{transform:"translate(0, ".concat(t[0],")"),d:["M",n.range()[0],0,"H",n.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),o.map(function(e){var n=e.value,r=e.offset;return u.createElement("g",{key:n,transform:"translate(".concat(r,", ").concat(a,")")},u.createElement("line",{y2:"6",stroke:"currentColor"}),i?u.createElement("line",{y2:"".concat(-(t[1]-t[0])),stroke:"lightgray"}):null,u.createElement("foreignObject",{x:0-S/2,y:10,width:S,height:20},u.createElement(_.M,null,u.createElement(b.u,{withinPortal:!0,label:n},u.createElement(g.x,{px:2,size:"xs",style:{textAlign:"center",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},n)))))}))}try{N.displayName="XAxis",N.__docgenInfo={description:"",displayName:"XAxis",props:{showLines:{defaultValue:null,description:"",name:"showLines",required:!1,type:{name:"boolean"}},xScale:{defaultValue:null,description:"",name:"xScale",required:!0,type:{name:"ScaleLinear<number, number, never> | ScaleBand<string>"}},yRange:{defaultValue:null,description:"",name:"yRange",required:!0,type:{name:"[number, number]"}},vertPosition:{defaultValue:null,description:"",name:"vertPosition",required:!0,type:{name:"number"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},ticks:{defaultValue:null,description:"",name:"ticks",required:!0,type:{name:"{ value: string | number; offset: number; }[]"}},compact:{defaultValue:{value:"false"},description:"",name:"compact",required:!1,type:{name:"boolean"}},sortType:{defaultValue:null,description:"",name:"sortType",required:!0,type:{name:"enum",value:[{value:'"NONE"'},{value:'"CAT_ASC"'},{value:'"CAT_DESC"'},{value:'"COUNT_ASC"'},{value:'"COUNT_DESC"'}]}},arrowAsc:{defaultValue:{value:"false"},description:"",name:"arrowAsc",required:!1,type:{name:"boolean"}},arrowDesc:{defaultValue:{value:"false"},description:"",name:"arrowDesc",required:!1,type:{name:"boolean"}},setSortType:{defaultValue:null,description:"",name:"setSortType",required:!0,type:{name:"(label: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/bar/barComponents/XAxis.tsx#XAxis"]={docgenInfo:N.__docgenInfo,name:"XAxis",path:"src/vis/bar/barComponents/XAxis.tsx#XAxis"})}catch(e){}function M(e){var n=e.yScale,t=e.xRange,a=e.horizontalPosition,l=e.label,o=e.ticks,i=e.showLines,c=e.compact,s=e.arrowAsc,d=void 0!==s&&s,f=e.arrowDesc,y=void 0!==f&&f,b=(e.sortType,e.setSortType),h=(0,u.useMemo)(function(){var e=o.reduce(function(e,n){var t=n.value,r="".concat(t).length;return r>e?r:e},0);return e>5?30:6*e},[o]);return u.createElement(u.Fragment,null,u.createElement("g",{transform:"translate(".concat(a-h-30,", ").concat(n.range()[0],") rotate(-90)")},u.createElement("foreignObject",{width:Math.abs(n.range()[0]-n.range()[1]),height:20},u.createElement(_.M,null,u.createElement(r.Z,{gap:3,style:{cursor:"pointer"}},y?u.createElement(m.G,{style:{color:"#878E95"},icon:p.Uu6}):null,u.createElement(g.x,{size:void 0!==c&&c?"xs":"md",style:{color:"#878E95"},onClick:function(){return b(l)}},l),d?u.createElement(m.G,{style:{color:"#878E95"},icon:p.I4f}):null)))),u.createElement("path",{transform:"translate(".concat(a,", 0)"),d:["M",0,n.range()[0],"V",n.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),u.createElement("path",{transform:"translate(".concat(t[1],", 0)"),d:["M",0,n.range()[0],"V",n.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),o.map(function(e){var n=e.value,l=e.offset;return u.createElement("g",{key:n,transform:"translate(".concat(a,", ").concat(l,")")},u.createElement("line",{x2:"-6",stroke:"currentColor"}),i?u.createElement("line",{x2:"".concat(t[1]-t[0]),stroke:"lightgray"}):null,u.createElement("g",{key:n,style:{transform:"translate(-".concat(h+10,"px, -9px)")}},u.createElement("foreignObject",{width:h,height:20},u.createElement(r.Z,{style:{width:"100%",height:"100%"},justify:"right"},u.createElement(g.x,{truncate:!0,size:"xs"},n)))))}))}try{M.displayName="YAxis",M.__docgenInfo={description:"",displayName:"YAxis",props:{yScale:{defaultValue:null,description:"",name:"yScale",required:!0,type:{name:"ScaleLinear<number, number, never> | ScaleBand<string>"}},xRange:{defaultValue:null,description:"",name:"xRange",required:!0,type:{name:"[number, number]"}},horizontalPosition:{defaultValue:null,description:"",name:"horizontalPosition",required:!0,type:{name:"number"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},ticks:{defaultValue:null,description:"",name:"ticks",required:!0,type:{name:"{ value: string | number; offset: number; }[]"}},showLines:{defaultValue:null,description:"",name:"showLines",required:!1,type:{name:"boolean"}},compact:{defaultValue:{value:"false"},description:"",name:"compact",required:!1,type:{name:"boolean"}},arrowAsc:{defaultValue:{value:"false"},description:"",name:"arrowAsc",required:!1,type:{name:"boolean"}},arrowDesc:{defaultValue:{value:"false"},description:"",name:"arrowDesc",required:!1,type:{name:"boolean"}},sortType:{defaultValue:null,description:"",name:"sortType",required:!0,type:{name:"enum",value:[{value:'"NONE"'},{value:'"CAT_ASC"'},{value:'"CAT_DESC"'},{value:'"COUNT_ASC"'},{value:'"COUNT_DESC"'}]}},setSortType:{defaultValue:null,description:"",name:"setSortType",required:!0,type:{name:"(label: string) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/bar/barComponents/YAxis.tsx#YAxis"]={docgenInfo:M.__docgenInfo,name:"YAxis",path:"src/vis/bar/barComponents/YAxis.tsx#YAxis"})}catch(e){}var D=t("./node_modules/react-spring/dist/react-spring.modern.mjs");function Y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])})}return e}function K(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}function H(e){var n=e.selectedPercent,t=e.x,r=e.width,a=e.y,l=e.height,o=e.tooltip,i=e.color,c=void 0===i?"#878E95":i,s=e.isVertical,d=void 0===s||s,p=e.onClick,m=(0,D.q_)({config:{duration:500,easing:D.Z5.easeOutSine},immediate:!0,to:{x:t,y:a,width:r,height:l}}),f=(0,D.q_)({config:{duration:500,easing:D.Z5.easeOutSine},immediate:!0,to:{x:t,y:d?a+l-l*n:a,width:d?r:r*n,height:d?l*n:l}});return u.createElement(b.u.Floating,{label:o},u.createElement("g",{onClick:function(e){return p(e)}},null===n?u.createElement(D.q.rect,K(Y({},m),{fill:c})):u.createElement("g",null,u.createElement(D.q.rect,K(Y({},m),{fill:c,opacity:.3})),u.createElement(D.q.rect,K(Y({},f),{fill:c})))))}try{H.displayName="SingleBar",H.__docgenInfo={description:"",displayName:"SingleBar",props:{selectedPercent:{defaultValue:null,description:"",name:"selectedPercent",required:!0,type:{name:"number"}},x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"Element"}},color:{defaultValue:{value:"#878E95"},description:"",name:"color",required:!1,type:{name:"string"}},isVertical:{defaultValue:{value:"true"},description:"",name:"isVertical",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(e: MouseEvent<SVGGElement, MouseEvent>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/bar/barComponents/SingleBar.tsx#SingleBar"]={docgenInfo:H.__docgenInfo,name:"SingleBar",path:"src/vis/bar/barComponents/SingleBar.tsx#SingleBar"})}catch(e){}function G(e){var n=e.groupedTable,t=e.categoryScale,r=e.countScale,l=e.categoryName,o=e.groupName,i=e.height,c=e.margin,s=e.width,d=e.groupScale,p=e.groupColorScale,m=e.isVertical,f=void 0===m||m,y=e.hasSelected,b=void 0!==y&&y,h=e.selectionCallback,S=e.aggregateType,v=e.aggregateColumnName,C=void 0===v?null:v,O=(0,u.useMemo)(function(){return n&&0!==s&&0!==i?n.orderby("category","group").objects().map(function(e){return u.createElement(H,{onClick:function(n){return h(n,e.ids)},isVertical:f,selectedPercent:b?e.selectedCount/e.count:null,key:e.category+e.group,x:f?t(e.category)+d(e.group):c.left,width:f?d.bandwidth():s-c.right-r(e.aggregateVal),y:f?r(e.aggregateVal):t(e.category)+d(e.group),tooltip:u.createElement(a.K,{gap:0},u.createElement(g.x,null,"".concat(l,": ").concat(e.category)),u.createElement(g.x,null,"".concat(o,": ").concat(e.group)),u.createElement(g.x,null,"".concat(S).concat(C?" ".concat(C):"",": ").concat(e.aggregateVal))),height:f?i-c.bottom-r(e.aggregateVal):d.bandwidth(),color:p(e.group)})}):null},[n,s,i,f,b,t,d,c.left,c.right,c.bottom,r,l,o,S,C,p,h]);return u.createElement("g",null,O)}try{G.displayName="GroupedBars",G.__docgenInfo={description:"",displayName:"GroupedBars",props:{groupedTable:{defaultValue:null,description:"",name:"groupedTable",required:!0,type:{name:"ColumnTable"}},categoryScale:{defaultValue:null,description:"",name:"categoryScale",required:!0,type:{name:"ScaleBand<string>"}},countScale:{defaultValue:null,description:"",name:"countScale",required:!0,type:{name:"ScaleLinear<number, number, never>"}},categoryName:{defaultValue:null,description:"",name:"categoryName",required:!0,type:{name:"string"}},groupName:{defaultValue:null,description:"",name:"groupName",required:!0,type:{name:"string"}},groupScale:{defaultValue:null,description:"",name:"groupScale",required:!0,type:{name:"ScaleBand<string>"}},groupColorScale:{defaultValue:null,description:"",name:"groupColorScale",required:!0,type:{name:"ScaleOrdinal<string, string, never>"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},margin:{defaultValue:null,description:"",name:"margin",required:!0,type:{name:"{ top: number; bottom: number; left: number; right: number; }"}},isVertical:{defaultValue:{value:"true"},description:"",name:"isVertical",required:!1,type:{name:"boolean"}},selectionCallback:{defaultValue:null,description:"",name:"selectionCallback",required:!0,type:{name:"(e: MouseEvent<SVGGElement, MouseEvent>, ids: string[]) => void"}},hasSelected:{defaultValue:{value:"false"},description:"",name:"hasSelected",required:!1,type:{name:"boolean"}},aggregateType:{defaultValue:null,description:"",name:"aggregateType",required:!1,type:{name:"enum",value:[{value:'"Count"'},{value:'"Minimum"'},{value:'"Average"'},{value:'"Median"'},{value:'"Maximum"'}]}},aggregateColumnName:{defaultValue:{value:"null"},description:"",name:"aggregateColumnName",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/bar/barTypes/GroupedBars.tsx#GroupedBars"]={docgenInfo:G.__docgenInfo,name:"GroupedBars",path:"src/vis/bar/barTypes/GroupedBars.tsx#GroupedBars"})}catch(e){}function z(e){var n=e.aggregatedTable,t=e.categoryScale,r=e.categoryName,l=e.countScale,o=e.height,i=e.width,c=e.margin,s=e.isVertical,d=void 0===s||s,p=e.selectionCallback,m=e.hasSelected,f=void 0!==m&&m,y=e.aggregateType,b=e.aggregateColumnName,h=void 0===b?null:b,S=(0,u.useMemo)(function(){return n&&t&&l&&0!==i&&0!==o?n.objects().map(function(e){return u.createElement(H,{onClick:function(n){return p(n,e.ids)},isVertical:d,selectedPercent:f?e.selectedCount/e.count:null,key:e.category,x:d?t(e.category):c.left,width:d?t.bandwidth():i-c.right-l(e.aggregateVal),y:d?l(e.aggregateVal):t(e.category),tooltip:u.createElement(a.K,{gap:0},u.createElement(g.x,null,"".concat(r,": ").concat(e.category)),u.createElement(g.x,null,"".concat(y).concat(h?" ".concat(h):"",": ").concat(e.aggregateVal))),height:d?o-c.bottom-l(e.aggregateVal):t.bandwidth()})}):null},[n,t,l,i,o,d,f,c.left,c.right,c.bottom,r,y,h,p]);return u.createElement("g",null,S)}try{z.displayName="SimpleBars",z.__docgenInfo={description:"",displayName:"SimpleBars",props:{aggregatedTable:{defaultValue:null,description:"",name:"aggregatedTable",required:!0,type:{name:"ColumnTable"}},categoryScale:{defaultValue:null,description:"",name:"categoryScale",required:!0,type:{name:"ScaleBand<string>"}},categoryName:{defaultValue:null,description:"",name:"categoryName",required:!0,type:{name:"string"}},countScale:{defaultValue:null,description:"",name:"countScale",required:!0,type:{name:"ScaleLinear<number, number, never>"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},margin:{defaultValue:null,description:"",name:"margin",required:!0,type:{name:"{ top: number; bottom: number; left: number; right: number; }"}},isVertical:{defaultValue:{value:"true"},description:"",name:"isVertical",required:!1,type:{name:"boolean"}},selectionCallback:{defaultValue:null,description:"",name:"selectionCallback",required:!0,type:{name:"(e: MouseEvent<SVGGElement, MouseEvent>, ids: string[]) => void"}},hasSelected:{defaultValue:{value:"false"},description:"",name:"hasSelected",required:!1,type:{name:"boolean"}},aggregateType:{defaultValue:null,description:"",name:"aggregateType",required:!0,type:{name:"enum",value:[{value:'"Count"'},{value:'"Minimum"'},{value:'"Average"'},{value:'"Median"'},{value:'"Maximum"'}]}},aggregateColumnName:{defaultValue:{value:"null"},description:"",name:"aggregateColumnName",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/bar/barTypes/SimpleBars.tsx#SimpleBars"]={docgenInfo:z.__docgenInfo,name:"SimpleBars",path:"src/vis/bar/barTypes/SimpleBars.tsx#SimpleBars"})}catch(e){}function U(e){var n=e.groupedTable,t=e.categoryScale,r=e.countScale,l=e.categoryName,o=e.groupName,i=e.height,c=e.margin,s=e.groupColorScale,d=e.width,p=e.normalized,m=void 0!==p&&p,f=e.isVertical,y=e.selectionCallback,b=e.hasSelected,h=e.aggregateType,S=e.aggregateColumnName,v=(0,u.useMemo)(function(){if(n&&0!==d&&0!==i){var e=0,p="";return n.orderby("category","group").objects().map(function(n){p!==n.category&&(e=0,p=n.category);var v=e,C=m?r(r.domain()[1]/n.categoryCount*n.aggregateVal):r(n.aggregateVal);return e=f?v+i-c.bottom-C:v+d-c.right-C,u.createElement(H,{onClick:function(e){return y(e,n.ids)},isVertical:f,selectedPercent:b?n.selectedCount/n.count:null,key:n.category+n.group,x:f?t(n.category):c.left+v,width:f?t.bandwidth():d-c.right-C,y:f?C-v:t(n.category),tooltip:u.createElement(a.K,{gap:0},u.createElement(g.x,null,"".concat(l,": ").concat(n.category)),u.createElement(g.x,null,"".concat(o,": ").concat(n.group)),u.createElement(g.x,null,"".concat(h).concat(S?" ".concat(S):"",": ").concat(n.aggregateVal))),height:f?i-c.bottom-C:t.bandwidth(),color:s(n.group)})})}return null},[S,h,l,t,r,s,o,n,b,i,f,c.bottom,c.left,c.right,m,y,d]);return u.createElement("g",null,v)}try{U.displayName="StackedBars",U.__docgenInfo={description:"",displayName:"StackedBars",props:{groupedTable:{defaultValue:null,description:"",name:"groupedTable",required:!0,type:{name:"ColumnTable"}},categoryScale:{defaultValue:null,description:"",name:"categoryScale",required:!0,type:{name:"ScaleBand<string>"}},categoryName:{defaultValue:null,description:"",name:"categoryName",required:!0,type:{name:"string"}},groupName:{defaultValue:null,description:"",name:"groupName",required:!0,type:{name:"string"}},countScale:{defaultValue:null,description:"",name:"countScale",required:!0,type:{name:"ScaleLinear<number, number, never>"}},groupColorScale:{defaultValue:null,description:"",name:"groupColorScale",required:!0,type:{name:"ScaleOrdinal<string, string, never>"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},margin:{defaultValue:null,description:"",name:"margin",required:!0,type:{name:"{ top: number; bottom: number; left: number; right: number; }"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},normalized:{defaultValue:{value:"false"},description:"",name:"normalized",required:!1,type:{name:"boolean"}},isVertical:{defaultValue:null,description:"",name:"isVertical",required:!0,type:{name:"any"}},selectionCallback:{defaultValue:null,description:"",name:"selectionCallback",required:!0,type:{name:"(e: MouseEvent<SVGGElement, MouseEvent>, ids: string[]) => void"}},hasSelected:{defaultValue:null,description:"",name:"hasSelected",required:!1,type:{name:"boolean"}},aggregateType:{defaultValue:null,description:"",name:"aggregateType",required:!0,type:{name:"enum",value:[{value:'"Count"'},{value:'"Minimum"'},{value:'"Average"'},{value:'"Median"'},{value:'"Maximum"'}]}},aggregateColumnName:{defaultValue:null,description:"",name:"aggregateColumnName",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/bar/barTypes/StackedBars.tsx#StackedBars"]={docgenInfo:U.__docgenInfo,name:"StackedBars",path:"src/vis/bar/barTypes/StackedBars.tsx#StackedBars"})}catch(e){}var F=t("./node_modules/lodash/merge.js"),W=t.n(F);function Z(e,n,t,r,a,l,o){try{var i=e[l](o),u=i.value}catch(e){t(e);return}i.done?n(u):Promise.resolve(u).then(r,a)}function X(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var l=e.apply(n,t);function o(e){Z(l,r,a,o,i,"next",e)}function i(e){Z(l,r,a,o,i,"throw",e)}o(void 0)})}}function $(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])})}return e}function Q(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}function J(e,n){var t,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}function ee(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return(null==e?void 0:e.length)>n?"".concat(e.substring(0,n),"â€¦"):e}function en(e){return e.description?"".concat(e.name,": ").concat(e.description):e.name}function et(e,n,t){var r=!(arguments.length>3)||void 0===arguments[3]||arguments[3];return n.annotations=[],e.plots.filter(function(e,n,t){return e.title&&t.findIndex(function(n){return n.title===e.title})===n}).forEach(function(e){e.title&&n.annotations.push({text:e.title,showarrow:!1,x:.5,y:1.1,xref:"".concat(e.data.xaxis," domain"),yref:"".concat(e.data.yaxis," domain")})}),e.plots.forEach(function(a,l){n["xaxis".concat(l>0?l+1:"")]=Q($({range:a.xDomain?a.xDomain:null},null==t?void 0:t["xaxis".concat(l>0?l+1:"")]),{automargin:r,tickvals:a.xTicks,ticktext:a.xTickLabels,text:a.xTicks,showline:!1,showspikes:!1,spikedash:"dash",ticks:"outside",title:{standoff:5,text:e.plots.length>1?ee(a.xLabel,15):ee(a.xLabel,50),font:{family:"Roboto, sans-serif",size:e.plots.length>1?10:14,color:"#7f7f7f"}}}),n["yaxis".concat(l>0?l+1:"")]=Q($({range:a.yDomain?a.yDomain:null},null==t?void 0:t["yaxis".concat(l>0?l+1:"")]),{automargin:r,tickvals:a.yTicks,ticktext:a.yTickLabels,text:a.yTicks,showline:!1,showspikes:!1,spikedash:"dash",ticks:"outside",title:{standoff:5,text:e.plots.length>1?ee(a.yLabel,15):ee(a.yLabel,50),font:{family:"Roboto, sans-serif",size:e.plots.length>1?10:14,color:"#7f7f7f"}}}),n.shapes.push({type:"line",xref:"".concat(a.data.xaxis," domain"),yref:"".concat(a.data.yaxis," domain"),x0:0,y0:1,x1:1,y1:1,line:{color:"rgb(238, 238, 238)",width:2},opacity:1,row:2,col:2}),n.shapes.push({type:"line",xref:"".concat(a.data.xaxis," domain"),yref:"".concat(a.data.yaxis," domain"),x0:0,y0:0,x1:1,y1:0,line:{color:"rgb(238, 238, 238)",width:2},opacity:1,row:2,col:2}),n.shapes.push({type:"line",xref:"".concat(a.data.xaxis," domain"),yref:"".concat(a.data.yaxis," domain"),x0:0,y0:0,x1:0,y1:1,line:{color:"rgb(238, 238, 238)",width:2},opacity:1,row:2,col:2}),n.shapes.push({type:"line",xref:"".concat(a.data.xaxis," domain"),yref:"".concat(a.data.yaxis," domain"),x0:1,y0:0,x1:1,y1:1,line:{color:"rgb(238, 238, 238)",width:2},opacity:1,row:2,col:2})}),n}function er(e){return Promise.all(e.map(function(){var e=X(function(e){var n,t;return J(this,function(r){switch(r.label){case 0:return n=[$({},e)],t={},[4,null==e?void 0:e.values()];case 1:return[2,Q.apply(void 0,n.concat([(t.resolvedValues=r.sent()||[],t)]))]}})});return function(n){return e.apply(this,arguments)}}()))}function ea(e){return el.apply(this,arguments)}function el(){return(el=X(function(e){var n,t;return J(this,function(r){switch(r.label){case 0:if(!e)return[2,null];return n=[$({},e)],t={},[4,e.values()];case 1:return[2,Q.apply(void 0,n.concat([(t.resolvedValues=r.sent(),t)]))]}})})).apply(this,arguments)}function eo(e){return ei.apply(this,arguments)}function ei(){return(ei=X(function(e){var n;return J(this,function(t){switch(t.label){case 0:return[4,er(e.filter(function(e){return e.isLabel}))];case 1:return n=t.sent().map(function(e){return e.resolvedValues}).reduce(function(e,n){return n.forEach(function(n){null==e[n.id]&&(e[n.id]=n.val)}),e},{}),[2,function(e){var t;return null!==(t=n[e])&&void 0!==t?t:e}]}})})).apply(this,arguments)}var eu=t("./src/vis/bar/interfaces.ts");function ec(e,n,t,r,a,l,o){try{var i=e[l](o),u=i.value}catch(e){t(e);return}i.done?n(u):Promise.resolve(u).then(r,a)}function es(e,n){var t=W()({},eu.u_,n),r=e.filter(function(e){return e.type===x.ae.CATEGORICAL}),a=e.filter(function(e){return e.type===x.ae.NUMERICAL});return!t.catColumnSelected&&r.length>0&&(t.catColumnSelected=r[r.length-1].info),!t.aggregateColumn&&a.length>0&&(t.aggregateColumn=a[a.length-1].info),t}function ed(e,n){switch(n){case x.Ym.COUNT:return e.rollup({aggregateVal:function(){return L.op.count()}});case x.Ym.AVG:return e.rollup({aggregateVal:function(e){return L.op.average(e.aggregateVal)}});case x.Ym.MIN:return e.rollup({aggregateVal:function(e){return L.op.min(e.aggregateVal)}});case x.Ym.MED:return e.rollup({aggregateVal:function(e){return L.op.median(e.aggregateVal)}});case x.Ym.MAX:return e.rollup({aggregateVal:function(e){return L.op.max(e.aggregateVal)}});default:return null}}function ep(e,n,t,r,a){return em.apply(this,arguments)}function em(){return(em=function(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var l=e.apply(n,t);function o(e){ec(l,r,a,o,i,"next",e)}function i(e){ec(l,r,a,o,i,"throw",e)}o(void 0)})}}(function(e,n,t,r,a){var l,o,i,u;return function(e,n){var t,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}(this,function(c){switch(c.label){case 0:return[4,ea(e.find(function(e){return e.info.id===n.id}))];case 1:return l=c.sent(),[4,ea(t?e.find(function(e){return e.info.id===t.id}):null)];case 2:return o=c.sent(),[4,ea(r?e.find(function(e){return e.info.id===r.id}):null)];case 3:return i=c.sent(),[4,ea(a?e.find(function(e){return e.info.id===a.id}):null)];case 4:return u=c.sent(),[2,{catColVals:l,groupColVals:o,multiplesColVals:i,aggregateColVals:u}]}})})).apply(this,arguments)}function ef(e,n,t,r,a,l,o,c,s,d){var p=function(e,n,t,r,a,l,o,c,s){var d=(0,u.useMemo)(function(){if(null==e?void 0:e.catColVals){var n,t,r;return(0,L.Kz)({category:e.catColVals.resolvedValues.map(function(e){return e.val}),group:null==e?void 0:null===(n=e.groupColVals)||void 0===n?void 0:n.resolvedValues.map(function(e){return e.val}),multiples:(null==e?void 0:null===(t=e.multiplesColVals)||void 0===t?void 0:t.resolvedValues.map(function(e){return e.val}))||[],selected:e.catColVals.resolvedValues.map(function(e){return o[e.id]?1:0}),aggregateVal:(null==e?void 0:null===(r=e.aggregateColVals)||void 0===r?void 0:r.resolvedValues.map(function(e){return e.val}))||[],id:e.catColVals.resolvedValues.map(function(e){return e.id})})}return null},[e,o]),p=(0,u.useMemo)(function(){switch(s){case x.Ym.COUNT:return function(e){return L.op.count()};case x.Ym.AVG:return function(e){return L.op.average(e.aggregateVal)};case x.Ym.MIN:return function(e){return L.op.min(e.aggregateVal)};case x.Ym.MED:return function(e){return L.op.median(e.aggregateVal)};case x.Ym.MAX:return function(e){return L.op.max(e.aggregateVal)};default:return function(e){return L.op.count()}}},[s]),m=(0,u.useMemo)(function(){if(null==e?void 0:e.catColVals){var n=d;return a&&(null==e?void 0:e.multiplesColVals)&&(n=d.params({categoryFilter:a}).filter(function(e,n){return e.multiples===n.categoryFilter})),(0,L.UA)("aggregateFunc",p,{override:!0}),n.groupby("category").rollup({aggregateVal:p,count:L.op.count(),selectedCount:function(e){return L.op.sum(e.selected)},ids:function(e){return L.op.array_agg(e.id)}}).orderby("category")}return null},[p,null==e?void 0:e.catColVals,null==e?void 0:e.multiplesColVals,d,a]),f=(0,u.useMemo)(function(){return m?i.BYU().range(l?[n-r.bottom,r.top]:[t-r.right,r.left]).domain([0,+i.Fp7(m.array("aggregateVal"))+ +i.Fp7(m.array("aggregateVal"))/25]):null},[m,n,l,r,t]),y=(0,u.useMemo)(function(){return m?i.tiA().range(l?[t-r.right,r.left]:[n-r.bottom,r.top]).domain((function(e,n){switch(n){case eu.fD.CAT_ASC:return e.orderby("category");case eu.fD.CAT_DESC:return e.orderby((0,L.C8)("category"));case eu.fD.COUNT_ASC:return e.orderby("count");case eu.fD.COUNT_DESC:return e.orderby((0,L.C8)("count"));default:return e}})(m,c).array("category")).padding(.2):null},[m,n,l,r.bottom,r.left,r.right,r.top,c,t]);return{aggregatedTable:m,baseTable:d,countScale:f,categoryScale:y}}(e,n,t,r,a,l,o,s,d),m=p.aggregatedTable,f=p.categoryScale,y=p.countScale,g=p.baseTable,b=(0,u.useMemo)(function(){if(!e)return null;if(e.groupColVals){var n=g;return a&&e.multiplesColVals&&(n=g.filter((0,L.YU)(function(e){return e.multiples===a}))),e.groupColVals.type===x.ae.NUMERICAL?function(e,n){switch(n){case x.Ym.COUNT:return e.groupby("category",{group:(0,L.Ly)("group",{maxbins:9}),group_max:(0,L.Ly)("group",{maxbins:9,offset:1})}).rollup({aggregateVal:function(){return L.op.count()},count:L.op.count(),selectedCount:function(e){return L.op.sum(e.selected)},ids:function(e){return L.op.array_agg(e.id)}}).orderby("group").groupby("category").derive({categoryCount:function(e){return L.op.sum(e.count)}});case x.Ym.AVG:return e.groupby("category",{group:(0,L.Ly)("group",{maxbins:9}),group_max:(0,L.Ly)("group",{maxbins:9,offset:1})}).rollup({aggregateVal:function(e){return L.op.average(e.aggregateVal)},count:L.op.count(),selectedCount:function(e){return L.op.sum(e.selected)},ids:function(e){return L.op.array_agg(e.id)}}).orderby("group").groupby("category").derive({categoryCount:function(e){return L.op.sum(e.count)}});case x.Ym.MIN:return e.groupby("category",{group:(0,L.Ly)("group",{maxbins:9}),group_max:(0,L.Ly)("group",{maxbins:9,offset:1})}).rollup({aggregateVal:function(e){return L.op.min(e.aggregateVal)},count:L.op.count(),selectedCount:function(e){return L.op.sum(e.selected)},ids:function(e){return L.op.array_agg(e.id)}}).orderby("group").groupby("category").derive({categoryCount:function(e){return L.op.sum(e.count)}});case x.Ym.MED:return e.groupby("category",{group:(0,L.Ly)("group",{maxbins:9}),group_max:(0,L.Ly)("group",{maxbins:9,offset:1})}).rollup({aggregateVal:function(e){return L.op.median(e.aggregateVal)},count:L.op.count(),selectedCount:function(e){return L.op.sum(e.selected)},ids:function(e){return L.op.array_agg(e.id)}}).orderby("group").groupby("category").derive({categoryCount:function(e){return L.op.sum(e.count)}});case x.Ym.MAX:return e.groupby("category",{group:(0,L.Ly)("group",{maxbins:9}),group_max:(0,L.Ly)("group",{maxbins:9,offset:1})}).rollup({aggregateVal:function(e){return L.op.max(e.aggregateVal)},count:L.op.count(),selectedCount:function(e){return L.op.sum(e.selected)},ids:function(e){return L.op.array_agg(e.id)}}).orderby("group").groupby("category").derive({categoryCount:function(e){return L.op.sum(e.count)}});default:return null}}(n,d):function(e,n){switch(n){case x.Ym.COUNT:return e.groupby("category","group").rollup({aggregateVal:function(){return L.op.count()},count:L.op.count(),selectedCount:function(e){return L.op.sum(e.selected)},ids:function(e){return L.op.array_agg(e.id)}}).orderby("category").groupby("category").derive({categoryCount:function(e){return L.op.sum(e.count)}});case x.Ym.AVG:return e.groupby("category","group").rollup({aggregateVal:function(e){return L.op.average(e.aggregateVal)},count:L.op.count(),selectedCount:function(e){return L.op.sum(e.selected)},ids:function(e){return L.op.array_agg(e.id)}}).orderby("category").groupby("category").derive({categoryCount:function(e){return L.op.sum(e.count)}});case x.Ym.MIN:return e.groupby("category","group").rollup({aggregateVal:function(e){return L.op.min(e.aggregateVal)},count:L.op.count(),selectedCount:function(e){return L.op.sum(e.selected)},ids:function(e){return L.op.array_agg(e.id)}}).orderby("category").groupby("category").derive({categoryCount:function(e){return L.op.sum(e.count)}});case x.Ym.MED:return e.groupby("category","group").rollup({aggregateVal:function(e){return L.op.median(e.aggregateVal)},count:L.op.count(),selectedCount:function(e){return L.op.sum(e.selected)},ids:function(e){return L.op.array_agg(e.id)}}).orderby("category").groupby("category").derive({categoryCount:function(e){return L.op.sum(e.count)}});case x.Ym.MAX:return e.groupby("category","group").rollup({aggregateVal:function(e){return L.op.max(e.aggregateVal)},count:L.op.count(),selectedCount:function(e){return L.op.sum(e.selected)},ids:function(e){return L.op.array_agg(e.id)}}).orderby("category").groupby("category").derive({categoryCount:function(e){return L.op.sum(e.count)}});default:return null}}(n,d)}return null},[d,e,g,a]),h=(0,u.useMemo)(function(){if(!b)return null;var n=["#337ab7","#ec6836","#75c4c2","#e9d36c","#24b466","#e891ae","#db933c","#b08aa6","#8a6044","#7b7b7b"],t=-1,r=b.ungroup().groupby("group").count(),a=e.groupColVals.color?r.array("group").sort().map(function(r){return t+=1,e.groupColVals.color[r]||n[t%n.length]}):n,l=r.array("group").sort(),o=e.groupColVals.type===x.ae.NUMERICAL?i.KHk[r.array("group").length>3?r.array("group").length:3]:a;return i.PKp().domain(l).range(o)},[b,e]),S=(0,u.useMemo)(function(){if(!b)return null;var e=b.ungroup().groupby("category","group").count();return i.tiA().range([0,f.bandwidth()]).domain(e.array("group").sort()).padding(.1)},[f,b]);return{aggregatedTable:m,countScale:(0,u.useMemo)(function(){if(!e)return null;if(!e.multiplesColVals){if(!b||c===eu._G.STACK&&d===x.Ym.COUNT)return y;if(c===eu._G.STACK){var n=+i.Fp7(b.groupby("category").rollup({sum:function(e){return L.op.sum(e.aggregateVal)}}).array("sum"));return y.copy().domain([0,n+n/25])}var t=+i.Fp7(b.array("aggregateVal"));return y.copy().domain([0,t+t/25])}if(!b||c===eu._G.STACK&&d===x.Ym.COUNT){var r=+i.Fp7(ed(g.groupby("category","multiples"),d).array("aggregateVal"));return y.copy().domain([0,r+r/25])}if(c===eu._G.STACK){var a=+i.Fp7(ed(g.groupby("category","group","multiples"),d).groupby("category","multiples").rollup({sum:function(e){return L.op.sum(e.aggregateVal)}}).array("sum"));return y.copy().domain([0,a+a/25])}var l=+i.Fp7(ed(g.groupby("group","category","multiples"),d).array("aggregateVal"));return y.copy().domain([0,l+l/25])},[d,e,g,y,c,b]),categoryScale:f,groupColorScale:h,groupScale:S,groupedTable:b}}function ey(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var eg={top:30,bottom:60,left:60,right:25};function eb(e){var n,t,r,a,l,i,c,s=e.allColumns,d=e.config,p=e.categoryFilter,m=e.title,y=e.selectedMap,g=e.selectedList,b=e.selectionCallback,h=e.isSmall,S=void 0!==h&&h,v=e.sortType,C=e.setSortType,O=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(t=a.next()).done)&&(l.push(t.value),!n||l.length!==n);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return ey(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ey(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,o.y)(),2),E=O[0],V=O[1],w=V.height,T=V.width,A=ef(s,w,T,eg,p,d.direction===eu.Fb.VERTICAL,y,d.groupType,v,d.aggregateType),_=A.aggregatedTable,k=A.categoryScale,R=A.countScale,I=A.groupColorScale,q=A.groupScale,P=A.groupedTable,L=(0,u.useMemo)(function(){return null==k?void 0:k.domain().map(function(e){return{value:e,offset:k(e)+k.bandwidth()/2}})},[k]),j=(0,u.useMemo)(function(){return d.display===eu.Ln.NORMALIZED&&d.groupType===eu._G.STACK&&d.group?R.copy().domain([0,1]):R},[d.display,d.group,d.groupType,R]),D=(0,u.useMemo)(function(){if(!j)return null;if(d.direction!==eu.Fb.VERTICAL){var e=j.copy().domain([j.domain()[1],j.domain()[0]]);return e.ticks(5).map(function(n){return{value:n,offset:e(n)}})}return j.ticks(5).map(function(e){return{value:e,offset:j(e)}})},[d.direction,j]),Y=(0,u.useCallback)(function(e){e===d.catColumnSelected.name?v===eu.fD.CAT_ASC?C(eu.fD.CAT_DESC):v===eu.fD.CAT_DESC?C(eu.fD.NONE):C(eu.fD.CAT_ASC):v===eu.fD.COUNT_ASC?C(eu.fD.COUNT_DESC):v===eu.fD.COUNT_DESC?C(eu.fD.NONE):C(eu.fD.COUNT_ASC)},[d.catColumnSelected.name,C,v]);return u.createElement(f.x,{ref:E,style:{maxWidth:"100%",maxHeight:"100%",position:"relative",overflow:"hidden"}},u.createElement(B.W,{fluid:!0,pl:0,pr:0,style:{height:w,width:"100%",".overlay":{cursor:"default !important"}}},u.createElement("svg",{width:T,height:w},u.createElement("g",null,R&&k?u.createElement("text",{dominantBaseline:"middle",style:{fontWeight:500,fill:"#505459"},textAnchor:"middle",transform:"translate(".concat(d.direction===eu.Fb.VERTICAL?(k.range()[0]+k.range()[1])/2:(R.range()[0]+R.range()[1])/2,", ").concat(eg.top-20,")")},m):null,u.createElement("rect",{x:eg.left,y:eg.top,width:T-eg.left-eg.right,height:w-eg.top-eg.bottom,fill:"transparent",onClick:function(e){return b(e,[])}}),R&&k?d.direction===eu.Fb.VERTICAL?u.createElement(M,{compact:S,yScale:R,xRange:[k.range()[1],k.range()[0]],horizontalPosition:eg.left,showLines:!0,label:d.display===eu.Ln.NORMALIZED&&d.groupType===eu._G.STACK&&d.group?"".concat(d.aggregateType," ").concat(d.aggregateType!==x.Ym.COUNT&&(null==d?void 0:null===(n=d.aggregateColumn)||void 0===n?void 0:n.name)||""," %"):"".concat(d.aggregateType," ").concat(d.aggregateType!==x.Ym.COUNT&&(null==d?void 0:null===(t=d.aggregateColumn)||void 0===t?void 0:t.name)||""),ticks:D,arrowDesc:v===eu.fD.COUNT_DESC,arrowAsc:v===eu.fD.COUNT_ASC,sortType:v,setSortType:Y}):u.createElement(M,{compact:S,yScale:k,xRange:[R.range()[1],R.range()[0]],horizontalPosition:eg.left,showLines:!1,label:d.catColumnSelected.name,ticks:L,arrowDesc:v===eu.fD.CAT_DESC,arrowAsc:v===eu.fD.CAT_ASC,sortType:v,setSortType:Y}):null,k&&R?d.direction===eu.Fb.VERTICAL?u.createElement(N,{compact:S,xScale:k,yRange:[R.range()[1],R.range()[0]],vertPosition:w-eg.bottom,label:d.catColumnSelected.name,showLines:!1,ticks:L,arrowDesc:v===eu.fD.CAT_DESC,arrowAsc:v===eu.fD.CAT_ASC,sortType:v,setSortType:Y}):u.createElement(N,{compact:S,xScale:R,yRange:[k.range()[1],k.range()[0]],vertPosition:w-eg.bottom,label:d.display===eu.Ln.NORMALIZED&&d.groupType===eu._G.STACK&&d.group?"".concat(d.aggregateType," ").concat(d.aggregateType!==x.Ym.COUNT&&(null==d?void 0:null===(r=d.aggregateColumn)||void 0===r?void 0:r.name)||""," %"):"".concat(d.aggregateType," ").concat(d.aggregateType!==x.Ym.COUNT&&(null==d?void 0:null===(a=d.aggregateColumn)||void 0===a?void 0:a.name)||""),showLines:!0,ticks:D,arrowDesc:v===eu.fD.COUNT_DESC,arrowAsc:v===eu.fD.COUNT_ASC,sortType:v,setSortType:Y}):null,d.group?d.groupType===eu._G.GROUP?u.createElement(G,{categoryName:d.catColumnSelected.name,groupName:d.group.name,selectionCallback:b,hasSelected:g.length>0,groupedTable:P,groupScale:q,categoryScale:k,countScale:R,groupColorScale:I,width:T,height:w,margin:eg,aggregateType:d.aggregateType,isVertical:d.direction===eu.Fb.VERTICAL,aggregateColumnName:null===(l=d.aggregateColumn)||void 0===l?void 0:l.name}):u.createElement(U,{categoryName:d.catColumnSelected.name,groupName:d.group.name,selectionCallback:b,hasSelected:g.length>0,groupedTable:P,categoryScale:k,countScale:R,groupColorScale:I,height:w,margin:eg,width:T,isVertical:d.direction===eu.Fb.VERTICAL,normalized:d.display===eu.Ln.NORMALIZED,aggregateType:d.aggregateType,aggregateColumnName:null===(i=d.aggregateColumn)||void 0===i?void 0:i.name}):u.createElement(z,{categoryName:d.catColumnSelected.name,hasSelected:g.length>0,selectionCallback:b,aggregatedTable:_,categoryScale:k,countScale:R,height:w,margin:eg,width:T,aggregateType:d.aggregateType,isVertical:d.direction===eu.Fb.VERTICAL,aggregateColumnName:null===(c=d.aggregateColumn)||void 0===c?void 0:c.name})))))}try{eb.displayName="SingleBarChart",eb.__docgenInfo={description:"",displayName:"SingleBarChart",props:{allColumns:{defaultValue:null,description:"",name:"allColumns",required:!0,type:{name:"{ catColVals: { resolvedValues: (VisNumericalValue | VisCategoricalValue)[]; type: EColumnTypes; info: ColumnInfo; }; groupColVals: { ...; }; multiplesColVals: { ...; }; aggregateColVals: { ...; }; }"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IBarConfig"}},selectedMap:{defaultValue:null,description:"",name:"selectedMap",required:!0,type:{name:"Record<string, boolean>"}},selectedList:{defaultValue:null,description:"",name:"selectedList",required:!0,type:{name:"string[]"}},categoryFilter:{defaultValue:null,description:"",name:"categoryFilter",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},selectionCallback:{defaultValue:null,description:"",name:"selectionCallback",required:!1,type:{name:"(e: MouseEvent<SVGGElement, MouseEvent>, ids: string[]) => void"}},isSmall:{defaultValue:{value:"false"},description:"",name:"isSmall",required:!1,type:{name:"boolean"}},sortType:{defaultValue:null,description:"",name:"sortType",required:!0,type:{name:"enum",value:[{value:'"NONE"'},{value:'"CAT_ASC"'},{value:'"CAT_DESC"'},{value:'"COUNT_ASC"'},{value:'"COUNT_DESC"'}]}},setSortType:{defaultValue:null,description:"",name:"setSortType",required:!0,type:{name:"(sortType: SortTypes) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/bar/SingleBarChart.tsx#SingleBarChart"]={docgenInfo:eb.__docgenInfo,name:"SingleBarChart",path:"src/vis/bar/SingleBarChart.tsx#SingleBarChart"})}catch(e){}function eh(e){var n=e.categories,t=e.colorScale,l=e.onClick,o=e.height,i=e.groupedIds,c=e.left,s=e.isNumerical,d=void 0!==s&&s,p=e.stepSize,m=void 0===p?0:p,f=e.selectedList,h=e.selectionCallback,S=(0,u.useMemo)(function(){return n.find(function(e){var n,t=(null===(n=i.find(function(n){return n.group===e}))||void 0===n?void 0:n.ids)||[];return f.length===t.length&&f.every(function(e,n){return e===t[n]})})},[n,i,f]);return u.createElement(y.x,{style:{height:o,marginLeft:c,flexShrink:0}},u.createElement(r.Z,{style:{width:"100%"},gap:2},n.map(function(e){var n,r=(null===(n=i.find(function(n){return n.group===e}))||void 0===n?void 0:n.ids)||[];return u.createElement(b.u,{withinPortal:!0,key:e,label:e,withArrow:!0,arrowSize:6},u.createElement(a.K,{gap:0,onClick:function(e){return h(e,r)},style:{cursor:"pointer"}},u.createElement("svg",{width:"60px",height:"10px"},u.createElement("rect",{width:"60px",height:"10px",fill:t(e),opacity:S?S===e?1:.5:1})),u.createElement(_.M,null,u.createElement(g.x,{size:"xs",onClick:function(){return l(e)}},d?"".concat(e," - ").concat(+e+m):e))))})))}try{eh.displayName="Legend",eh.__docgenInfo={description:"",displayName:"Legend",props:{categories:{defaultValue:null,description:"",name:"categories",required:!0,type:{name:"string[]"}},groupedIds:{defaultValue:null,description:"",name:"groupedIds",required:!0,type:{name:"{ group: string; ids: string[]; }[]"}},colorScale:{defaultValue:null,description:"",name:"colorScale",required:!0,type:{name:"ScaleOrdinal<string, string, never>"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(string: any) => void"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},left:{defaultValue:null,description:"",name:"left",required:!0,type:{name:"number"}},isNumerical:{defaultValue:{value:"false"},description:"",name:"isNumerical",required:!1,type:{name:"boolean"}},stepSize:{defaultValue:{value:"0"},description:"",name:"stepSize",required:!1,type:{name:"number"}},selectedList:{defaultValue:null,description:"",name:"selectedList",required:!0,type:{name:"string[]"}},selectionCallback:{defaultValue:null,description:"",name:"selectionCallback",required:!0,type:{name:"(e: MouseEvent<HTMLDivElement, MouseEvent>, ids: string[]) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/bar/barComponents/Legend.tsx#Legend"]={docgenInfo:eh.__docgenInfo,name:"Legend",path:"src/vis/bar/barComponents/Legend.tsx#Legend"})}catch(e){}function eS(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function ev(e){return function(e){if(Array.isArray(e))return eS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eC(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eC(e,n){if(e){if("string"==typeof e)return eS(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return eS(e,n)}}function eO(e){var n,t,r=e.config,l=e.columns,o=e.selectedMap,i=e.selectedList,c=e.selectionCallback,s=(0,j.r)(ep,[l,r.catColumnSelected,r.group,r.multiples,r.aggregateColumn]),d=s.value,p=s.status,m=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(t=a.next()).done)&&(l.push(t.value),!n||l.length!==n);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}}(e,n)||eC(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(u.useState(eu.fD.NONE),2),y=m[0],g=m[1],b=(0,u.useMemo)(function(){var e;return ev(new Set(null==d?void 0:null===(e=d.multiplesColVals)||void 0===e?void 0:e.resolvedValues.map(function(e){return e.val})))},[d]),h=ef(d,0,0,{left:0,top:0,right:0,bottom:0},null,!0,o,r.groupType,y,r.aggregateType),S=h.groupColorScale,v=h.groupedTable,C=(0,u.useMemo)(function(){return v?v.groupby("group").rollup({ids:L.op.array_agg("ids")}).objects().map(function(e){return{group:e.group,ids:e.ids.flat()}}):[]},[v]),O=(0,u.useCallback)(function(e,n){if(e.ctrlKey){c(ev(new Set(ev(i).concat(ev(n)))));return}c&&(i.length===n.length&&i.every(function(e,t){return e===n[t]})?c([]):c(n))},[i,c]);return u.createElement(a.K,{style:{width:"100%",height:"100%",position:"relative"},gap:0},u.createElement(f.x,{style:{height:"30px"}},S?u.createElement(eh,{groupedIds:C,selectedList:i,selectionCallback:O,left:60,categories:S.domain(),isNumerical:(null===(n=d.groupColVals)||void 0===n?void 0:n.type)===x.ae.NUMERICAL,colorScale:S,height:30,onClick:function(){return null},stepSize:(null===(t=d.groupColVals)||void 0===t?void 0:t.type)===x.ae.NUMERICAL?v.get("group_max",0)-v.get("group",0):0}):null),u.createElement(q.M,{cols:Math.round(Math.sqrt(b.length)),spacing:0,style:{height:"inherit",overflow:"hidden"}},"success"!==p?u.createElement(_.M,null,u.createElement(P.a,null)):r.multiples&&d.multiplesColVals?b.map(function(e){return u.createElement(eb,{isSmall:!0,selectedList:i,selectedMap:o,key:e,config:r,allColumns:d,categoryFilter:e,title:e,selectionCallback:O,sortType:y,setSortType:g})}):u.createElement(eb,{config:r,allColumns:d,selectedMap:o,selectionCallback:O,selectedList:i,sortType:y,setSortType:g})))}try{eO.displayName="BarChart",eO.__docgenInfo={description:"",displayName:"BarChart",props:{config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IBarConfig"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},selectedMap:{defaultValue:null,description:"",name:"selectedMap",required:!0,type:{name:"Record<string, boolean>"}},selectedList:{defaultValue:null,description:"",name:"selectedList",required:!0,type:{name:"string[]"}},selectionCallback:{defaultValue:null,description:"",name:"selectionCallback",required:!1,type:{name:"(ids: string[]) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/bar/BarChart.tsx#BarChart"]={docgenInfo:eO.__docgenInfo,name:"BarChart",path:"src/vis/bar/BarChart.tsx#BarChart"})}catch(e){}function eE(e){var n=e.config,t=e.columns,r=e.selectionCallback,l=e.selectedMap,o=e.selectedList;return u.createElement(a.K,{p:0,style:{height:"100%",overflow:"hidden",width:"100%",position:"relative"}},n.catColumnSelected?u.createElement(eO,{config:n,columns:t,selectedMap:void 0===l?{}:l,selectionCallback:void 0===r?function(){return null}:r,selectedList:void 0===o?[]:o}):u.createElement(I,{headerMessage:"Invalid settings",bodyMessage:"To create a bar chart, please select at least 1 column."}))}try{eE.displayName="BarVis",eE.__docgenInfo={description:"",displayName:"BarVis",props:{config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"IBarConfig"}},setConfig:{defaultValue:null,description:"",name:"setConfig",required:!1,type:{name:"(config: IBarConfig) => void"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},optionsConfig:{defaultValue:null,description:"",name:"optionsConfig",required:!1,type:{name:"any"}},colors:{defaultValue:null,description:"",name:"colors",required:!1,type:{name:"string[]"}},shapes:{defaultValue:null,description:"",name:"shapes",required:!1,type:{name:"string[]"}},filterCallback:{defaultValue:null,description:"",name:"filterCallback",required:!1,type:{name:"(s: EFilterOptions) => void"}},selectionCallback:{defaultValue:{value:"() => null"},description:"",name:"selectionCallback",required:!1,type:{name:"(s: string[]) => void"}},selectedMap:{defaultValue:{value:"{}"},description:"",name:"selectedMap",required:!1,type:{name:"{ [key: string]: boolean; }"}},selectedList:{defaultValue:{value:"[]"},description:"",name:"selectedList",required:!1,type:{name:"string[]"}},showCloseButton:{defaultValue:null,description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},closeButtonCallback:{defaultValue:null,description:"",name:"closeButtonCallback",required:!1,type:{name:"() => void"}},scales:{defaultValue:null,description:"",name:"scales",required:!1,type:{name:"Scales"}},enableSidebar:{defaultValue:null,description:"",name:"enableSidebar",required:!1,type:{name:"boolean"}},showSidebar:{defaultValue:null,description:"",name:"showSidebar",required:!1,type:{name:"boolean"}},showSidebarDefault:{defaultValue:null,description:"",name:"showSidebarDefault",required:!1,type:{name:"boolean"}},setShowSidebar:{defaultValue:null,description:"",name:"setShowSidebar",required:!1,type:{name:"(s: boolean) => void"}},extensions:{defaultValue:null,description:"",name:"extensions",required:!1,type:{name:"{ prePlot?: ReactNode; postPlot?: ReactNode; preSidebar?: ReactNode; postSidebar?: ReactNode; }"}},scrollZoom:{defaultValue:null,description:"",name:"scrollZoom",required:!1,type:{name:"boolean"}},showDragModeOptions:{defaultValue:null,description:"",name:"showDragModeOptions",required:!1,type:{name:"boolean"}},dimensions:{defaultValue:null,description:"",name:"dimensions",required:!0,type:{name:"{ width: number; height: number; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/bar/BarVis.tsx#BarVis"]={docgenInfo:eE.__docgenInfo,name:"BarVis",path:"src/vis/bar/BarVis.tsx#BarVis"})}catch(e){}var eV=t("./node_modules/@mantine/core/esm/components/Combobox/use-combobox/use-combobox.mjs"),ex=t("./node_modules/@mantine/core/esm/components/Combobox/Combobox.mjs"),ew=t("./node_modules/@mantine/core/esm/components/Checkbox/CheckIcon.mjs"),eT=t("./node_modules/@mantine/core/esm/components/InputBase/InputBase.mjs"),eA=t("./node_modules/@mantine/core/esm/components/CloseButton/CloseButton.mjs"),e_=t("./node_modules/@mantine/core/esm/components/Input/Input.mjs");function ek(e){var n=e.callback,t=e.columns,a=e.currentSelected,l=e.columnType,o=e.label,i=e.isClearable,c=u.useMemo(function(){return l?t.filter(function(e){return e.type===l}):t},[l,t]),s=(0,eV.K)({onDropdownClose:function(){return s.resetSelectedOption()},onDropdownOpen:function(){return s.updateSelectedOptionIndex("active")}}),d=c.map(function(e){return u.createElement(ex.h.Option,{value:e.info.name,key:e.info.id,active:e.info.id===(null==a?void 0:a.id)},u.createElement(r.Z,{gap:"xs"},e.info.id===(null==a?void 0:a.id)&&u.createElement(g.x,{c:"gray.6"},u.createElement(ew.n,{size:12})),u.createElement("span",null,e.info.name)))});return u.createElement(ex.h,{store:s,withinPortal:!1,onOptionSubmit:function(e){var t;n(null===(t=c.find(function(n){return n.info.name===e}))||void 0===t?void 0:t.info),s.closeDropdown()}},u.createElement(ex.h.Target,null,u.createElement(eT.M,{component:"button",label:o,type:"button",pointer:!0,onClick:function(){return s.toggleDropdown()},rightSectionPointerEvents:null===a?"none":"all",rightSection:null!==a&&(void 0===i||i)?u.createElement(eA.P,{size:"sm",onMouseDown:function(e){return e.preventDefault()},onClick:function(){return n(null)},"aria-label":"Clear value"}):u.createElement(ex.h.Chevron,null)},(null==a?void 0:a.name)||u.createElement(e_.I.Placeholder,null,"Select a column"))),u.createElement(ex.h.Dropdown,null,u.createElement(ex.h.Options,null,d)))}try{ek.displayName="SingleSelect",ek.__docgenInfo={description:"",displayName:"SingleSelect",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(value: ColumnInfo) => void"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},currentSelected:{defaultValue:null,description:"",name:"currentSelected",required:!0,type:{name:"ColumnInfo"}},columnType:{defaultValue:null,description:"If null, all columns are selectable",name:"columnType",required:!0,type:{name:"enum",value:[{value:'"Numerical"'},{value:'"Categorical"'}]}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},isClearable:{defaultValue:{value:"true"},description:"",name:"isClearable",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/sidebar/SingleSelect.tsx#SingleSelect"]={docgenInfo:ek.__docgenInfo,name:"SingleSelect",path:"src/vis/sidebar/SingleSelect.tsx#SingleSelect"})}catch(e){}function eR(e){var n=e.aggregateTypeSelectCallback,t=e.aggregateColumnSelectCallback,r=e.columns,a=e.currentSelected,l=e.aggregateColumn,o=(0,u.useMemo)(function(){return!!r.find(function(e){return e.type===x.ae.NUMERICAL})},[r]),i=u.useMemo(function(){return[{disabled:!1,value:x.Ym.COUNT,label:x.Ym.COUNT},{disabled:!o,value:x.Ym.AVG,label:x.Ym.AVG},{disabled:!o,value:x.Ym.MIN,label:x.Ym.MIN},{disabled:!o,value:x.Ym.MAX,label:x.Ym.MAX},{disabled:!o,value:x.Ym.MED,label:x.Ym.MED}]},[o]);return u.createElement(u.Fragment,null,u.createElement(C.P,{label:"Aggregate type",onChange:function(e){return n(e)},name:"numColumns",data:i||[],value:a||""}),a!==x.Ym.COUNT?u.createElement(ek,{columnType:x.ae.NUMERICAL,isClearable:!1,label:"Aggregate Column",callback:function(e){return t(e)},columns:r,currentSelected:l}):null)}try{eR.displayName="AggregateTypeSelect",eR.__docgenInfo={description:"",displayName:"AggregateTypeSelect",props:{aggregateTypeSelectCallback:{defaultValue:null,description:"",name:"aggregateTypeSelectCallback",required:!0,type:{name:"(s: EAggregateTypes) => void"}},aggregateColumn:{defaultValue:null,description:"",name:"aggregateColumn",required:!0,type:{name:"ColumnInfo"}},aggregateColumnSelectCallback:{defaultValue:null,description:"",name:"aggregateColumnSelectCallback",required:!0,type:{name:"(c: ColumnInfo) => void"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},currentSelected:{defaultValue:null,description:"",name:"currentSelected",required:!0,type:{name:"enum",value:[{value:'"Count"'},{value:'"Minimum"'},{value:'"Average"'},{value:'"Median"'},{value:'"Maximum"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/sidebar/AggregateTypeSelect.tsx#AggregateTypeSelect"]={docgenInfo:eR.__docgenInfo,name:"AggregateTypeSelect",path:"src/vis/sidebar/AggregateTypeSelect.tsx#AggregateTypeSelect"})}catch(e){}var eI=t("./node_modules/@mantine/core/esm/components/Button/Button.mjs");function eq(e){var n=e.callback;return u.createElement(e_.I.Wrapper,{label:"Filter"},u.createElement(eI.z.Group,null,u.createElement(b.u,{label:"Filters any point not currently selected"},u.createElement(eI.z,{style:{flexGrow:1},p:0,variant:"default",onClick:function(){return n(x.u5.IN)}},x.u5.IN)),u.createElement(b.u,{label:"Filters all currently selected points"},u.createElement(eI.z,{style:{flexGrow:1},p:0,variant:"default",onClick:function(){return n(x.u5.OUT)}},x.u5.OUT)),u.createElement(b.u,{label:"Removes any existing filter"},u.createElement(eI.z,{style:{flexGrow:1},p:0,variant:"default",onClick:function(){return n(x.u5.CLEAR)}},x.u5.CLEAR))))}try{eq.displayName="FilterButtons",eq.__docgenInfo={description:"",displayName:"FilterButtons",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(s: EFilterOptions) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/sidebar/FilterButtons.tsx#FilterButtons"]={docgenInfo:eq.__docgenInfo,name:"FilterButtons",path:"src/vis/sidebar/FilterButtons.tsx#FilterButtons"})}catch(e){}var eP=t("./node_modules/@mantine/core/esm/components/SegmentedControl/SegmentedControl.mjs");function eL(e){var n=e.callback,t=e.currentSelected;return u.createElement(e_.I.Wrapper,{label:"Direction"},u.createElement(eP.s,{fullWidth:!0,size:"xs",value:t,onChange:n,data:[{label:eu.Fb.VERTICAL,value:eu.Fb.VERTICAL},{label:eu.Fb.HORIZONTAL,value:eu.Fb.HORIZONTAL}]}))}try{eL.displayName="BarDirectionButtons",eL.__docgenInfo={description:"",displayName:"BarDirectionButtons",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(s: EBarDirection) => void"}},currentSelected:{defaultValue:null,description:"",name:"currentSelected",required:!0,type:{name:"enum",value:[{value:'"Vertical"'},{value:'"Horizontal"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/bar/BarDirectionButtons.tsx#BarDirectionButtons"]={docgenInfo:eL.__docgenInfo,name:"BarDirectionButtons",path:"src/vis/bar/BarDirectionButtons.tsx#BarDirectionButtons"})}catch(e){}function ej(e){var n=e.callback,t=e.currentSelected,r=e.isCount;return u.createElement(B.W,{p:0,fluid:!0,style:{width:"100%"}},u.createElement(a.K,{gap:0},u.createElement(eP.s,{disabled:!r,value:r?t:eu.Ln.ABSOLUTE,onChange:n,data:[{label:eu.Ln.ABSOLUTE,value:eu.Ln.ABSOLUTE},{label:eu.Ln.NORMALIZED,value:eu.Ln.NORMALIZED}]})))}try{ej.displayName="BarDisplayButtons",ej.__docgenInfo={description:"",displayName:"BarDisplayButtons",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(s: EBarDisplayType) => void"}},currentSelected:{defaultValue:null,description:"",name:"currentSelected",required:!0,type:{name:"enum",value:[{value:'"Absolute"'},{value:'"Normalized"'}]}},isCount:{defaultValue:null,description:"",name:"isCount",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/bar/BarDisplayTypeButtons.tsx#BarDisplayButtons"]={docgenInfo:ej.__docgenInfo,name:"BarDisplayButtons",path:"src/vis/bar/BarDisplayTypeButtons.tsx#BarDisplayButtons"})}catch(e){}function eB(e){var n=e.callback,t=e.currentSelected;return u.createElement(B.W,{p:0,fluid:!0,style:{width:"100%"}},u.createElement(a.K,{gap:0},u.createElement(eP.s,{value:t,onChange:n,data:[{label:eu._G.GROUP,value:eu._G.GROUP},{label:eu._G.STACK,value:eu._G.STACK}]})))}try{eB.displayName="BarGroupTypeButtons",eB.__docgenInfo={description:"",displayName:"BarGroupTypeButtons",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(s: EBarGroupingType) => void"}},currentSelected:{defaultValue:null,description:"",name:"currentSelected",required:!0,type:{name:"enum",value:[{value:'"Stacked"'},{value:'"Grouped"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/bar/BarGroupTypeButtons.tsx#BarGroupTypeButtons"]={docgenInfo:eB.__docgenInfo,name:"BarGroupTypeButtons",path:"src/vis/bar/BarGroupTypeButtons.tsx#BarGroupTypeButtons"})}catch(e){}function eN(e){var n=e.groupColumnSelectCallback,t=e.groupTypeSelectCallback,r=e.groupDisplaySelectCallback,l=e.groupType,o=e.displayType,i=e.columns,c=e.currentSelected,s=e.aggregateType;return u.createElement(a.K,{gap:"sm"},u.createElement(ek,{label:"Group",callback:function(e){var t;return n(e?null===(t=i.find(function(n){return n.info.id===e.id}))||void 0===t?void 0:t.info:null)},columns:i,currentSelected:c,columnType:null}),c?u.createElement(eB,{callback:function(e){return t(e)},currentSelected:l}):null,c&&l===eu._G.STACK?u.createElement(ej,{callback:function(e){return r(e)},currentSelected:o,isCount:s===x.Ym.COUNT}):null)}try{eN.displayName="GroupSelect",eN.__docgenInfo={description:"",displayName:"GroupSelect",props:{groupColumnSelectCallback:{defaultValue:null,description:"",name:"groupColumnSelectCallback",required:!0,type:{name:"(c: ColumnInfo) => void"}},groupTypeSelectCallback:{defaultValue:null,description:"",name:"groupTypeSelectCallback",required:!0,type:{name:"(c: EBarGroupingType) => void"}},groupDisplaySelectCallback:{defaultValue:null,description:"",name:"groupDisplaySelectCallback",required:!0,type:{name:"(c: EBarDisplayType) => void"}},groupType:{defaultValue:null,description:"",name:"groupType",required:!0,type:{name:"enum",value:[{value:'"Stacked"'},{value:'"Grouped"'}]}},displayType:{defaultValue:null,description:"",name:"displayType",required:!0,type:{name:"enum",value:[{value:'"Absolute"'},{value:'"Normalized"'}]}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},currentSelected:{defaultValue:null,description:"",name:"currentSelected",required:!0,type:{name:"ColumnInfo"}},aggregateType:{defaultValue:null,description:"",name:"aggregateType",required:!0,type:{name:"enum",value:[{value:'"Count"'},{value:'"Minimum"'},{value:'"Average"'},{value:'"Median"'},{value:'"Maximum"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/bar/GroupSelect.tsx#GroupSelect"]={docgenInfo:eN.__docgenInfo,name:"GroupSelect",path:"src/vis/bar/GroupSelect.tsx#GroupSelect"})}catch(e){}function eM(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])})}return e}function eD(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}var eY={direction:{enable:!0,customComponent:null},display:{enable:!0,customComponent:null},filter:{enable:!0,customComponent:null},group:{enable:!0,customComponent:null},groupType:{enable:!0,customComponent:null},multiples:{enable:!0,customComponent:null}};function eK(e){var n=e.config,t=e.optionsConfig,r=e.columns,a=e.setConfig,l=(e.className,e.filterCallback),o=e.style;(void 0===o?{}:o).width,function(e,n){if(null!=e){var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}}}(e.style,["width"]);var i=(0,u.useMemo)(function(){return W()({},eY,t)},[t]);return u.createElement(u.Fragment,null,u.createElement(ek,{callback:function(e){return a(eD(eM({},n),{catColumnSelected:e,multiples:n.multiples&&n.multiples.id===(null==e?void 0:e.id)?null:n.multiples,group:n.group&&n.group.id===(null==e?void 0:e.id)?null:n.group}))},columns:r,currentSelected:n.catColumnSelected,columnType:x.ae.CATEGORICAL,label:"Categorical column"}),u.createElement(eR,{aggregateTypeSelectCallback:function(e){null===n.aggregateColumn?a(eD(eM({},n),{aggregateType:e,aggregateColumn:r.find(function(e){return e.type===x.ae.NUMERICAL}).info,display:e===x.Ym.COUNT?n.display:eu.Ln.ABSOLUTE})):a(eD(eM({},n),{aggregateType:e,display:e===x.Ym.COUNT?n.display:eu.Ln.ABSOLUTE}))},aggregateColumnSelectCallback:function(e){return a(eD(eM({},n),{aggregateColumn:e}))},columns:r,currentSelected:n.aggregateType,aggregateColumn:n.aggregateColumn}),i.group.enable?i.group.customComponent||u.createElement(eN,{aggregateType:n.aggregateType,groupColumnSelectCallback:function(e){return a(eD(eM({},n),{group:e}))},groupTypeSelectCallback:function(e){return a(eD(eM({},n),{groupType:e}))},groupDisplaySelectCallback:function(e){return a(eD(eM({},n),{display:e}))},displayType:n.display,groupType:n.groupType,columns:r.filter(function(e){return n.catColumnSelected&&e.info.id!==n.catColumnSelected.id}),currentSelected:n.group}):null,i.multiples.enable?i.multiples.customComponent||u.createElement(ek,{callback:function(e){return a(eD(eM({},n),{multiples:e}))},columns:r.filter(function(e){return n.catColumnSelected&&e.info.id!==n.catColumnSelected.id}),currentSelected:n.multiples,label:"Multiples",columnType:x.ae.CATEGORICAL}):null,i.direction.enable?i.direction.customComponent||u.createElement(eL,{callback:function(e){return a(eD(eM({},n),{direction:e}))},currentSelected:n.direction}):null,l&&i.filter.enable?i.filter.customComponent||u.createElement(eq,{callback:l}):null)}try{eK.displayName="BarVisSidebar",eK.__docgenInfo={description:"",displayName:"BarVisSidebar",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},optionsConfig:{defaultValue:null,description:"",name:"optionsConfig",required:!1,type:{name:"any"}},filterCallback:{defaultValue:null,description:"",name:"filterCallback",required:!1,type:{name:"(s: EFilterOptions) => void"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IBarConfig"}},setConfig:{defaultValue:null,description:"",name:"setConfig",required:!0,type:{name:"(c: IBarConfig) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/bar/BarVisSidebar.tsx#BarVisSidebar"]={docgenInfo:eK.__docgenInfo,name:"BarVisSidebar",path:"src/vis/bar/BarVisSidebar.tsx#BarVisSidebar"})}catch(e){}var eH=t("./node_modules/jstat/dist/jstat.js");function eG(e){var n=e.scale,t=e.width,l=void 0===t?250:t,o=e.height,c=void 0===o?20:o,s=e.range,d=void 0===s?[0,1.1]:s,p=e.tickCount,m=void 0===p?5:p,f=e.title,y=void 0===f?null:f,b=e.format,h=void 0===b?".3s":b,S=i.w6H(m).reverse().map(function(e){var t=(d[1]-d[0])*(e/(m-1))+d[0];return{color:n(t),score:t}}),v=(0,u.useRef)(null);(0,u.useEffect)(function(){var e=document.getElementById("proteomicsLegendCanvas"),t=e.getContext("2d");e.height=c,e.width=l,e.style.margin="0",e.style.height="".concat(c,"px"),e.style.imageRendering="pixelated";for(var r=i.w6H(l).map(function(e){return e/l*(d[1]-d[0])}).reverse(),a=r.length-1;a>=0;a--)t.fillStyle=n(r[a]+d[0]),t.fillRect(a,0,1,c)},[n,l,c,d]);var C=(0,u.useMemo)(function(){return i.WUZ(h)},[h]);return u.createElement(a.K,{gap:3,style:{width:"100%"}},y?u.createElement(g.x,{color:"dimmed",style:{width:"100%",whiteSpace:"nowrap",textAlign:"center"}},y):null,u.createElement("canvas",{style:{width:"100%"},id:"proteomicsLegendCanvas",ref:v}),u.createElement(r.Z,{justify:"space-between",style:{width:"100%"},gap:0,ml:"0"},S.map(function(e,n){return u.createElement(g.x,{fs:"xs",key:n},C(e.score))})))}try{eG.displayName="ColorLegendVert",eG.__docgenInfo={description:"",displayName:"ColorLegendVert",props:{scale:{defaultValue:null,description:"",name:"scale",required:!0,type:{name:"(t: number) => string"}},width:{defaultValue:{value:"250"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"20"},description:"",name:"height",required:!1,type:{name:"number"}},range:{defaultValue:{value:"[0, 1.1]"},description:"",name:"range",required:!1,type:{name:"[number, number]"}},tickCount:{defaultValue:{value:"5"},description:"",name:"tickCount",required:!1,type:{name:"number"}},title:{defaultValue:{value:"null"},description:"",name:"title",required:!1,type:{name:"string"}},format:{defaultValue:{value:".3s"},description:"",name:"format",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/legend/ColorLegendVert.tsx#ColorLegendVert"]={docgenInfo:eG.__docgenInfo,name:"ColorLegendVert",path:"src/vis/legend/ColorLegendVert.tsx#ColorLegendVert"})}catch(e){}var ez=t("./node_modules/@mantine/core/esm/core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs");function eU(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var eF={top:0,right:0,bottom:0,left:0};function eW(e){var n=e.value,t=e.fill,r=e.boundingRect;e.config;var l=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(t=a.next()).done)&&(l.push(t.value),!n||l.length!==n);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return eU(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return eU(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(u.useState(!1),2),o=l[0],c=l[1],s=(0,ez.rZ)().colors.gray[1],d=(0,u.useMemo)(function(){return i.WUZ(".3g")},[]),p=(0,u.useMemo)(function(){return i.WUZ(".3g")},[]),m=(0,u.useMemo)(function(){return u.createElement("g",null,u.createElement("rect",{strokeWidth:1,stroke:"lightgray",width:r.width-eF.left-eF.right,height:r.height-eF.top-eF.bottom,x:n.cxUT-r.width/2+eF.left,y:n.cyUT-r.height/2+eF.top,fill:o?s:"transparent"}),u.createElement("circle",{cx:n.cxUT,cy:n.cyUT,r:n.radius,fill:t}))},[r.height,r.width,t,s,o,n]),f=(0,u.useMemo)(function(){return u.createElement("g",null,u.createElement("rect",{strokeWidth:1,stroke:"lightgray",width:r.width-eF.left-eF.right,height:r.height-eF.top-eF.bottom,x:n.cxLT-r.width/2+eF.left,y:n.cyLT-r.height/2+eF.top,fill:o?s:"transparent"}),u.createElement("foreignObject",{style:{overflow:"hidden"},x:n.cxLT-r.width/2+eF.left,y:n.cyLT-r.height/2+eF.top,width:r.width-eF.left-eF.right,height:r.height-eF.top-eF.bottom},u.createElement(_.M,{style:{height:"100%"}},u.createElement(a.K,{style:{height:"100%",width:"100%",overflow:"hidden"},align:"center",justify:"center",gap:2,p:5},u.createElement(g.x,{size:"xs",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",width:"100%",textAlign:"center"}},"r: ".concat(p(n.correlation))),u.createElement(g.x,{size:"xs",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",width:"100%",textAlign:"center"}},"p: ".concat(d(n.pValue)))))))},[r.height,r.width,p,d,s,o,n.correlation,n.cxLT,n.cyLT,n.pValue]),y=(0,u.useMemo)(function(){return u.createElement(a.K,{gap:2},u.createElement(g.x,null,"".concat(n.xName," / ").concat(n.yName)),u.createElement(g.x,null,"Correlation: ",p(n.correlation)),u.createElement(g.x,null,"P-value: ",d(n.pValue)))},[p,d,n]);return u.createElement("g",{onMouseOver:function(){return c(!0)},onMouseLeave:function(){return c(!1)}},u.createElement(b.u,{keepMounted:!1,hidden:!o,withinPortal:!0,onMouseLeave:function(){return c(!1)},label:y},m),u.createElement(b.u,{keepMounted:!1,hidden:!o,withinPortal:!0,onMouseLeave:function(){return c(!1)},label:y},f))}try{eW.displayName="CorrelationPair",eW.__docgenInfo={description:"",displayName:"CorrelationPair",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"CorrelationPairProps"}},fill:{defaultValue:null,description:"",name:"fill",required:!0,type:{name:"string"}},boundingRect:{defaultValue:null,description:"",name:"boundingRect",required:!0,type:{name:"{ width: number; height: number; }"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"ICorrelationConfig"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/correlation/components/CorrelationPair.tsx#CorrelationPair"]={docgenInfo:eW.__docgenInfo,name:"CorrelationPair",path:"src/vis/correlation/components/CorrelationPair.tsx#CorrelationPair"})}catch(e){}var eZ=t("./src/vis/correlation/interfaces.ts");function eX(e,n,t,r,a,l,o){try{var i=e[l](o),u=i.value}catch(e){t(e);return}i.done?n(u):Promise.resolve(u).then(r,a)}var e$={type:x.bu.CORRELATION,correlationType:eZ.L.PEARSON,numColumnsSelected:[],pScaleType:x.zK.LOG,pDomain:[.5,.01]};function eQ(e,n){return W()({},e$,n)}function eJ(e,n){return e0.apply(this,arguments)}function e0(){return(e0=function(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var l=e.apply(n,t);function o(e){eX(l,r,a,o,i,"next",e)}function i(e){eX(l,r,a,o,i,"throw",e)}o(void 0)})}}(function(e,n){return function(e,n){var t,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}(this,function(t){switch(t.label){case 0:return[4,er(e.filter(function(e){return n.find(function(n){return n.id===e.info.id})}))];case 1:return[2,{numericalColumns:t.sent()}]}})})).apply(this,arguments)}function e1(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function e2(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(t=a.next()).done)&&(l.push(t.value),!n||l.length!==n);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return e1(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return e1(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var e3={top:5,left:5},e5={top:20,right:20,bottom:20,left:20};function e6(e){var n=e.config,t=e.columns,l=(0,j.r)(eJ,[t,n.numColumnsSelected]),c=l.value,s=l.status,d=e2(u.useState(null),2),p=d[0],m=d[1];u.useEffect(function(){if(c){var e=[];c.numericalColumns.forEach(function(n){e.push(n)}),m(e)}},[c]);var y=e2((0,o.y)(),2),h=y[0],S=y[1],v=S.width,C=S.height,O=(0,u.useMemo)(function(){return Math.min(v-e5.left-e5.right,C-e5.top-e5.bottom)},[C,v]),E=i.cJy(i.sOJ(i.LX0.gamma(2.2),["#003367","#16518a","#2e72ae","#5093cd","#77b5ea","#aad7fd","#F1F3F5","#fac7a9","#f99761","#e06d3b","#c2451a","#99230d","#6f0000"].reverse())).domain([-1,1]),V=u.useMemo(function(){return p?(0,i.tiA)().range([e5.left,O+e5.left]).domain(p.map(function(e){return e.info.id})):null},[p,O]),w=u.useMemo(function(){return p?(0,i.tiA)().range([e5.top,O+e5.top]).domain(p.map(function(e){return e.info.id})):null},[p,O]),T=u.useMemo(function(){if(!p)return null;var e=Math.min(V.bandwidth()/2-e3.left,w.bandwidth()/2-e3.top);return n.pScaleType===x.zK.LINEAR?i.BYU().domain(n.pDomain).range([4,e]).clamp(!0):i.p2C().domain(n.pDomain).range([4,e]).clamp(!0)},[n.pDomain,n.pScaleType,p,V,w]),A=u.useMemo(function(){if(!p)return null;var e=function(e,n){return null};n.correlationType===eZ.L.PEARSON?e=eH.corrcoeff:n.correlationType===eZ.L.SPEARMAN&&(e=eH.spearmancoeff);for(var t=[],r=1;r<p.length;r++)for(var a=0;a<r;a++){var l=e(p[r].resolvedValues.map(function(e){return e.val}),p[a].resolvedValues.map(function(e){return e.val})),o=(0,eH.tukeyhsd)([p[r].resolvedValues.map(function(e){return e.val}),p[a].resolvedValues.map(function(e){return e.val})]),i=p[r].info.id,u=p[a].info.id,c={xi:r,yi:a,cxLT:V(u)+V.bandwidth()/2,cyLT:w(i)+w.bandwidth()/2,cxUT:V(i)+V.bandwidth()/2,cyUT:w(u)+w.bandwidth()/2,correlation:l,pValue:o[0][1],xName:p[r].info.name,yName:p[a].info.name,radius:T(o[0][1])};t.push(c)}return t},[T,n.correlationType,p,V,w]),k=u.useMemo(function(){return p?p.map(function(e){var n=V(e.info.id),t=w(e.info.id);return u.createElement("g",{key:"label-".concat(e.info.name)},u.createElement("rect",{stroke:"lightgray",strokeWidth:1,fill:"none",x:n,y:t,width:V.bandwidth(),height:w.bandwidth()}),u.createElement("foreignObject",{x:n,y:t,width:V.bandwidth(),height:w.bandwidth()},u.createElement(_.M,{style:{height:"100%"},px:5},u.createElement(b.u,{label:u.createElement(a.K,{gap:0},u.createElement(g.x,null,e.info.name),e.info.description&&u.createElement(g.x,{size:"xs",color:"dimmed"},e.info.description)),arrowSize:6,withinPortal:!0,withArrow:!0},u.createElement(a.K,{gap:0},u.createElement(g.x,{size:"sm",fw:600,style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},e.info.name),e.info.description&&u.createElement(g.x,{size:"sm",color:"dimmed",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},e.info.description))))))}):null},[p,V,w]);return u.createElement(r.Z,{style:{height:"100%",width:"100%"},wrap:"nowrap",pr:"40px"},"success"===s?u.createElement(a.K,{style:{height:"100%",width:"100%"},align:"center",gap:0},u.createElement(f.x,{pl:e5.left,pr:e5.right},u.createElement(eG,{format:".3~g",scale:E,width:O,height:20,range:[-1,1],title:"Correlation"})),u.createElement(f.x,{ref:h,style:{height:"100%",width:"100%",overflow:"hidden"}},u.createElement("svg",{style:{height:C,width:v,overflow:"hidden"}},u.createElement("g",{transform:"translate(".concat((v-O-e5.left-e5.right)/2,", 0)")},null==A?void 0:A.map(function(e){return u.createElement(eW,{key:"".concat(e.xName,"-").concat(e.yName),value:e,fill:E(e.correlation),boundingRect:{width:V.bandwidth(),height:w.bandwidth()},config:n})}),k)))):u.createElement(_.M,null,u.createElement(P.a,null)))}try{e6.displayName="CorrelationMatrix",e6.__docgenInfo={description:"",displayName:"CorrelationMatrix",props:{config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"ICorrelationConfig"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/correlation/CorrelationMatrix.tsx#CorrelationMatrix"]={docgenInfo:e6.__docgenInfo,name:"CorrelationMatrix",path:"src/vis/correlation/CorrelationMatrix.tsx#CorrelationMatrix"})}catch(e){}function e4(e){var n=e.config,t=e.columns;return n.numColumnsSelected.length>1?u.createElement(e6,{config:n,columns:t}):u.createElement(I,{headerMessage:"Invalid settings",bodyMessage:"To create a correlation chart, select at least 2 numerical columns."})}try{e4.displayName="CorrelationVis",e4.__docgenInfo={description:"",displayName:"CorrelationVis",props:{config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"ICorrelationConfig"}},setConfig:{defaultValue:null,description:"",name:"setConfig",required:!1,type:{name:"(config: ICorrelationConfig) => void"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},optionsConfig:{defaultValue:null,description:"",name:"optionsConfig",required:!1,type:{name:"any"}},colors:{defaultValue:null,description:"",name:"colors",required:!1,type:{name:"string[]"}},shapes:{defaultValue:null,description:"",name:"shapes",required:!1,type:{name:"string[]"}},filterCallback:{defaultValue:null,description:"",name:"filterCallback",required:!1,type:{name:"(s: EFilterOptions) => void"}},selectionCallback:{defaultValue:null,description:"",name:"selectionCallback",required:!1,type:{name:"(s: string[]) => void"}},selectedMap:{defaultValue:null,description:"",name:"selectedMap",required:!1,type:{name:"{ [key: string]: boolean; }"}},selectedList:{defaultValue:null,description:"",name:"selectedList",required:!1,type:{name:"string[]"}},showCloseButton:{defaultValue:null,description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},closeButtonCallback:{defaultValue:null,description:"",name:"closeButtonCallback",required:!1,type:{name:"() => void"}},scales:{defaultValue:null,description:"",name:"scales",required:!1,type:{name:"Scales"}},enableSidebar:{defaultValue:null,description:"",name:"enableSidebar",required:!1,type:{name:"boolean"}},showSidebar:{defaultValue:null,description:"",name:"showSidebar",required:!1,type:{name:"boolean"}},showSidebarDefault:{defaultValue:null,description:"",name:"showSidebarDefault",required:!1,type:{name:"boolean"}},setShowSidebar:{defaultValue:null,description:"",name:"setShowSidebar",required:!1,type:{name:"(s: boolean) => void"}},extensions:{defaultValue:null,description:"",name:"extensions",required:!1,type:{name:"{ prePlot?: ReactNode; postPlot?: ReactNode; preSidebar?: ReactNode; postSidebar?: ReactNode; }"}},scrollZoom:{defaultValue:null,description:"",name:"scrollZoom",required:!1,type:{name:"boolean"}},showDragModeOptions:{defaultValue:null,description:"",name:"showDragModeOptions",required:!1,type:{name:"boolean"}},dimensions:{defaultValue:null,description:"",name:"dimensions",required:!0,type:{name:"{ width: number; height: number; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/correlation/CorrelationVis.tsx#CorrelationVis"]={docgenInfo:e4.__docgenInfo,name:"CorrelationVis",path:"src/vis/correlation/CorrelationVis.tsx#CorrelationVis"})}catch(e){}var e8=t("./node_modules/@mantine/core/esm/components/NumberInput/NumberInput.mjs"),e7=t("./node_modules/@mantine/core/esm/components/Pill/Pill.mjs"),e9=t("./node_modules/@mantine/core/esm/components/PillsInput/PillsInput.mjs");function ne(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function nn(e){var n=e.callback,t=e.columns,l=e.currentSelected,o=e.columnType,i=u.useMemo(function(){return t.filter(function(e){return e.type===o})},[o,t]),c=(0,eV.K)({onDropdownClose:function(){return c.resetSelectedOption()},onDropdownOpen:function(){return c.updateSelectedOptionIndex("active")}}),s=function(e){n(l.filter(function(n){return n.id!==e}))},d=i.filter(function(e){return!l.map(function(e){return e.id}).includes(e.info.id)}).map(function(e){return u.createElement(ex.h.Option,{value:e.info.name,key:e.info.id},u.createElement(b.u,{withinPortal:!0,withArrow:!0,arrowSize:6,label:u.createElement(a.K,{gap:0},u.createElement(g.x,{size:"xs"},e.info.name),u.createElement(g.x,{size:"xs",color:"dimmed"},e.info.description))},u.createElement(r.Z,{gap:"xs"},l.map(function(e){return e.id}).includes(e.info.id),u.createElement(a.K,{gap:0},u.createElement(g.x,{size:"sm"},e.info.name),u.createElement(g.x,{size:"xs",opacity:.5},e.info.description)))))}),p=l.map(function(e){return u.createElement(b.u,{key:e.id,withinPortal:!0,withArrow:!0,arrowSize:6,label:u.createElement(a.K,{gap:0},u.createElement(g.x,{size:"xs"},e.name),u.createElement(g.x,{size:"xs",color:"dimmed"},e.description))},u.createElement(e7.D,{withRemoveButton:!0,onRemove:function(){s(e.id)}},e.name))});return u.createElement(ex.h,{store:c,onOptionSubmit:function(e){var t=i.find(function(n){return n.info.name===e});l.find(function(n){return n.name===e})?s(t.info.id):n((function(e){return function(e){if(Array.isArray(e))return ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return ne(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ne(e,n)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()})(l).concat([t.info]))},withinPortal:!1},u.createElement(ex.h.DropdownTarget,null,u.createElement(e9.d,{rightSection:u.createElement(eA.P,{onMouseDown:function(){n([])},color:"gray",variant:"transparent",size:22,iconSize:12,tabIndex:-1}),label:"".concat(o," columns"),pointer:!0,onClick:function(){return c.toggleDropdown()}},u.createElement(e7.D.Group,null,p.length>0?p:u.createElement(e_.I.Placeholder,null,"Select columns"),u.createElement(ex.h.EventsTarget,null,u.createElement(e9.d.Field,{type:"hidden",onBlur:function(){return c.closeDropdown()},onKeyDown:function(e){"Backspace"===e.key&&(e.preventDefault(),s(l[l.length-1].id))}}))))),u.createElement(ex.h.Dropdown,null,u.createElement(ex.h.Options,null,0===d.length?u.createElement(ex.h.Empty,null,"All options selected"):d)))}try{nn.displayName="MultiSelect",nn.__docgenInfo={description:"",displayName:"MultiSelect",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(value: ColumnInfo[]) => void"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},currentSelected:{defaultValue:null,description:"",name:"currentSelected",required:!0,type:{name:"ColumnInfo[]"}},columnType:{defaultValue:null,description:"",name:"columnType",required:!0,type:{name:"enum",value:[{value:'"Numerical"'},{value:'"Categorical"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/sidebar/MultiSelect.tsx#MultiSelect"]={docgenInfo:nn.__docgenInfo,name:"MultiSelect",path:"src/vis/sidebar/MultiSelect.tsx#MultiSelect"})}catch(e){}function nt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])})}return e}function nr(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}function na(e){var n=e.config,t=e.columns,a=e.setConfig,l=e.style;return(void 0===l?{}:l).width,function(e,n){if(null!=e){var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}}}(e.style,["width"]),u.createElement(u.Fragment,null,u.createElement(nn,{callback:function(e){return a(nr(nt({},n),{numColumnsSelected:e}))},columns:t,currentSelected:n.numColumnsSelected||[],columnType:x.ae.NUMERICAL}),u.createElement(e_.I.Wrapper,{label:"Correlation type"},u.createElement(eP.s,{fullWidth:!0,size:"xs",data:Object.values(eZ.L),value:n.correlationType,onChange:function(e){return a(nr(nt({},n),{correlationType:e}))}})),u.createElement(e_.I.Wrapper,{label:"P-value scale type"},u.createElement(eP.s,{fullWidth:!0,size:"xs",data:Object.values(x.zK),value:n.pScaleType,onChange:function(e){return a(nr(nt({},n),{pScaleType:e}))}})),u.createElement(e8.Y,{styles:{input:{width:"100%"},label:{width:"100%"}},decimalScale:20,min:0,max:1,step:.05,onChange:function(e){return a(nr(nt({},n),{pDomain:[+e,n.pDomain[1]]}))},label:u.createElement(r.Z,{style:{width:"100%"},justify:"space-between"},u.createElement(g.x,null,"Maximum p-value"),u.createElement(b.u,{withinPortal:!0,withArrow:!0,arrowSize:6,label:"Sets the maximum p-value for the size scale. Any p-value at or above this value will have the smallest possible circle"},u.createElement(h.A,{variant:"transparent",color:"gray"},u.createElement(m.G,{icon:p.Fuz})))),value:n.pDomain[0]}),u.createElement(e8.Y,{styles:{input:{width:"100%"},label:{width:"100%"}},decimalScale:20,min:0,max:1,step:.05,onChange:function(e){return a(nr(nt({},n),{pDomain:[n.pDomain[0],+e]}))},label:u.createElement(r.Z,{style:{width:"100%"},justify:"space-between"},u.createElement(g.x,null,"Minimum p-value"),u.createElement(b.u,{withinPortal:!0,withArrow:!0,arrowSize:6,label:"Sets the minimum p-value for the size scale. Any p-value at or below this value will have the largest possible circle"},u.createElement(h.A,{variant:"transparent",color:"gray"},u.createElement(m.G,{icon:p.Fuz})))),value:n.pDomain[1]}))}try{na.displayName="CorrelationVisSidebar",na.__docgenInfo={description:"",displayName:"CorrelationVisSidebar",props:{config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"ICorrelationConfig"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},setConfig:{defaultValue:null,description:"",name:"setConfig",required:!0,type:{name:"((config: ICorrelationConfig) => void) & ((c: ICorrelationConfig) => void)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},optionsConfig:{defaultValue:null,description:"",name:"optionsConfig",required:!1,type:{name:"any"}},filterCallback:{defaultValue:null,description:"",name:"filterCallback",required:!1,type:{name:"(s: EFilterOptions) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/correlation/CorrelationVisSidebar.tsx#CorrelationVisSidebar"]={docgenInfo:na.__docgenInfo,name:"CorrelationVisSidebar",path:"src/vis/correlation/CorrelationVisSidebar.tsx#CorrelationVisSidebar"})}catch(e){}function nl(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function no(e){var n=e.x,t=e.y,r=e.width,a=e.height,l=e.color,o=e.label,c=e.setSelected,s=e.xOrder,d=void 0===s?1:s,p=e.yOrder,m=void 0===p?1:p,f=e.isSelected,y=void 0!==f&&f,g=e.isImmediate,h=void 0!==g&&g,S=e.onClick,v=void 0===S?function(){return null}:S,C=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(t=a.next()).done)&&(l.push(t.value),!n||l.length!==n);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return nl(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nl(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,u.useState)(),2),O=C[0],E=C[1],V=(0,u.useRef)(d),x=(0,u.useRef)(m);h=h||V.current===d&&x.current===m;var w=(0,D.q_)({fill:l,config:{duration:750,easing:D.Z5.easeInOutSine}}),T=(0,D.q_)({x:n,config:{duration:2e3,easing:D.Z5.easeInOutSine},delay:h?0:2e3*d,immediate:h}),A=(0,D.q_)({y:t,config:{duration:2e3,easing:D.Z5.easeInOutSine},delay:h?0:2e3*m,immediate:h}),_=(0,u.useMemo)(function(){return u.createElement(D.q.rect,function(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])})}return e}({},w,T,A),{width:r,stroke:y?"orange":"none",strokeWidth:3,height:a,onMouseEnter:function(){T.x.isAnimating||A.y.isAnimating||E(!0)},onMouseLeave:function(){T.x.isAnimating||A.y.isAnimating||E(!1)},onMouseDown:function(e){T.x.isAnimating||A.y.isAnimating||(c(),v(e))}}))},[w,a,y,v,c,r,T,A]);(0,u.useEffect)(function(){V.current=d,x.current=m},[d,m]);var k=(0,u.useMemo)(function(){return i.WUZ(".3s")},[]);return O?u.createElement(b.u,{withArrow:!0,arrowSize:6,label:null===o?"null":k(o)},_):_}try{no.displayName="HeatmapRect",no.__docgenInfo={description:"",displayName:"HeatmapRect",props:{x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"number"}},setSelected:{defaultValue:null,description:"",name:"setSelected",required:!1,type:{name:"() => void"}},xOrder:{defaultValue:{value:"1"},description:"",name:"xOrder",required:!1,type:{name:"number"}},yOrder:{defaultValue:{value:"1"},description:"",name:"yOrder",required:!1,type:{name:"number"}},isSelected:{defaultValue:{value:"false"},description:"",name:"isSelected",required:!1,type:{name:"boolean"}},isImmediate:{defaultValue:{value:"false"},description:"",name:"isImmediate",required:!1,type:{name:"boolean"}},onClick:{defaultValue:{value:"() => null"},description:"",name:"onClick",required:!1,type:{name:"(e: any) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/heatmap/HeatmapRect.tsx#HeatmapRect"]={docgenInfo:no.__docgenInfo,name:"HeatmapRect",path:"src/vis/heatmap/HeatmapRect.tsx#HeatmapRect"})}catch(e){}function ni(e){var n=e.x1,t=e.x2,r=e.y1,a=e.y2,l=e.order,o=void 0===l?1:l,i=e.setImmediate,c=(0,u.useRef)(o),s=i||c.current===o,d=(0,D.q_)({x1:n,y1:r,x2:t,y2:a,config:{duration:2e3,easing:D.Z5.easeInOutSine},delay:s?0:2e3*o,immediate:s});return u.useEffect(function(){c.current=o},[o]),(0,u.useMemo)(function(){return u.createElement(D.q.line,function(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])})}return e}({},d),{stroke:"white",strokeWidth:1}))},[d])}try{ni.displayName="AnimatedLine",ni.__docgenInfo={description:"",displayName:"AnimatedLine",props:{y2:{defaultValue:null,description:"",name:"y2",required:!0,type:{name:"number"}},y1:{defaultValue:null,description:"",name:"y1",required:!0,type:{name:"number"}},x2:{defaultValue:null,description:"",name:"x2",required:!0,type:{name:"number"}},x1:{defaultValue:null,description:"",name:"x1",required:!0,type:{name:"number"}},order:{defaultValue:{value:"1"},description:"",name:"order",required:!1,type:{name:"number"}},setImmediate:{defaultValue:null,description:"",name:"setImmediate",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/heatmap/AnimatedLine.tsx#AnimatedLine"]={docgenInfo:ni.__docgenInfo,name:"AnimatedLine",path:"src/vis/heatmap/AnimatedLine.tsx#AnimatedLine"})}catch(e){}function nu(e){var n=e.x,t=e.y,r=e.children,a=e.order,l=e.width,o=e.height,i=(e.bold,e.setImmediate),c=(0,u.useRef)(a),s=void 0===i||i||c.current===a,d=(0,D.q_)({x:n,y:t,width:l,height:o,config:{duration:2e3,easing:D.Z5.easeInOutSine},delay:s?0:2e3*a,immediate:s}),p=(0,u.useMemo)(function(){return u.createElement(D.q.foreignObject,d,r)},[r,d]);return(0,u.useEffect)(function(){c.current=a},[a]),p}try{nu.displayName="AnimatedText",nu.__docgenInfo={description:"",displayName:"AnimatedText",props:{x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}},order:{defaultValue:null,description:"",name:"order",required:!1,type:{name:"number"}},bold:{defaultValue:{value:"false"},description:"",name:"bold",required:!1,type:{name:"boolean"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},setImmediate:{defaultValue:{value:"true"},description:"",name:"setImmediate",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/heatmap/AnimatedText.tsx#AnimatedText"]={docgenInfo:nu.__docgenInfo,name:"AnimatedText",path:"src/vis/heatmap/AnimatedText.tsx#AnimatedText"})}catch(e){}function nc(e){var n=e.margin,t=e.yScale,a=e.xScale,l=e.width,o=e.rectHeight,c=e.height,s=e.rectWidth,d=e.isImmediate,p=(0,u.useMemo)(function(){var e=i.Fp7(t.domain().map(function(e){return e.length}));return e>5?35:7*e},[t]);return u.createElement("g",null,a.domain().map(function(e,t){return u.createElement("g",{style:{textAlign:"center",dominantBaseline:"central"},key:e},u.createElement(ni,{x1:a(e)+s+n.left,x2:a(e)+s+n.left,y1:n.top,y2:c-n.bottom,order:1-t/a.domain().length,setImmediate:d}),u.createElement(ni,{x1:a(e)+n.left,x2:a(e)+n.left,y1:n.top,y2:c-n.bottom,order:1-t/a.domain().length,setImmediate:d}),u.createElement(nu,{x:a(e)+n.left+2,width:a.bandwidth()-4,height:20,y:c-n.bottom+8,order:1-t/a.domain().length,setImmediate:d},u.createElement(b.u,{withinPortal:!0,withArrow:!0,arrowSize:6,label:e},u.createElement(g.x,{size:"xs",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},e))))}),t.domain().map(function(e,a){return u.createElement("g",{key:e},u.createElement(ni,{x1:n.left,x2:l-n.right,y1:t(e)+o+n.top,y2:t(e)+o+n.top,order:a/t.domain().length,setImmediate:d}),u.createElement(ni,{x1:n.left,x2:l-n.right,y1:t(e)+n.top,y2:t(e)+n.top,order:a/t.domain().length,setImmediate:d}),u.createElement(nu,{x:35-p,y:t(e)+n.top,order:a/t.domain().length,height:t.bandwidth(),width:p,setImmediate:d},u.createElement(b.u,{withinPortal:!0,withArrow:!0,arrowSize:6,label:e},u.createElement(r.Z,{style:{width:"100%",height:"100%"},justify:"right"},u.createElement(g.x,{size:"xs",style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}},e)))))}))}try{nc.displayName="HeatmapText",nc.__docgenInfo={description:"",displayName:"HeatmapText",props:{margin:{defaultValue:null,description:"",name:"margin",required:!0,type:{name:"{ top: number; right: number; bottom: number; left: number; }"}},yScale:{defaultValue:null,description:"",name:"yScale",required:!0,type:{name:"ScaleBand<string>"}},xScale:{defaultValue:null,description:"",name:"xScale",required:!0,type:{name:"ScaleBand<string>"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},rectHeight:{defaultValue:null,description:"",name:"rectHeight",required:!0,type:{name:"number"}},rectWidth:{defaultValue:null,description:"",name:"rectWidth",required:!0,type:{name:"number"}},isImmediate:{defaultValue:null,description:"",name:"isImmediate",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/heatmap/HeatmapText.tsx#HeatmapText"]={docgenInfo:nc.__docgenInfo,name:"HeatmapText",path:"src/vis/heatmap/HeatmapText.tsx#HeatmapText"})}catch(e){}var ns=t("./src/vis/heatmap/interfaces.ts");function nd(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function np(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])})}return e}function nm(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}function nf(e,n){if(e){if("string"==typeof e)return nd(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nd(e,n)}}function ny(e){var n=e.column1,t=e.column2,l=e.aggregateColumn,c=e.margin,s=e.config,d=e.selected,y=e.selectionCallback,b=e.setExternalConfig,h=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(t=a.next()).done)&&(l.push(t.value),!n||l.length!==n);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}}(e,n)||nf(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,o.y)(),2),S=h[0],v=h[1],C=v.width,O=v.height,E=(0,u.useMemo)(function(){return n&&t?(0,L.Kz)({xVal:n.resolvedValues.map(function(e){return e.val}),yVal:t.resolvedValues.map(function(e){return e.val}),aggregateVal:(null==l?void 0:l.resolvedValues.map(function(e){return e.val}))||[],id:n.resolvedValues.map(function(e){return e.id})}):null},[null==l?void 0:l.resolvedValues,n,t]),V=(0,u.useMemo)(function(){if(!E)return null;var e,n,t=ed(E.groupby("xVal","yVal"),s.aggregateType);switch(t=(t=s.aggregateType===x.Ym.COUNT?t.impute({aggregateVal:function(){return 0}},{expand:["xVal","yVal"]}):t.impute({aggregateVal:function(){return null}},{expand:["xVal","yVal"]})).groupby("xVal").derive({colTotal:L.op.sum("aggregateVal")}).groupby("yVal").derive({rowTotal:L.op.sum("aggregateVal")}),s.xSortedBy){case ns.s.VAL_ASC:e="colTotal";break;case ns.s.CAT_DESC:e=(0,L.C8)("xVal");break;case ns.s.VAL_DESC:e=(0,L.C8)("colTotal");break;default:e="xVal"}switch(s.ySortedBy){case ns.s.VAL_ASC:n="rowTotal";break;case ns.s.CAT_DESC:n=(0,L.C8)("yVal");break;case ns.s.VAL_DESC:n=(0,L.C8)("rowTotal");break;default:n="yVal"}return t.orderby(e,n)},[E,s.aggregateType,s.xSortedBy,s.ySortedBy]),w=u.useMemo(function(){var e=V.objects(),n=i.tiA().domain(e.map(function(e){return e.xVal})).range([0,C-c.left-c.right]),t=i.tiA().domain(e.map(function(e){return e.yVal})).range([0,O-c.top-c.bottom]),r=(null==s?void 0:s.numColorScaleType)===x.WE.SEQUENTIAL?i.cJy(i.sOJ(i.LX0.gamma(2.2),["#24528d","#2d67a0","#3b7bb2","#4d90c3","#65a5d3","#80bae0","#a0ceeb","#c6e1f2","#f1f3f5"].reverse())).domain(s.aggregateType===x.Ym.COUNT?[0,i.Fp7(e,function(e){return e.aggregateVal})]:i.Wem(e,function(e){return e.aggregateVal})):(null==s?void 0:s.numColorScaleType)===x.WE.DIVERGENT?i.cJy(i.sOJ(i.LX0.gamma(2.2),["#003367","#16518a","#2e72ae","#5093cd","#77b5ea","#aad7fd","#F1F3F5","#fac7a9","#f99761","#e06d3b","#c2451a","#99230d","#6f0000"].reverse())).domain(i.Wem(e,function(e){return e.aggregateVal})):null;return{groupedValues:e.map(function(e){return nm(np({},e),{color:null===e.aggregateVal?"white":r(e.aggregateVal),x:n(e.xVal)+c.left,y:t(e.yVal)+c.top})}),rectWidth:(C-c.left-c.right-1*n.domain().length)/n.domain().length,rectHeight:(O-c.bottom-c.top-1*t.domain().length)/t.domain().length,xScale:n,yScale:t,colorScale:r}},[V,C,c.left,c.right,c.top,c.bottom,O,null==s?void 0:s.numColorScaleType,s.aggregateType]),T=w.groupedValues,A=w.rectHeight,_=w.rectWidth,k=w.yScale,R=w.xScale,I=w.colorScale,q=(0,u.useMemo)(function(){return 0===C||0===O?null:T.map(function(e,n){var t=e.aggregateVal,r=e.x,a=e.y,l=e.xVal,o=e.yVal,i=e.color,c=Array.from(E.params({x:l,y:o}).filter(function(e,n){return e.xVal===n.x&&e.yVal===n.y}).values("id"));return u.createElement(no,{xOrder:1-Math.floor(n/R.domain().length)/R.domain().length,yOrder:n%k.domain().length/k.domain().length,key:"".concat(l,"-").concat(o),x:r,y:a,isSelected:d&&(null==c?void 0:c.some(function(e){return d[e]})),width:_,height:A,color:i,label:t,setSelected:function(){return y(c)},isImmediate:!s.isAnimationEnabled})})},[E,T,O,A,_,d,y,C,R,k,s.isAnimationEnabled]),P=(0,u.useMemo)(function(){return 0===C||0===O?null:u.createElement(nc,{height:O,width:C,margin:c,rectHeight:A,rectWidth:_,xScale:R,yScale:k,isImmediate:!s.isAnimationEnabled})},[O,c,A,_,C,R,k,s.isAnimationEnabled]);return u.createElement(a.K,{style:{width:"100%",height:"100%"},gap:0,align:"center",justify:"center"},u.createElement(f.x,{pl:20},u.createElement(eG,{width:C-c.left-c.right,scale:I,height:20,range:function(e){return function(e){if(Array.isArray(e))return nd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nf(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(I.domain()),title:"".concat(s.aggregateType," ").concat(s.aggregateType===x.Ym.COUNT?"":s.aggregateColumn.name)})),u.createElement(r.Z,{wrap:"nowrap",style:{width:"100%",height:"100%"},gap:0,pr:"40px"},u.createElement(g.x,{color:"dimmed",style:{transform:"rotate(-90deg)",whiteSpace:"nowrap",width:"40px",cursor:"pointer"},onClick:function(){return b(nm(np({},s),{ySortedBy:s.ySortedBy===ns.s.CAT_ASC?ns.s.CAT_DESC:s.ySortedBy===ns.s.CAT_DESC?ns.s.VAL_ASC:s.ySortedBy===ns.s.VAL_ASC?ns.s.VAL_DESC:ns.s.CAT_ASC}))}},u.createElement(m.G,{fontWeight:100,color:"#C0C0C0",style:{marginRight:"10px",fontWeight:200},icon:s.ySortedBy===ns.s.VAL_ASC?p.ccG:s.ySortedBy===ns.s.VAL_DESC?p.MdH:s.ySortedBy===ns.s.CAT_ASC?p.bDz:p.M2Q}),t.info.name),u.createElement(f.x,{ref:S,style:{width:"100%",height:"100%",position:"relative",overflow:"hidden"}},u.createElement(B.W,{fluid:!0,pl:0,pr:0,style:{height:O,width:"100%"}},u.createElement("svg",{height:O,width:C},u.createElement("rect",{x:c.left,y:c.top,height:O-c.top-c.bottom,width:C-c.left-c.right,fill:"#F1F3F5"}),q,P)))),u.createElement(g.x,{color:"dimmed",style:{whiteSpace:"nowrap",cursor:"pointer"},onClick:function(){return b(nm(np({},s),{xSortedBy:s.xSortedBy===ns.s.CAT_ASC?ns.s.CAT_DESC:s.xSortedBy===ns.s.CAT_DESC?ns.s.VAL_ASC:s.xSortedBy===ns.s.VAL_ASC?ns.s.VAL_DESC:ns.s.CAT_ASC}))}},u.createElement(m.G,{color:"#C0C0C0",style:{marginRight:"10px"},icon:s.xSortedBy===ns.s.VAL_ASC?p.ccG:s.xSortedBy===ns.s.VAL_DESC?p.MdH:s.xSortedBy===ns.s.CAT_ASC?p.bDz:p.M2Q}),n.info.name))}try{ny.displayName="Heatmap",ny.__docgenInfo={description:"",displayName:"Heatmap",props:{column1:{defaultValue:null,description:"",name:"column1",required:!0,type:{name:"CatColumn"}},column2:{defaultValue:null,description:"",name:"column2",required:!0,type:{name:"CatColumn"}},aggregateColumn:{defaultValue:null,description:"",name:"aggregateColumn",required:!0,type:{name:"CatColumn"}},margin:{defaultValue:null,description:"",name:"margin",required:!0,type:{name:"{ top: number; right: number; bottom: number; left: number; }"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IHeatmapConfig"}},selectionCallback:{defaultValue:null,description:"",name:"selectionCallback",required:!0,type:{name:"(ids: string[]) => void"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"{ [key: string]: boolean; }"}},setExternalConfig:{defaultValue:null,description:"",name:"setExternalConfig",required:!1,type:{name:"(config: IHeatmapConfig) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/heatmap/Heatmap.tsx#Heatmap"]={docgenInfo:ny.__docgenInfo,name:"Heatmap",path:"src/vis/heatmap/Heatmap.tsx#Heatmap"})}catch(e){}function ng(e,n,t,r,a,l,o){try{var i=e[l](o),u=i.value}catch(e){t(e);return}i.done?n(u):Promise.resolve(u).then(r,a)}var nb={type:x.bu.HEATMAP,color:null,catColumnsSelected:[],numColorScaleType:x.WE.SEQUENTIAL,xSortedBy:ns.s.CAT_ASC,ySortedBy:ns.s.CAT_ASC,aggregateColumn:null,aggregateType:x.Ym.COUNT,isAnimationEnabled:!1};function nh(e,n){return W()({},nb,n)}function nS(e,n,t){return nv.apply(this,arguments)}function nv(){return(nv=function(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var l=e.apply(n,t);function o(e){ng(l,r,a,o,i,"next",e)}function i(e){ng(l,r,a,o,i,"throw",e)}o(void 0)})}}(function(e,n,t){var r,a;return function(e,n){var t,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}(this,function(l){switch(l.label){case 0:return[4,er(e.filter(function(e){return n.find(function(n){return n.id===e.info.id})}))];case 1:return r=l.sent(),[4,ea(t?e.find(function(e){return e.info.id===t.id}):null)];case 2:return a=l.sent(),[2,{catColumn:r,aggregateColumn:a}]}})})).apply(this,arguments)}function nC(e){var n,t=e.config,r=e.columns,l=e.selected,o=e.setExternalConfig,i=e.selectionCallback,c=(0,j.r)(nS,[r,t.catColumnsSelected,t.aggregateColumn]),s=c.value,d=c.status,p=(null==s?void 0:s.catColumn)&&(null==s?void 0:null===(n=s.catColumn)||void 0===n?void 0:n.length)>1,m=u.useMemo(function(){return{top:10,right:20,bottom:30,left:40}},[]);return u.createElement(a.K,{align:"center",justify:"center",style:{width:"100%",height:"100%"},p:"sm"},"pending"===d?u.createElement(P.a,null):p?u.createElement(ny,{column1:s.catColumn[0],column2:s.catColumn[1],aggregateColumn:s.aggregateColumn,margin:m,config:t,selected:l,setExternalConfig:o,selectionCallback:i}):u.createElement(I,{headerMessage:"Invalid settings",bodyMessage:"To create a heatmap chart, select at least 2 categorical columns."}))}try{nC.displayName="HeatmapGrid",nC.__docgenInfo={description:"",displayName:"HeatmapGrid",props:{config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IHeatmapConfig"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},selectionCallback:{defaultValue:null,description:"",name:"selectionCallback",required:!1,type:{name:"(ids: string[]) => void"}},setExternalConfig:{defaultValue:null,description:"",name:"setExternalConfig",required:!1,type:{name:"(config: IHeatmapConfig) => void"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"{ [key: string]: boolean; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/heatmap/HeatmapGrid.tsx#HeatmapGrid"]={docgenInfo:nC.__docgenInfo,name:"HeatmapGrid",path:"src/vis/heatmap/HeatmapGrid.tsx#HeatmapGrid"})}catch(e){}function nO(e){var n=e.config,t=e.columns,a=e.setConfig,l=e.selectionCallback,o=e.selectedMap;return e.enableSidebar,e.setShowSidebar,e.showSidebar,u.createElement(r.Z,{style:{height:"100%",width:"100%"},wrap:"nowrap"},u.createElement(nC,{config:n,columns:t,selected:void 0===o?{}:o,selectionCallback:void 0===l?function(){return null}:l,setExternalConfig:a}))}try{nO.displayName="HeatmapVis",nO.__docgenInfo={description:"",displayName:"HeatmapVis",props:{config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"IHeatmapConfig"}},setConfig:{defaultValue:null,description:"",name:"setConfig",required:!1,type:{name:"(config: IHeatmapConfig) => void"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},optionsConfig:{defaultValue:null,description:"",name:"optionsConfig",required:!1,type:{name:"any"}},colors:{defaultValue:null,description:"",name:"colors",required:!1,type:{name:"string[]"}},shapes:{defaultValue:null,description:"",name:"shapes",required:!1,type:{name:"string[]"}},filterCallback:{defaultValue:null,description:"",name:"filterCallback",required:!1,type:{name:"(s: EFilterOptions) => void"}},selectionCallback:{defaultValue:{value:"() => null"},description:"",name:"selectionCallback",required:!1,type:{name:"(s: string[]) => void"}},selectedMap:{defaultValue:{value:"{}"},description:"",name:"selectedMap",required:!1,type:{name:"{ [key: string]: boolean; }"}},selectedList:{defaultValue:null,description:"",name:"selectedList",required:!1,type:{name:"string[]"}},showCloseButton:{defaultValue:null,description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},closeButtonCallback:{defaultValue:null,description:"",name:"closeButtonCallback",required:!1,type:{name:"() => void"}},scales:{defaultValue:null,description:"",name:"scales",required:!1,type:{name:"Scales"}},enableSidebar:{defaultValue:null,description:"",name:"enableSidebar",required:!1,type:{name:"boolean"}},showSidebar:{defaultValue:null,description:"",name:"showSidebar",required:!1,type:{name:"boolean"}},showSidebarDefault:{defaultValue:null,description:"",name:"showSidebarDefault",required:!1,type:{name:"boolean"}},setShowSidebar:{defaultValue:null,description:"",name:"setShowSidebar",required:!1,type:{name:"(s: boolean) => void"}},extensions:{defaultValue:null,description:"",name:"extensions",required:!1,type:{name:"{ prePlot?: ReactNode; postPlot?: ReactNode; preSidebar?: ReactNode; postSidebar?: ReactNode; }"}},scrollZoom:{defaultValue:null,description:"",name:"scrollZoom",required:!1,type:{name:"boolean"}},showDragModeOptions:{defaultValue:null,description:"",name:"showDragModeOptions",required:!1,type:{name:"boolean"}},dimensions:{defaultValue:null,description:"",name:"dimensions",required:!0,type:{name:"{ width: number; height: number; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/heatmap/HeatmapVis.tsx#HeatmapVis"]={docgenInfo:nO.__docgenInfo,name:"HeatmapVis",path:"src/vis/heatmap/HeatmapVis.tsx#HeatmapVis"})}catch(e){}function nE(e){var n=e.callback,t=e.currentSelected;return u.createElement(e_.I.Wrapper,{label:"Color scale"},u.createElement(eP.s,{fullWidth:!0,value:t,onChange:n,size:"xs",data:[{label:u.createElement(r.Z,{gap:0,wrap:"nowrap"},["#337ab7","#7496c1","#a5b4ca","#d3d3d3","#e5b19d","#ec8e6a","#ec6836"].map(function(e){return u.createElement("span",{key:"colorScale ".concat(e),style:{border:"1px solid lightgrey",background:"".concat(e),height:"1rem",width:"100%"}})})),value:x.WE.DIVERGENT},{label:u.createElement(r.Z,{gap:0,wrap:"nowrap"},["#002245","#214066","#3e618a","#5c84af","#83a8c9","#a9cfe4","#cff6ff"].map(function(e){return u.createElement("span",{key:"colorScale ".concat(e),style:{border:"1px solid lightgrey",background:"".concat(e),height:"1rem",width:"100%"}})})),value:x.WE.SEQUENTIAL}]}))}try{nE.displayName="NumericalColorButtons",nE.__docgenInfo={description:"",displayName:"NumericalColorButtons",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(s: ENumericalColorScaleType) => void"}},currentSelected:{defaultValue:null,description:"",name:"currentSelected",required:!0,type:{name:"enum",value:[{value:'"Sequential"'},{value:'"Divergent"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/sidebar/NumericalColorButtons.tsx#NumericalColorButtons"]={docgenInfo:nE.__docgenInfo,name:"NumericalColorButtons",path:"src/vis/sidebar/NumericalColorButtons.tsx#NumericalColorButtons"})}catch(e){}var nV=t("./node_modules/@fortawesome/free-solid-svg-icons/faPaintbrush.js"),nx=t("./node_modules/@fortawesome/free-solid-svg-icons/faSquare.js"),nw=t("./node_modules/@fortawesome/free-solid-svg-icons/faSearchPlus.js"),nT=t("./node_modules/@fortawesome/free-solid-svg-icons/faArrowsAlt.js");function nA(e){var n=e.callback,t=e.dragMode,r=e.options,a=void 0===r?[x.nj.RECTANGLE,x.nj.LASSO,x.nj.PAN,x.nj.ZOOM]:r;return u.createElement(eP.s,{value:t,onChange:n,data:[{label:u.createElement(b.u,{withArrow:!0,arrowSize:6,label:"Rectangular brush"},u.createElement(m.G,{icon:nx.pL})),value:x.nj.RECTANGLE},{label:u.createElement(b.u,{withArrow:!0,arrowSize:6,label:"Lasso brush"},u.createElement(m.G,{icon:nV.QE})),value:x.nj.LASSO},{label:u.createElement(b.u,{withArrow:!0,arrowSize:6,label:"Zoom/Pan"},u.createElement(m.G,{icon:nT.Qg})),value:x.nj.PAN},{label:u.createElement(b.u,{withArrow:!0,arrowSize:6,label:"Rectangular zoom"},u.createElement(m.G,{icon:nw.N7})),value:x.nj.ZOOM}].filter(function(e){return a.includes(e.value)})})}try{nA.displayName="BrushOptionButtons",nA.__docgenInfo={description:"",displayName:"BrushOptionButtons",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(dragMode: EScatterSelectSettings) => void"}},dragMode:{defaultValue:null,description:"",name:"dragMode",required:!0,type:{name:"enum",value:[{value:'"select"'},{value:'"lasso"'},{value:'"zoom"'},{value:'"pan"'}]}},options:{defaultValue:{value:"[EScatterSelectSettings.RECTANGLE, EScatterSelectSettings.LASSO, EScatterSelectSettings.PAN, EScatterSelectSettings.ZOOM]"},description:"",name:"options",required:!1,type:{name:"EScatterSelectSettings[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/sidebar/BrushOptionButtons.tsx#BrushOptionButtons"]={docgenInfo:nA.__docgenInfo,name:"BrushOptionButtons",path:"src/vis/sidebar/BrushOptionButtons.tsx#BrushOptionButtons"})}catch(e){}function n_(e,n){return n?e.filter(function(e){return e.info.id===n.id})[0]:null}function nk(e){var n=e.callback,t=e.numTypeCallback,r=e.currentNumType,l=void 0===r?null:r,o=e.columns,i=e.currentSelected;return u.createElement(a.K,{gap:"sm"},u.createElement(ek,{callback:function(e){var t;return n(e?null===(t=o.find(function(n){return n.info.id===e.id}))||void 0===t?void 0:t.info:null)},columnType:x.ae.CATEGORICAL,columns:o,currentSelected:i,label:"Color"}),l&&i&&n_(o,i).type===x.ae.NUMERICAL?u.createElement(nE,{callback:void 0===t?function(){return null}:t,currentSelected:l}):null)}t("./node_modules/react-highlight-words/dist/main.js");try{nk.displayName="ColorSelect",nk.__docgenInfo={description:"",displayName:"ColorSelect",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(c: ColumnInfo) => void"}},numTypeCallback:{defaultValue:{value:"() => null"},description:"",name:"numTypeCallback",required:!1,type:{name:"(c: ENumericalColorScaleType) => void"}},currentNumType:{defaultValue:{value:"null"},description:"",name:"currentNumType",required:!1,type:{name:"enum",value:[{value:'"Sequential"'},{value:'"Divergent"'}]}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},currentSelected:{defaultValue:null,description:"",name:"currentSelected",required:!0,type:{name:"ColumnInfo"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/scatter/ColorSelect.tsx#ColorSelect"]={docgenInfo:nk.__docgenInfo,name:"ColorSelect",path:"src/vis/scatter/ColorSelect.tsx#ColorSelect"})}catch(e){}var nR=t("./node_modules/@mantine/core/esm/components/Slider/Slider/Slider.mjs"),nI=t("./node_modules/lodash/debounce.js"),nq=t.n(nI),nP=t("./src/hooks/index.ts");function nL(e){var n=e.callback,t=e.currentValue,r=(0,nP.xd)(n),a=(0,u.useMemo)(function(){return nq()(function(e){var n;return null===(n=r.current)||void 0===n?void 0:n.call(r,e)},10)},[r]);return u.createElement(e_.I.Wrapper,{label:"Opacity",mb:"md"},u.createElement(nR.i,{step:.05,value:+t.toFixed(2),max:1,min:0,marks:[{value:.2,label:"20%"},{value:.5,label:"50%"},{value:.8,label:"80%"}],onChange:function(e){a(e)}}))}try{nL.displayName="OpacitySlider",nL.__docgenInfo={description:"",displayName:"OpacitySlider",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(n: number) => void"}},currentValue:{defaultValue:null,description:"",name:"currentValue",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/scatter/OpacitySlider.tsx#OpacitySlider"]={docgenInfo:nL.__docgenInfo,name:"OpacitySlider",path:"src/vis/scatter/OpacitySlider.tsx#OpacitySlider"})}catch(e){}var nj=t("./src/vis/violin/interfaces.ts");function nB(e){var n=e.callback,t=e.currentSelected;return u.createElement(e_.I.Wrapper,{label:"Overlay"},u.createElement(eP.s,{fullWidth:!0,size:"xs",value:t,onChange:n,data:[{label:nj.$.NONE,value:nj.$.NONE},{label:nj.$.BOX,value:nj.$.BOX}]}))}try{nB.displayName="ViolinOverlayButtons",nB.__docgenInfo={description:"",displayName:"ViolinOverlayButtons",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(s: EViolinOverlay) => void"}},currentSelected:{defaultValue:null,description:"",name:"currentSelected",required:!0,type:{name:"enum",value:[{value:'"None"'},{value:'"Box"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/violin/ViolinOverlayButtons.tsx#ViolinOverlayButtons"]={docgenInfo:nB.__docgenInfo,name:"ViolinOverlayButtons",path:"src/vis/violin/ViolinOverlayButtons.tsx#ViolinOverlayButtons"})}catch(e){}function nN(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])})}return e}function nM(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}function nD(e){var n,t=e.config,r=e.columns,a=e.setConfig;return u.createElement(u.Fragment,null,u.createElement(nn,{callback:function(e){return a(nM(nN({},t),{catColumnsSelected:e}))},columns:r,currentSelected:t.catColumnsSelected||[],columnType:x.ae.CATEGORICAL}),(null==t?void 0:null===(n=t.catColumnsSelected)||void 0===n?void 0:n.length)>1?u.createElement(nE,{callback:function(e){return a(nM(nN({},t),{numColorScaleType:e}))},currentSelected:t.numColorScaleType}):null,u.createElement(eR,{aggregateTypeSelectCallback:function(e){null===t.aggregateColumn?a(nM(nN({},t),{aggregateType:e,aggregateColumn:r.find(function(e){return e.type===x.ae.NUMERICAL}).info})):a(nM(nN({},t),{aggregateType:e}))},aggregateColumnSelectCallback:function(e){return a(nM(nN({},t),{aggregateColumn:e}))},columns:r,currentSelected:t.aggregateType,aggregateColumn:t.aggregateColumn}))}try{nD.displayName="HeatmapVisSidebar",nD.__docgenInfo={description:"",displayName:"HeatmapVisSidebar",props:{config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IHeatmapConfig"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},setConfig:{defaultValue:null,description:"",name:"setConfig",required:!0,type:{name:"(config: IHeatmapConfig) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/heatmap/HeatmapVisSidebar.tsx#HeatmapVisSidebar"]={docgenInfo:nD.__docgenInfo,name:"HeatmapVisSidebar",path:"src/vis/heatmap/HeatmapVisSidebar.tsx#HeatmapVisSidebar"})}catch(e){}var nY=t("./node_modules/@mantine/core/esm/components/Chip/Chip.mjs"),nK=t("./node_modules/d3-hexbin/index.js"),nH=t("./node_modules/lodash/uniqueId.js"),nG=t.n(nH);function nz(e){var n=e.data,t=e.dataCategories,r=e.radius,a=e.transform,l=e.colorScale,o=(0,u.useMemo)(function(){return i.ve8()},[]),c=(0,u.useMemo)(function(){return i.Nb1().innerRadius(0).outerRadius(r)},[r]),s=u.useMemo(function(){return nG()("PieNum")},[]);return u.createElement("g",{style:{transform:a}},o(n).map(function(e,n){return u.createElement("path",{key:"".concat(s,", ").concat(n),d:c(e),style:{fill:l?l(t[n]):"cornflowerblue"}})}))}try{nz.displayName="PieChart",nz.__docgenInfo={description:"",displayName:"PieChart",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"number[]"}},dataCategories:{defaultValue:null,description:"",name:"dataCategories",required:!0,type:{name:"string[]"}},radius:{defaultValue:null,description:"",name:"radius",required:!0,type:{name:"number"}},transform:{defaultValue:null,description:"",name:"transform",required:!0,type:{name:"string"}},colorScale:{defaultValue:null,description:"",name:"colorScale",required:!0,type:{name:"ScaleOrdinal<string, string, never>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/hexbin/PieChart.tsx#PieChart"]={docgenInfo:nz.__docgenInfo,name:"PieChart",path:"src/vis/hexbin/PieChart.tsx#PieChart"})}catch(e){}var nU=t("./src/vis/hexbin/interfaces.ts");function nF(e,n,t,r,a,l,o){try{var i=e[l](o),u=i.value}catch(e){t(e);return}i.done?n(u):Promise.resolve(u).then(r,a)}var nW={type:x.bu.HEXBIN,numColumnsSelected:[],color:null,isOpacityScale:!0,isSizeScale:!1,hexRadius:10,dragMode:x.nj.PAN,hexbinOptions:nU.F.COLOR};function nZ(e,n){var t=W()({},nW,n),r=e.filter(function(e){return e.type===x.ae.NUMERICAL});return 0===t.numColumnsSelected.length&&r.length>1?(t.numColumnsSelected.push(r[r.length-1].info),t.numColumnsSelected.push(r[r.length-2].info)):1===t.numColumnsSelected.length&&r.length>1&&(r[r.length-1].info.id!==t.numColumnsSelected[0].id?t.numColumnsSelected.push(r[r.length-1].info):t.numColumnsSelected.push(r[r.length-2].info)),t}function nX(e,n,t){return n$.apply(this,arguments)}function n$(){return(n$=function(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var l=e.apply(n,t);function o(e){nF(l,r,a,o,i,"next",e)}function i(e){nF(l,r,a,o,i,"throw",e)}o(void 0)})}}(function(e,n,t){var r,a;return function(e,n){var t,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}(this,function(l){switch(l.label){case 0:return[4,er(e.filter(function(e){return n.find(function(n){return n.id===e.info.id})}))];case 1:return r=l.sent(),[4,ea(t?e.find(function(e){return e.info.id===t.id}):null)];case 2:return a=l.sent(),[2,{numColVals:r,colorColVals:a}]}})})).apply(this,arguments)}function nQ(e,n,t,r){if(6===r)return e;if(0===r||t>5)return"";for(var a=e.slice(1,e.length-1).split(/[l]/),l=[0,-n],o=1;o<=t;o++)l[0]+=+a[o].split(",")[0],l[1]+=+a[o].split(",")[1];for(var i="m".concat(l),u=0;u<r;u++)i+=t+1+u>=6?"":"l".concat(a[t+1+u]);return t+r>=6&&(i+="L 0 -".concat(n)),i+="L 0 0 z","".concat(i)}try{nQ.displayName="cutHex",nQ.__docgenInfo={description:"Creates a path for a portion of a single hex in a hexbin plot",displayName:"cutHex",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/hexbin/utils.tsx#cutHex"]={docgenInfo:nQ.__docgenInfo,name:"cutHex",path:"src/vis/hexbin/utils.tsx#cutHex"})}catch(e){}function nJ(e){var n=e.hexbinOption,t=e.hexData,r=e.d3Hexbin,a=e.isSizeScale,l=e.radiusScale,o=e.isOpacityScale,i=e.opacityScale,c=e.hexRadius,s=e.colorScale,d=e.selected,p=void 0===d?{}:d,m=e.isCategorySelected,f=(0,u.useMemo)(function(){var e={};return t.forEach(function(n){e[n[2]]=e[n[2]]?e[n[2]]+1:1}),{catMap:e,catMapKeys:Object.keys(e),catMapVals:Object.values(e)}},[t]),y=f.catMap,g=f.catMapKeys,b=f.catMapVals,h=(0,u.useMemo)(function(){return void 0===t.find(function(e){return!0!==p[e[3]]})},[t,p]),S=(0,u.useMemo)(function(){var e=0,n="";for(var t in y)y[t]>e&&(e=y[t],n=t);return n},[y]),v=t.length/6,C=0;return u.createElement("g",null,u.createElement("clipPath",{id:"".concat(t.x,",").concat(t.y,"Clip")},u.createElement("path",{d:r.hexagon(a?l(t.length):c),style:{transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")}})),n===nU.F.BINS&&m?g.sort().map(function(e){var n=nQ(r.hexagon(a?l(t.length):c),a?l(t.length):c,C,Math.ceil(y[e]/v));return C+=Math.ceil(y[e]/v),u.createElement("g",{key:"".concat(t.x,",").concat(t.y,",").concat(e),clipPath:h?"url(#".concat(t.x,",").concat(t.y,"Clip)"):null},u.createElement("path",{d:n,style:{fill:"".concat(s?h||0===Object.keys(p).length?s(e):"gray":"black"),transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)"),stroke:h?"#E29609":"white",strokeWidth:h?1:0,fillOpacity:o?i(t.length):"1"}}))}):null,n!==nU.F.COLOR&&m?null:u.createElement("g",{clipPath:h?"url(#".concat(t.x,",").concat(t.y,"Clip)"):null},u.createElement("path",{d:r.hexagon(a?l(t.length):c),style:{fill:"".concat(s?h||0===Object.keys(p).length?s(S):"gray":"black"),transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)"),stroke:h?"#E29609":"white",strokeWidth:h?s?1:2:0,fillOpacity:o?i(t.length):"1"}})),n===nU.F.PIE&&m?u.createElement(u.Fragment,null,o?u.createElement("g",{clipPath:h?"url(#".concat(t.x,",").concat(t.y,"Clip)"):null},u.createElement("path",{d:r.hexagon(a?l(t.length):c),style:{fill:"black",transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)"),stroke:h?"#E29609":"white",strokeWidth:h?1:0,fillOpacity:i(t.length)}})):null,u.createElement("g",{style:{opacity:h||0===Object.keys(p).length?1:.2}},u.createElement(nz,{data:b,dataCategories:g,radius:a?l(t.length)/2:c/2,transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)"),colorScale:s}))):null)}try{nJ.displayName="SingleHex",nJ.__docgenInfo={description:"",displayName:"SingleHex",props:{hexbinOption:{defaultValue:null,description:"",name:"hexbinOption",required:!0,type:{name:"enum",value:[{value:'"Color"'},{value:'"Pie"'},{value:'"Bins"'}]}},hexData:{defaultValue:null,description:"",name:"hexData",required:!0,type:{name:"HexbinBin<[number, number, string, string]>"}},d3Hexbin:{defaultValue:null,description:"",name:"d3Hexbin",required:!0,type:{name:"Hexbin<[number, number]>"}},isSizeScale:{defaultValue:null,description:"",name:"isSizeScale",required:!0,type:{name:"boolean"}},radiusScale:{defaultValue:null,description:"",name:"radiusScale",required:!0,type:{name:"ScaleLinear<number, number, never>"}},isOpacityScale:{defaultValue:null,description:"",name:"isOpacityScale",required:!0,type:{name:"boolean"}},opacityScale:{defaultValue:null,description:"",name:"opacityScale",required:!0,type:{name:"ScaleLinear<number, number, never>"}},hexRadius:{defaultValue:null,description:"",name:"hexRadius",required:!0,type:{name:"number"}},colorScale:{defaultValue:null,description:"",name:"colorScale",required:!0,type:{name:"ScaleOrdinal<string, string, never>"}},selected:{defaultValue:{value:"{}"},description:"",name:"selected",required:!1,type:{name:"{ [key: string]: boolean; }"}},isCategorySelected:{defaultValue:null,description:"",name:"isCategorySelected",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/hexbin/SingleHex.tsx#SingleHex"]={docgenInfo:nJ.__docgenInfo,name:"SingleHex",path:"src/vis/hexbin/SingleHex.tsx#SingleHex"})}catch(e){}function n0(e){var n=e.xScale,t=e.yRange,r=e.vertPosition,a=(0,u.useMemo)(function(){return n.ticks(5).map(function(e){return{value:e,xOffset:n(e)}})},[n]);return u.createElement(u.Fragment,null,t?u.createElement("path",{transform:"translate(0, ".concat(r,")"),d:["M",n.range()[0],0,"H",n.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,t?u.createElement("path",{transform:"translate(0, ".concat(t[0],")"),d:["M",n.range()[0],0,"H",n.range()[1]].join(" "),fill:"none",stroke:"lightgray"}):null,a.map(function(e){var n=e.value,a=e.xOffset;return u.createElement("g",{key:n,transform:"translate(".concat(a,", ").concat(r,")")},u.createElement("line",{y2:"6",stroke:"currentColor"}),t?u.createElement("line",{y2:"".concat(-(t[1]-t[0])),stroke:"".concat(0===n?"black":"lightgray")}):null,u.createElement("text",{key:n,fontSize:"10px",textAnchor:"middle",style:{transform:"translateY(20px)"}},n))}))}try{n0.displayName="XAxis",n0.__docgenInfo={description:"",displayName:"XAxis",props:{xScale:{defaultValue:null,description:"",name:"xScale",required:!0,type:{name:"any"}},yRange:{defaultValue:null,description:"",name:"yRange",required:!0,type:{name:"any"}},vertPosition:{defaultValue:null,description:"",name:"vertPosition",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/hexbin/XAxis.tsx#XAxis"]={docgenInfo:n0.__docgenInfo,name:"XAxis",path:"src/vis/hexbin/XAxis.tsx#XAxis"})}catch(e){}function n1(e){var n=e.yScale,t=e.xRange,r=e.horizontalPosition,a=(0,u.useMemo)(function(){return n.ticks(5).map(function(e){return{value:e,yOffset:n(e)}})},[n]);return u.createElement(u.Fragment,null,u.createElement("path",{transform:"translate(".concat(r,", 0)"),d:["M",0,n.range()[0],"V",n.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),u.createElement("path",{transform:"translate(".concat(t[1],", 0)"),d:["M",0,n.range()[0],"V",n.range()[1]].join(" "),fill:"none",stroke:"lightgray"}),a.map(function(e){var n=e.value,a=e.yOffset;return u.createElement("g",{key:n,transform:"translate(".concat(r,", ").concat(a,")")},u.createElement("line",{x2:"-6",stroke:"currentColor"}),u.createElement("line",{x2:"".concat(t[1]-t[0]),stroke:"".concat(0===n?"black":"lightgray")}),u.createElement("text",{key:n,style:{dominantBaseline:"middle",fontSize:"10px",textAnchor:"end",transform:"translateX(-8px)"}},n))}))}try{n1.displayName="YAxis",n1.__docgenInfo={description:"",displayName:"YAxis",props:{yScale:{defaultValue:null,description:"",name:"yScale",required:!0,type:{name:"any"}},xRange:{defaultValue:null,description:"",name:"xRange",required:!0,type:{name:"any"}},horizontalPosition:{defaultValue:null,description:"",name:"horizontalPosition",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/hexbin/YAxis.tsx#YAxis"]={docgenInfo:n1.__docgenInfo,name:"YAxis",path:"src/vis/hexbin/YAxis.tsx#YAxis"})}catch(e){}function n2(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function n3(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(t=a.next()).done)&&(l.push(t.value),!n||l.length!==n);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return n2(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n2(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n5(e){var n,t,r=e.config,a=e.allColumns,l=e.selectionCallback,c=void 0===l?function(){return null}:l,s=e.selected,d=void 0===s?{}:s,p=e.filteredCategories,m=(0,o.h)(),y=m.ref,g=m.width,b=m.height,h=(0,u.useRef)(null),S=(0,u.useRef)(null),v=n3((0,u.useState)(0),2),C=v[0],O=v[1],E=n3((0,u.useState)(0),2),V=E[0],w=E[1],T=n3((0,u.useState)(1),2),A=T[0],_=T[1],k=u.useMemo(function(){return nG()("HexPlot")},[]),R=(0,u.useMemo)(function(){return r.color&&a.colorColVals?{allValues:a.colorColVals.resolvedValues,filteredValues:a.colorColVals.resolvedValues.filter(function(e){return!p.includes(e.val)})}:null},[null==a?void 0:a.colorColVals,r.color,p]),I=(0,u.useMemo)(function(){return{left:48,right:16,top:48,bottom:48}},[]),q=b-I.top-I.bottom,P=g-I.left-I.right,L=(0,u.useMemo)(function(){return a?r.color&&a.colorColVals?{allValues:a.numColVals[0].resolvedValues,filteredValues:a.numColVals[0].resolvedValues.filter(function(e,n){return!p.includes(a.colorColVals.resolvedValues[n].val)})}:{allValues:a.numColVals[0].resolvedValues,filteredValues:a.numColVals[0].resolvedValues}:null},[a,r.color,p]),j=(0,u.useMemo)(function(){return a?r.color&&a.colorColVals?{allValues:a.numColVals[1].resolvedValues,filteredValues:a.numColVals[1].resolvedValues.filter(function(e,n){return!p.includes(a.colorColVals.resolvedValues[n].val)})}:{allValues:a.numColVals[1].resolvedValues,filteredValues:a.numColVals[1].resolvedValues}:null},[a,r.color,p]),N=(0,u.useMemo)(function(){if(null==L?void 0:L.allValues){var e=i.VV$(L.allValues.map(function(e){return e.val})),n=i.Fp7(L.allValues.map(function(e){return e.val}));return i.BYU().domain([e-e/20,n+n/20]).range([I.left,I.left+P])}return null},[null==L?void 0:L.allValues,P]),M=(0,u.useMemo)(function(){if(null==j?void 0:j.allValues){var e=i.VV$(j.allValues.map(function(e){return e.val})),n=i.Fp7(j.allValues.map(function(e){return e.val}));return i.BYU().domain([e-e/20,n+n/20]).range([I.top+q,I.top])}return null},[null==j?void 0:j.allValues,q]),D=(0,u.useMemo)(function(){return nK.g().radius(r.hexRadius).extent([[0,0],[P,q]])},[r.hexRadius,q,P]),Y=(0,u.useMemo)(function(){var e=[];return L&&j&&L.filteredValues.forEach(function(n,t){e.push([N(n.val),M(j.filteredValues[t].val),R?R.filteredValues[t].val:"",n.id])}),D(e)},[R,L,D,N,M,j]),K=(0,u.useMemo)(function(){var e=n3(i.Wem(Y,function(e){return e.length}),2),n=e[0],t=e[1];return i.BYU().domain([n,t]).range([r.hexRadius/2,r.hexRadius])},[Y,r.hexRadius]),H=(0,u.useMemo)(function(){var e=n3(i.Wem(Y,function(e){return e.length}),2),n=e[0],t=e[1];return i.BYU().domain([n,t]).range([.1,1])},[Y]),G=(0,u.useMemo)(function(){if(!(null==R?void 0:R.allValues))return null;var e=R.allValues.map(function(e){return e.val});return i.PKp(a.colorColVals.color?Object.keys(a.colorColVals.color):i.Cn1).domain(a.colorColVals.color?Object.values(a.colorColVals.color):Array.from(new Set(e)))},[a,R]),z=u.useMemo(function(){return u.createElement(u.Fragment,null,Y.map(function(e){return u.createElement(nJ,{key:"".concat(e.x,", ").concat(e.y),selected:d,hexbinOption:r.hexbinOptions,hexData:e,d3Hexbin:D,isSizeScale:r.isSizeScale,radiusScale:K,isOpacityScale:r.isOpacityScale,opacityScale:H,hexRadius:r.hexRadius,colorScale:G,isCategorySelected:!!r.color})}))},[G,r.hexRadius,r.isOpacityScale,r.isSizeScale,D,Y,H,K,d,r.hexbinOptions,r.color]);return(0,u.useEffect)(function(){var e=i.sPX();N&&M&&(e.on("zoom",function(e){var n=e.transform,t=n.rescaleX(N),r=n.rescaleY(M);h.current=t,S.current=r,_(n.k),O(n.x),w(n.y)}),i.Ys("#".concat(k,"zoom")).call(e))},[k,N,M,q,P]),(0,u.useEffect)(function(){if(r.dragMode===x.nj.RECTANGLE){var e=i.DmU().extent([[I.left,I.top],[I.left+P,I.top+q]]);return i.Ys("#".concat(k,"brush")).call(e.on("end",function(n){if(n.sourceEvent){if(!n.selection){c([]);return}var t=h.current?N(h.current.invert(n.selection[0][0])):n.selection[0][0],r=S.current?M(S.current.invert(n.selection[0][1])):n.selection[0][1],a=h.current?N(h.current.invert(n.selection[1][0])):n.selection[1][0],l=S.current?M(S.current.invert(n.selection[1][1])):n.selection[1][1];c(Y.filter(function(e){return h.current?e.x>=t&&e.x<=a&&e.y>=r&&e.y<=l:e.x>=n.selection[0][0]&&e.x<=n.selection[1][0]&&e.y>=n.selection[0][1]&&e.y<=n.selection[1][1]}).map(function(e){return e.map(function(e){return e[3]})}).flat()),i.Ys(this).call(e.move,null)}})),function(){e.on("end",null)}}},[P,q,k,Y,c,r.dragMode,N,M,I]),u.createElement(f.x,{ref:y},u.createElement(B.W,{fluid:!0,pl:0,pr:0,style:{height:q+I.top+I.bottom,width:"100%",".overlay":{cursor:"default !important"}}},u.createElement("svg",{id:k,width:P+I.left+I.right,height:q+I.top+I.bottom},u.createElement("defs",null,u.createElement("clipPath",{id:"clip"},u.createElement("rect",{style:{transform:"translate(".concat(I.left,"px, ").concat(I.top,"px)")},width:P,height:q}))),u.createElement("g",{clipPath:"url(#clip)"},u.createElement("g",{id:"".concat(k,"brush")},u.createElement("g",{style:{transform:"translate(".concat(C,"px, ").concat(V,"px) scale(").concat(A,")")}},u.createElement("g",null,z)))),N?u.createElement(n0,{vertPosition:q+I.top,yRange:[I.top,q+I.top],xScale:h.current||N}):null,M?u.createElement(n1,{horizontalPosition:I.left,xRange:[I.left,P+I.left],yScale:S.current||M}):null,u.createElement("text",{dominantBaseline:"middle",textAnchor:"middle",style:{transform:"translate(".concat(I.left+P/2,"px, ").concat(I.top+q+30,"px)")}},null==a?void 0:null===(n=a.numColVals[0])||void 0===n?void 0:n.info.name),u.createElement("text",{dominantBaseline:"middle",textAnchor:"middle",style:{transform:"translate(10px, ".concat(I.top+q/2,"px) rotate(-90deg)")}},null==a?void 0:null===(t=a.numColVals[1])||void 0===t?void 0:t.info.name),u.createElement("rect",{transform:"translate(".concat(I.left,", ").concat(I.top,")"),id:"".concat(k,"zoom"),width:P,height:q,opacity:0,pointerEvents:r.dragMode===x.nj.PAN?"auto":"none"}))))}try{n5.displayName="Hexplot",n5.__docgenInfo={description:"",displayName:"Hexplot",props:{config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IHexbinConfig"}},allColumns:{defaultValue:null,description:"",name:"allColumns",required:!0,type:{name:"ResolvedHexValues"}},selectionCallback:{defaultValue:{value:"() => null"},description:"",name:"selectionCallback",required:!1,type:{name:"(ids: string[]) => void"}},selected:{defaultValue:{value:"{}"},description:"",name:"selected",required:!1,type:{name:"{ [key: string]: boolean; }"}},filteredCategories:{defaultValue:null,description:"",name:"filteredCategories",required:!0,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/hexbin/Hexplot.tsx#Hexplot"]={docgenInfo:n5.__docgenInfo,name:"Hexplot",path:"src/vis/hexbin/Hexplot.tsx#Hexplot"})}catch(e){}function n6(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function n4(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])})}return e}function n8(e,n){if(e){if("string"==typeof e)return n6(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n6(e,n)}}function n7(e){var n=e.categories,t=e.filteredCategories,r=e.colorScale,l=e.onClick,o=e.height;return u.createElement(y.x,{style:{height:o}},u.createElement(a.K,{style:{width:"80px"},gap:10},n.map(function(e){return u.createElement(b.u,{key:e,label:e,withArrow:!0,arrowSize:6},u.createElement(f.x,null,u.createElement(nY.A,{variant:"filled",onClick:function(){return l(e)},checked:!1,styles:{label:{width:"100%",backgroundColor:t.includes(e)?"lightgrey":"".concat(r(e)," !important"),textAlign:"center",paddingLeft:"10px",paddingRight:"10px",overflow:"hidden",color:t.includes(e)?"black":"white",textOverflow:"ellipsis"}}},e)))})))}function n9(e){var n=e.config,t=e.columns,l=e.dimensions,o=e.setConfig,c=e.selectionCallback,s=void 0===c?function(){return null}:c,d=e.selectedMap,p=void 0===d?{}:d,m=e.showDragModeOptions,y=void 0===m||m,g=l.width,b=l.height,h=(0,j.r)(nX,[t,n.numColumnsSelected,n.color]),S=h.value,C=h.status,O=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(t=a.next()).done)&&(l.push(t.value),!n||l.length!==n);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}}(e,n)||n8(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(u.useState([]),2),E=O[0],V=O[1],w=u.useMemo(function(){return n.color&&(null==S?void 0:S.colorColVals)?{allValues:S.colorColVals.resolvedValues,filteredValues:S.colorColVals.resolvedValues.filter(function(e){return!E.includes(e.val)})}:null},[null==S?void 0:S.colorColVals,n.color,E]),T=u.useMemo(function(){if(!(null==w?void 0:w.allValues))return null;var e=w.allValues.map(function(e){return e.val});return i.PKp(S.colorColVals.color?Object.keys(S.colorColVals.color):i.Cn1).domain(S.colorColVals.color?Object.values(S.colorColVals.color):Array.from(new Set(e)))},[w,S]);return u.createElement(a.K,{gap:0,style:{width:g,height:b}},y?u.createElement(_.M,null,u.createElement(r.Z,{mt:"lg"},u.createElement(nA,{callback:function(e){return o(function(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}(n4({},n),{dragMode:e}))},options:[x.nj.RECTANGLE,x.nj.PAN],dragMode:n.dragMode}))):null,u.createElement(r.Z,{style:{flexGrow:1,height:0},wrap:"nowrap"},u.createElement(f.x,{style:n4({flexGrow:1,position:"relative",height:"100%",display:"grid"},n.numColumnsSelected.length>2?{gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gridTemplateRows:"repeat(3, minmax(0, 1fr))",gap:"1rem 1rem"}:{gridTemplateColumns:"repeat(1, minmax(0, 1fr))",gridTemplateRows:"repeat(1, minmax(0, 1fr))",gap:"1rem 1rem"})},n.numColumnsSelected.length<2?u.createElement(I,{headerMessage:v.ag.t("visyn:vis.errorHeader"),bodyMessage:v.ag.t("visyn:vis.hexbinError")}):null,2===n.numColumnsSelected.length&&(null==S?void 0:S.numColVals.length)===n.numColumnsSelected.length&&"success"===C?u.createElement(n5,{selectionCallback:s,selected:p,config:n,allColumns:S,filteredCategories:E}):null,n.numColumnsSelected.length>2&&(null==S?void 0:S.numColVals.length)===n.numColumnsSelected.length&&"success"===C?n.numColumnsSelected.map(function(e){return n.numColumnsSelected.map(function(t){return e.id!==t.id?u.createElement(n5,{key:t.id+e.id,selectionCallback:s,selected:p,config:n,filteredCategories:E,allColumns:{numColVals:[S.numColVals.find(function(e){return e.info.id===t.id}),S.numColVals.find(function(n){return n.info.id===e.id})],colorColVals:S.colorColVals}}):u.createElement("div",{key:"".concat(e.id,"hist")})})}):null),w?u.createElement("div",{style:{width:(0,R.h)(100)}},u.createElement(n7,{categories:T?T.domain():[],filteredCategories:T?E:[],colorScale:T||null,onClick:function(e){return E.includes(e)?V(E.filter(function(n){return n!==e})):V((function(e){return function(e){if(Array.isArray(e))return n6(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n8(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()})(E).concat([e]))},height:b-100})):null))}try{n9.displayName="HexbinVis",n9.__docgenInfo={description:"",displayName:"HexbinVis",props:{config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"IHexbinConfig"}},setConfig:{defaultValue:null,description:"",name:"setConfig",required:!1,type:{name:"(config: IHexbinConfig) => void"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},optionsConfig:{defaultValue:null,description:"",name:"optionsConfig",required:!1,type:{name:"any"}},colors:{defaultValue:null,description:"",name:"colors",required:!1,type:{name:"string[]"}},shapes:{defaultValue:null,description:"",name:"shapes",required:!1,type:{name:"string[]"}},filterCallback:{defaultValue:null,description:"",name:"filterCallback",required:!1,type:{name:"(s: EFilterOptions) => void"}},selectionCallback:{defaultValue:{value:"() => null"},description:"",name:"selectionCallback",required:!1,type:{name:"(s: string[]) => void"}},selectedMap:{defaultValue:{value:"{}"},description:"",name:"selectedMap",required:!1,type:{name:"{ [key: string]: boolean; }"}},selectedList:{defaultValue:null,description:"",name:"selectedList",required:!1,type:{name:"string[]"}},showCloseButton:{defaultValue:null,description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},closeButtonCallback:{defaultValue:null,description:"",name:"closeButtonCallback",required:!1,type:{name:"() => void"}},scales:{defaultValue:null,description:"",name:"scales",required:!1,type:{name:"Scales"}},enableSidebar:{defaultValue:null,description:"",name:"enableSidebar",required:!1,type:{name:"boolean"}},showSidebar:{defaultValue:null,description:"",name:"showSidebar",required:!1,type:{name:"boolean"}},showSidebarDefault:{defaultValue:null,description:"",name:"showSidebarDefault",required:!1,type:{name:"boolean"}},setShowSidebar:{defaultValue:null,description:"",name:"setShowSidebar",required:!1,type:{name:"(s: boolean) => void"}},extensions:{defaultValue:null,description:"",name:"extensions",required:!1,type:{name:"{ prePlot?: ReactNode; postPlot?: ReactNode; preSidebar?: ReactNode; postSidebar?: ReactNode; }"}},scrollZoom:{defaultValue:null,description:"",name:"scrollZoom",required:!1,type:{name:"boolean"}},showDragModeOptions:{defaultValue:{value:"true"},description:"",name:"showDragModeOptions",required:!1,type:{name:"boolean"}},dimensions:{defaultValue:null,description:"",name:"dimensions",required:!0,type:{name:"{ width: number; height: number; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/hexbin/HexbinVis.tsx#HexbinVis"]={docgenInfo:n9.__docgenInfo,name:"HexbinVis",path:"src/vis/hexbin/HexbinVis.tsx#HexbinVis"})}catch(e){}var te=t("./node_modules/@mantine/core/esm/components/Switch/Switch.mjs");function tn(e){var n=e.callback,t=e.currentValue;return u.createElement(te.r,{checked:t,onChange:function(e){return n(e.currentTarget.checked)},label:"Opacity scale"})}try{tn.displayName="HexOpacitySwitch",tn.__docgenInfo={description:"",displayName:"HexOpacitySwitch",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(b: boolean) => void"}},currentValue:{defaultValue:null,description:"",name:"currentValue",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/hexbin/HexOpacitySwitch.tsx#HexOpacitySwitch"]={docgenInfo:tn.__docgenInfo,name:"HexOpacitySwitch",path:"src/vis/hexbin/HexOpacitySwitch.tsx#HexOpacitySwitch"})}catch(e){}function tt(e){var n=e.callback,t=e.currentValue,r=(0,nP.xd)(n),a=(0,u.useMemo)(function(){return nq()(function(e){var n;return null===(n=r.current)||void 0===n?void 0:n.call(r,e)},10)},[r]);return u.createElement(e_.I.Wrapper,{label:"Size",mb:"md"},u.createElement(nR.i,{step:1,value:t,max:25,min:5,marks:[{value:10,label:"10"},{value:15,label:"15"},{value:20,label:"20"}],onChange:function(e){a(e)}}))}try{tt.displayName="HexSizeSlider",tt.__docgenInfo={description:"",displayName:"HexSizeSlider",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(n: number) => void"}},currentValue:{defaultValue:null,description:"",name:"currentValue",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/hexbin/HexSizeSlider.tsx#HexSizeSlider"]={docgenInfo:tt.__docgenInfo,name:"HexSizeSlider",path:"src/vis/hexbin/HexSizeSlider.tsx#HexSizeSlider"})}catch(e){}function tr(e){var n=e.callback,t=e.currentValue;return u.createElement(te.r,{checked:t,onChange:function(e){return n(e.currentTarget.checked)},label:"Size scale"})}try{tr.displayName="HexSizeSwitch",tr.__docgenInfo={description:"",displayName:"HexSizeSwitch",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(b: boolean) => void"}},currentValue:{defaultValue:null,description:"",name:"currentValue",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/hexbin/HexSizeSwitch.tsx#HexSizeSwitch"]={docgenInfo:tr.__docgenInfo,name:"HexSizeSwitch",path:"src/vis/hexbin/HexSizeSwitch.tsx#HexSizeSwitch"})}catch(e){}function ta(e){var n=e.callback,t=e.currentSelected,r=[{value:nU.F.COLOR,label:nU.F.COLOR},{value:nU.F.BINS,label:nU.F.BINS},{value:nU.F.PIE,label:nU.F.PIE}];return u.createElement(C.P,{label:v.ag.t("visyn:vis.hexbinOptions"),onChange:function(e){return n(e)},data:r,clearable:!1,value:t})}try{ta.displayName="HexbinOptionSelect",ta.__docgenInfo={description:"",displayName:"HexbinOptionSelect",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(c: EHexbinOptions) => void"}},currentSelected:{defaultValue:null,description:"",name:"currentSelected",required:!0,type:{name:"enum",value:[{value:'"Color"'},{value:'"Pie"'},{value:'"Bins"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/hexbin/HexbinOptionSelect.tsx#HexbinOptionSelect"]={docgenInfo:ta.__docgenInfo,name:"HexbinOptionSelect",path:"src/vis/hexbin/HexbinOptionSelect.tsx#HexbinOptionSelect"})}catch(e){}function tl(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])})}return e}function to(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}function ti(e){var n=e.config,t=e.columns,r=e.setConfig;return u.createElement(u.Fragment,null,u.createElement(nn,{callback:function(e){return r(to(tl({},n),{numColumnsSelected:e}))},columns:t,currentSelected:n.numColumnsSelected||[],columnType:x.ae.NUMERICAL}),u.createElement(ek,{columnType:x.ae.CATEGORICAL,label:"Color by category",callback:function(e){return r(to(tl({},n),{color:e}))},columns:t,currentSelected:n.color}),n.color?u.createElement(ta,{callback:function(e){return r(to(tl({},n),{hexbinOptions:e}))},currentSelected:n.hexbinOptions}):null,u.createElement(tt,{currentValue:n.hexRadius,callback:function(e){return r(to(tl({},n),{hexRadius:e}))}}),u.createElement(tr,{currentValue:n.isSizeScale,callback:function(e){return r(to(tl({},n),{isSizeScale:e}))}}),u.createElement(tn,{currentValue:n.isOpacityScale,callback:function(e){return r(to(tl({},n),{isOpacityScale:e}))}}))}try{ti.displayName="HexbinVisSidebar",ti.__docgenInfo={description:"",displayName:"HexbinVisSidebar",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},optionsConfig:{defaultValue:null,description:"",name:"optionsConfig",required:!1,type:{name:"any"}},filterCallback:{defaultValue:null,description:"",name:"filterCallback",required:!1,type:{name:"(s: EFilterOptions) => void"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IHexbinConfig"}},setConfig:{defaultValue:null,description:"",name:"setConfig",required:!0,type:{name:"(c: IHexbinConfig) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/hexbin/HexbinVisSidebar.tsx#HexbinVisSidebar"]={docgenInfo:ti.__docgenInfo,name:"HexbinVisSidebar",path:"src/vis/hexbin/HexbinVisSidebar.tsx#HexbinVisSidebar"})}catch(e){}var tu=t("./node_modules/lodash/lodash.js"),tc=t("./src/vis/raincloud/interfaces.ts");function ts(e,n,t,r,a,l,o){try{var i=e[l](o),u=i.value}catch(e){t(e);return}i.done?n(u):Promise.resolve(u).then(r,a)}var td={type:x.bu.RAINCLOUD,numColumnsSelected:[],cloudType:tc.$9.SPLIT_VIOLIN,rainType:tc.g6.DOTPLOT,lightningType:tc.eP.BOXPLOT,aggregateRain:!1};function tp(e,n){return(0,tu.merge)({},td,n)}function tm(e,n){return tf.apply(this,arguments)}function tf(){return(tf=function(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var l=e.apply(n,t);function o(e){ts(l,r,a,o,i,"next",e)}function i(e){ts(l,r,a,o,i,"throw",e)}o(void 0)})}}(function(e,n){var t,r;return function(e,n){var t,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}(this,function(a){switch(a.label){case 0:return[4,er(e.filter(function(e){return n.find(function(n){return n.id===e.info.id})}))];case 1:return t=a.sent(),[4,eo(e)];case 2:return r=a.sent(),[2,{numColVals:t,idToLabelMapper:r}]}})})).apply(this,arguments)}function ty(e){var n=e.x,t=e.y,r=e.height,a=e.width,l=e.id,o=e.onBrush;return(0,u.useEffect)(function(){var e=i.Yud().extent([[n,t],[n+a,t+r]]).on("brush",function(e){o(e.selection)}).on("end",function(e){e.selection||o(null)});i.Ys("#brush".concat(l)).call(e)},[r,l,o,a,n,t]),u.createElement("g",{id:"brush".concat(l)})}try{ty.displayName="Brush",ty.__docgenInfo={description:"",displayName:"Brush",props:{y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}},x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},onBrush:{defaultValue:null,description:"",name:"onBrush",required:!0,type:{name:"(brushArea: [number, number]) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/Brush.tsx#Brush"]={docgenInfo:ty.__docgenInfo,name:"Brush",path:"src/vis/raincloud/Brush.tsx#Brush"})}catch(e){}function tg(e){var n=e.range,t=e.column,r=n[0],a=n[1];return u.useMemo(function(){return i.BYU().domain(i.Wem(t.resolvedValues.map(function(e){return e.val}))).range([r,a])},[t,r,a])}try{tg.displayName="useXScale",tg.__docgenInfo={description:"",displayName:"useXScale",props:{range:{defaultValue:null,description:"",name:"range",required:!0,type:{name:"[number, number]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"{ resolvedValues: (VisNumericalValue | VisCategoricalValue)[]; type: EColumnTypes; info: ColumnInfo; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/hooks/useXScale.tsx#useXScale"]={docgenInfo:tg.__docgenInfo,name:"useXScale",path:"src/vis/raincloud/hooks/useXScale.tsx#useXScale"})}catch(e){}function tb(e){var n=e.values,t=e.xScale,r=e.ticks,a=(0,u.useMemo)(function(){return(0,L.Kz)({values:n}).rollup({variance:L.op.variance("values"),q1:L.op.quantile("values",.25),q3:L.op.quantile("values",.75)}).objects()[0]},[n]);return(0,u.useMemo)(function(){return(function(e,n){return function(t){return n.map(function(n){return[n,i.J69(t,function(t){return e(n-t)})]})}})(function(e){return function(n){return 1>=Math.abs(n/=e)?.75*(1-n*n)/e:0}}(function(e,n,t){var r=Math.sqrt(function(e,n){return e*n/(n-1)}(n,t));return"number"==typeof e&&(r=Math.min(r,e/1.34)),1.06*r*Math.pow(t,-.2)}(a.q3-a.q1,a.variance,n.length)),t.ticks(r))(n)},[a,n,t,r])}try{tb.displayName="useKdeCalc",tb.__docgenInfo={description:"",displayName:"useKdeCalc",props:{values:{defaultValue:null,description:"",name:"values",required:!0,type:{name:"number[]"}},xScale:{defaultValue:null,description:"",name:"xScale",required:!0,type:{name:"ScaleLinear<number, number, never>"}},ticks:{defaultValue:null,description:"",name:"ticks",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/cloud/useKdeCalc.tsx#useKdeCalc"]={docgenInfo:tb.__docgenInfo,name:"useKdeCalc",path:"src/vis/raincloud/cloud/useKdeCalc.tsx#useKdeCalc"})}catch(e){}var th={top:30,left:20,right:20};function tS(e){var n=e.numCol,t=(e.config,e.width),r=e.height,a=tg({range:[th.left,t-th.right],column:n}),l=tb({values:n.resolvedValues.map(function(e){return e.val}),xScale:a,ticks:50}),o=(0,u.useMemo)(function(){return i.cJy(i.sOJ(i.LX0.gamma(2.2),["#E9ECEF","#DEE2E6","#C8CED3","#BCC3C9","#ACB4BC","#99A1A9","#878E95","#71787E","#62686F","#505459"])).domain([0,i.Fp7(l.map(function(e){return e[1]}))])},[l]),c=(0,u.useMemo)(function(){return a(l[1][0])-a(l[0][0])},[l,a]);return u.createElement("g",null,l.map(function(e){return u.createElement("rect",{key:e[0],x:a(e[0]),y:r-(r>100+th.top?100:r-th.top),width:c,height:r>100+th.top?100:r-th.top,fill:o(e[1])})}))}try{tS.displayName="Heatmap",tS.__docgenInfo={description:"",displayName:"Heatmap",props:{numCol:{defaultValue:null,description:"",name:"numCol",required:!0,type:{name:"{ resolvedValues: (VisNumericalValue | VisCategoricalValue)[]; type: EColumnTypes; info: ColumnInfo; }"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IRaincloudConfig"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/cloud/Heatmap.tsx#Heatmap"]={docgenInfo:tS.__docgenInfo,name:"Heatmap",path:"src/vis/raincloud/cloud/Heatmap.tsx#Heatmap"})}catch(e){}function tv(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var tC={top:30,bottom:0,left:20,right:20};function tO(e){var n=e.numCol,t=(e.config,e.width),r=e.height,a=tg({range:[tC.left,t-tC.right],column:n}),l=tb({values:n.resolvedValues.map(function(e){return e.val}),xScale:a,ticks:10}),o=(0,u.useMemo)(function(){return i.BYU().domain([0,i.Fp7(l.map(function(e){return e[1]}))]).range([tC.top,r-tC.bottom])},[r,l]),c=(0,u.useMemo)(function(){return a(l[1][0])-a(l[0][0])},[l,a]);return u.createElement("g",null,l.map(function(e){var n=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(t=a.next()).done)&&(l.push(t.value),!n||l.length!==n);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return tv(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tv(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),t=n[0],l=n[1];return u.createElement("rect",{fill:"gray",key:t,x:a(t),y:r-o(l)+tC.top,height:o(l)-tC.top,width:c})}),";")}try{tO.displayName="Histogram",tO.__docgenInfo={description:"",displayName:"Histogram",props:{numCol:{defaultValue:null,description:"",name:"numCol",required:!0,type:{name:"{ resolvedValues: (VisNumericalValue | VisCategoricalValue)[]; type: EColumnTypes; info: ColumnInfo; }"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IRaincloudConfig"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/cloud/Histogram.tsx#Histogram"]={docgenInfo:tO.__docgenInfo,name:"Histogram",path:"src/vis/raincloud/cloud/Histogram.tsx#Histogram"})}catch(e){}function tE(e){var n=e.numCol,t=(e.config,e.width),r=e.height,a=tg({range:[20,t-20],column:n}),l=tb({values:n.resolvedValues.map(function(e){return e.val}),xScale:a,ticks:50}),o=(0,u.useMemo)(function(){return i.BYU().domain([i.Fp7(l.map(function(e){return e[1]})),0]).range([30,r-0])},[r,l]),c=(0,u.useMemo)(function(){var e=i.jvg().curve(i.$0Z).x(function(e){return a(e[0])}).y(function(e){return o(e[1])});return"".concat(e(l),"L").concat(a.range()[1],",").concat(o.range()[1],"L").concat(a.range()[0],",").concat(o.range()[1],"Z")},[l,a,o]);return u.createElement("path",{fill:"gray",stroke:"gray",strokeWidth:1,d:c})}try{tE.displayName="SplitViolin",tE.__docgenInfo={description:"",displayName:"SplitViolin",props:{numCol:{defaultValue:null,description:"",name:"numCol",required:!0,type:{name:"{ resolvedValues: (VisNumericalValue | VisCategoricalValue)[]; type: EColumnTypes; info: ColumnInfo; }"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IRaincloudConfig"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/cloud/SplitViolin.tsx#SplitViolin"]={docgenInfo:tE.__docgenInfo,name:"SplitViolin",path:"src/vis/raincloud/cloud/SplitViolin.tsx#SplitViolin"})}catch(e){}function tV(e){var n=e.numCol,t=(e.config,e.width),r=(e.height,e.yPos),a=e.baseTable,l=tg({range:[20,t-20],column:n}),o=(0,u.useMemo)(function(){return a.rollup({median:L.op.median("values"),firstQuartile:L.op.quantile("values",.25),thirdQuartile:L.op.quantile("values",.75),max:L.op.max("values"),min:L.op.min("values")})},[a]);return u.createElement("g",null,o.objects().map(function(e){return u.createElement("g",{key:e.median},u.createElement("line",{stroke:"#f4c430",strokeWidth:4,x1:l(e.median),x2:l(e.median),y1:r-10,y2:r+10}),u.createElement("line",{stroke:"#f4c430",strokeWidth:4,x1:l(e.median),x2:l(e.firstQuartile)-2,y1:r-10,y2:r-10}),u.createElement("line",{stroke:"#f4c430",strokeWidth:4,x1:l(e.median),x2:l(e.firstQuartile)-2,y1:r+10,y2:r+10}),u.createElement("line",{stroke:"#f4c430",strokeWidth:4,x1:l(e.median),x2:l(e.thirdQuartile)+2,y1:r-10,y2:r-10}),u.createElement("line",{stroke:"#f4c430",strokeWidth:4,x1:l(e.median),x2:l(e.thirdQuartile)+2,y1:r+10,y2:r+10}),u.createElement("line",{stroke:"#f4c430",strokeWidth:4,x1:l(e.firstQuartile),x2:l(e.min),y1:r,y2:r}),u.createElement("line",{stroke:"#f4c430",strokeWidth:4,x1:l(e.thirdQuartile),x2:l(e.thirdQuartile),y1:r-10,y2:r+10}),u.createElement("line",{stroke:"#f4c430",strokeWidth:4,x1:l(e.firstQuartile),x2:l(e.firstQuartile),y1:r-10,y2:r+10}),u.createElement("line",{stroke:"#f4c430",strokeWidth:4,x1:l(e.firstQuartile),x2:l(e.min),y1:r,y2:r}),u.createElement("line",{stroke:"#f4c430",strokeWidth:4,x1:l(e.thirdQuartile),x2:l(e.max),y1:r,y2:r}))}))}try{tV.displayName="Boxplot",tV.__docgenInfo={description:"",displayName:"Boxplot",props:{numCol:{defaultValue:null,description:"",name:"numCol",required:!0,type:{name:"{ resolvedValues: (VisNumericalValue | VisCategoricalValue)[]; type: EColumnTypes; info: ColumnInfo; }"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IRaincloudConfig"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},yPos:{defaultValue:null,description:"",name:"yPos",required:!0,type:{name:"number"}},baseTable:{defaultValue:null,description:"",name:"baseTable",required:!0,type:{name:"ColumnTable"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/lightning/Boxplot.tsx#Boxplot"]={docgenInfo:tV.__docgenInfo,name:"Boxplot",path:"src/vis/raincloud/lightning/Boxplot.tsx#Boxplot"})}catch(e){}function tx(e){var n=e.numCol,t=(e.config,e.width),r=(e.height,e.yPos),a=e.baseTable,l=tg({range:[20,t-20],column:n}),o=(0,u.useMemo)(function(){return a.rollup({mean:L.op.mean("values")})},[a]);return u.createElement("g",null,o.objects().map(function(e){return u.createElement("g",{key:e.mean},u.createElement("circle",{cx:l(e.mean),r:8,fill:"#f4c430",cy:r}))}))}try{tx.displayName="Mean",tx.__docgenInfo={description:"",displayName:"Mean",props:{numCol:{defaultValue:null,description:"",name:"numCol",required:!0,type:{name:"{ resolvedValues: (VisNumericalValue | VisCategoricalValue)[]; type: EColumnTypes; info: ColumnInfo; }"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IRaincloudConfig"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},yPos:{defaultValue:null,description:"",name:"yPos",required:!0,type:{name:"number"}},baseTable:{defaultValue:null,description:"",name:"baseTable",required:!0,type:{name:"ColumnTable"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/lightning/Mean.tsx#Mean"]={docgenInfo:tx.__docgenInfo,name:"Mean",path:"src/vis/raincloud/lightning/Mean.tsx#Mean"})}catch(e){}function tw(e){var n=e.numCol,t=(e.config,e.width),r=(e.height,e.yPos),a=e.baseTable,l=tg({range:[20,t-20],column:n}),o=(0,u.useMemo)(function(){return a.rollup({mean:L.op.mean("values"),stdev:L.op.stdev("values")})},[a]);return u.createElement("g",null,o.objects().map(function(e){return u.createElement("g",{key:e.mean},u.createElement("circle",{cx:l(e.mean),r:8,fill:"#f4c430",cy:r}),u.createElement("line",{strokeLinecap:"round",stroke:"#f4c430",strokeWidth:8,x1:l(e.mean),x2:l(e.mean-e.stdev),y1:r,y2:r}),u.createElement("line",{strokeLinecap:"round",stroke:"#f4c430",strokeWidth:8,x1:l(e.mean),x2:l(e.mean+e.stdev),y1:r,y2:r}))}))}try{tw.displayName="MeanAndInterval",tw.__docgenInfo={description:"",displayName:"MeanAndInterval",props:{numCol:{defaultValue:null,description:"",name:"numCol",required:!0,type:{name:"{ resolvedValues: (VisNumericalValue | VisCategoricalValue)[]; type: EColumnTypes; info: ColumnInfo; }"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IRaincloudConfig"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},yPos:{defaultValue:null,description:"",name:"yPos",required:!0,type:{name:"number"}},baseTable:{defaultValue:null,description:"",name:"baseTable",required:!0,type:{name:"ColumnTable"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/lightning/MeanAndInterval.tsx#MeanAndInterval"]={docgenInfo:tw.__docgenInfo,name:"MeanAndInterval",path:"src/vis/raincloud/lightning/MeanAndInterval.tsx#MeanAndInterval"})}catch(e){}function tT(e){var n=e.numCol,t=(e.config,e.width),r=(e.height,e.yPos),a=e.baseTable,l=tg({range:[20,t-20],column:n}),o=(0,u.useMemo)(function(){return a.rollup({median:L.op.median("values"),stdev:L.op.stdev("values")})},[a]);return u.createElement("g",null,o.objects().map(function(e){return u.createElement("g",{key:e.median},u.createElement("circle",{cx:l(e.median),r:8,fill:"#f4c430",cy:r}),u.createElement("line",{strokeLinecap:"round",stroke:"#f4c430",strokeWidth:10,x1:l(e.median),x2:l(e.median-e.stdev),y1:r,y2:r}),u.createElement("line",{strokeLinecap:"round",stroke:"#f4c430",strokeWidth:10,x1:l(e.median),x2:l(e.median+e.stdev),y1:r,y2:r}),u.createElement("line",{strokeLinecap:"round",stroke:"#f4c430",strokeWidth:6,x1:l(e.median),x2:l(e.median-2*e.stdev),y1:r,y2:r}),u.createElement("line",{strokeLinecap:"round",stroke:"#f4c430",strokeWidth:6,x1:l(e.median),x2:l(e.median+2*e.stdev),y1:r,y2:r}))}))}try{tT.displayName="MedianAndInterval",tT.__docgenInfo={description:"",displayName:"MedianAndInterval",props:{numCol:{defaultValue:null,description:"",name:"numCol",required:!0,type:{name:"{ resolvedValues: (VisNumericalValue | VisCategoricalValue)[]; type: EColumnTypes; info: ColumnInfo; }"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IRaincloudConfig"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},yPos:{defaultValue:null,description:"",name:"yPos",required:!0,type:{name:"number"}},baseTable:{defaultValue:null,description:"",name:"baseTable",required:!0,type:{name:"ColumnTable"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/lightning/MedianAndInterval.tsx#MedianAndInterval"]={docgenInfo:tT.__docgenInfo,name:"MedianAndInterval",path:"src/vis/raincloud/lightning/MedianAndInterval.tsx#MedianAndInterval"})}catch(e){}var tA=t("./node_modules/d3-force-boundary/dist/d3-force-boundary.esm.js"),t_={top:30,bottom:20,left:20,right:20};function tk(e){var n=e.numCol,t=(e.config,e.width),r=e.height,a=e.yPos,l=e.baseTable,o=e.circleCallback,c=tg({range:[t_.left,t-t_.right],column:n}),s=(0,u.useMemo)(function(){if(c){var e=i.A4v(l.objects().map(function(e){return{id:[e.ids].flat(),x:c(e.values),y:t_.top}})).force("boundary",(0,tA.Z)(t_.left,t_.top,t,r-t_.bottom)).force("y",i.Mrm().strength(.1).y(Math.max(t_.top,t_.top))).force("x",i.RUJ().strength(1).x(function(e){return e.x})).force("collide",i.Hh().radius(4.6));return e.restart(),e.tick(200).nodes()}return null},[l,r,t,c]);return(0,u.useEffect)(function(){o(s.map(function(e){return{id:[e.id].flat(),x:e.x,y:e.y+a}}))},[o,s,a]),null}try{tk.displayName="BeeSwarm",tk.__docgenInfo={description:"",displayName:"BeeSwarm",props:{numCol:{defaultValue:null,description:"",name:"numCol",required:!0,type:{name:"{ resolvedValues: (VisNumericalValue | VisCategoricalValue)[]; type: EColumnTypes; info: ColumnInfo; }"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IRaincloudConfig"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},yPos:{defaultValue:null,description:"",name:"yPos",required:!0,type:{name:"number"}},baseTable:{defaultValue:null,description:"",name:"baseTable",required:!0,type:{name:"ColumnTable"}},circleCallback:{defaultValue:null,description:"",name:"circleCallback",required:!0,type:{name:"(circles: { id: string[]; x: number; y: number; }[]) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/rain/BeeSwarm.tsx#BeeSwarm"]={docgenInfo:tk.__docgenInfo,name:"BeeSwarm",path:"src/vis/raincloud/rain/BeeSwarm.tsx#BeeSwarm"})}catch(e){}function tR(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function tI(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])})}return e}function tq(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}function tP(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(t=a.next()).done)&&(l.push(t.value),!n||l.length!==n);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return tR(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tR(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tL(e){var n=e.x,t=e.y,r=e.id,a=e.raincloudType,l=e.color,o=e.isStrip,i=(0,u.useRef)(a),c=tP((0,u.useState)(!1),2),s=c[0],d=c[1],p=tP((0,D.q_)(function(){return{immediate:function(){return i.current===a},to:{cx:n,cy:t,x:n-4,y:t-4,height:o?50:8,width:o?4:8,rx:o?0:100},config:{duration:750,easing:D.Z5.easeInOutSine}}},[a,n,t,o]),1)[0];(0,u.useEffect)(function(){i.current=a},[a]);var m=(0,u.useMemo)(function(){return u.createElement("g",{onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)}},o?null:u.createElement(D.q.circle,tq(tI({key:r,r:4},p),{fill:l})),o?u.createElement(D.q.rect,tq(tI({},p),{fill:l})):null)},[l,r,o,p]);return s?u.createElement(b.u,{label:r,keepMounted:!1},m):m}try{tL.displayName="Circle",tL.__docgenInfo={description:"",displayName:"Circle",props:{x:{defaultValue:null,description:"",name:"x",required:!0,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!0,type:{name:"number"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},raincloudType:{defaultValue:null,description:"",name:"raincloudType",required:!0,type:{name:"enum",value:[{value:'"Dot plot"'},{value:'"Beeswarm"'},{value:'"Wheat plot"'},{value:'"Strip plot"'}]}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},isStrip:{defaultValue:null,description:"",name:"isStrip",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/rain/Circle.tsx#Circle"]={docgenInfo:tL.__docgenInfo,name:"Circle",path:"src/vis/raincloud/rain/Circle.tsx#Circle"})}catch(e){}function tj(e){var n=e.numCol,t=(e.config,e.width),r=(e.height,e.yPos),a=e.baseTable,l=e.circleCallback,o=tg({range:[20,t-20],column:n}),i=(0,u.useMemo)(function(){return a.orderby("values").groupby("values",{bins:(0,L.Ly)("values",{maxbins:20})}).rollup({ids:L.op.array_agg("ids"),count:L.op.count()}).groupby("bins").rollup({ids:L.op.array_agg("ids"),count:L.op.sum("count"),average:L.op.mean("values")})},[a]);return(0,u.useEffect)(function(){l(i.objects().map(function(e){return e.ids.flat().sort().map(function(n,t){return{id:[n].flat(),x:o(e.average),y:r+30+10*t}})}).flat())},[i,l,o,r]),null}try{tj.displayName="DotPlot",tj.__docgenInfo={description:"",displayName:"DotPlot",props:{numCol:{defaultValue:null,description:"",name:"numCol",required:!0,type:{name:"{ resolvedValues: (VisNumericalValue | VisCategoricalValue)[]; type: EColumnTypes; info: ColumnInfo; }"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IRaincloudConfig"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},yPos:{defaultValue:null,description:"",name:"yPos",required:!0,type:{name:"number"}},baseTable:{defaultValue:null,description:"",name:"baseTable",required:!0,type:{name:"ColumnTable"}},circleCallback:{defaultValue:null,description:"",name:"circleCallback",required:!0,type:{name:"(circles: { id: string[]; x: number; y: number; }[]) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/rain/DotPlot.tsx#DotPlot"]={docgenInfo:tj.__docgenInfo,name:"DotPlot",path:"src/vis/raincloud/rain/DotPlot.tsx#DotPlot"})}catch(e){}function tB(e){var n=e.numCol,t=(e.config,e.width),r=(e.height,e.yPos),a=e.baseTable,l=e.circleCallback,o=tg({range:[20,t-20],column:n});return(0,u.useEffect)(function(){l(a.objects().map(function(e){return{id:[e.ids].flat(),x:o(e.values),y:r+30}}).flat())},[a,l,o,r]),null}try{tB.displayName="StripPlot",tB.__docgenInfo={description:"",displayName:"StripPlot",props:{numCol:{defaultValue:null,description:"",name:"numCol",required:!0,type:{name:"{ resolvedValues: (VisNumericalValue | VisCategoricalValue)[]; type: EColumnTypes; info: ColumnInfo; }"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IRaincloudConfig"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},yPos:{defaultValue:null,description:"",name:"yPos",required:!0,type:{name:"number"}},baseTable:{defaultValue:null,description:"",name:"baseTable",required:!0,type:{name:"ColumnTable"}},circleCallback:{defaultValue:null,description:"",name:"circleCallback",required:!0,type:{name:"(circles: { id: string[]; x: number; y: number; }[]) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/rain/StripPlot.tsx#StripPlot"]={docgenInfo:tB.__docgenInfo,name:"StripPlot",path:"src/vis/raincloud/rain/StripPlot.tsx#StripPlot"})}catch(e){}function tN(e){var n=e.numCol,t=(e.config,e.width),r=(e.height,e.yPos),a=e.baseTable,l=e.circleCallback,o=tg({range:[20,t-20],column:n}),i=(0,u.useMemo)(function(){return a.orderby("values").groupby("values",{bins:(0,L.Ly)("values",{maxbins:20})}).rollup({count:L.op.count(),ids:L.op.entries_agg("ids","values")}).groupby("bins").rollup({count:L.op.sum("count"),ids:L.op.array_agg("ids")})},[a]);return(0,u.useEffect)(function(){var e=i.objects().map(function(e){return e.ids.flat().sort(function(e,n){return e[1]-n[1]}).map(function(e,n){return{id:[e[0]].flat(),x:o(e[1]),y:r+30+10*n}})});console.log(e.flat()),l(e.flat())},[i,l,o,r]),null}try{tN.displayName="WheatPlot",tN.__docgenInfo={description:"",displayName:"WheatPlot",props:{numCol:{defaultValue:null,description:"",name:"numCol",required:!0,type:{name:"{ resolvedValues: (VisNumericalValue | VisCategoricalValue)[]; type: EColumnTypes; info: ColumnInfo; }"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IRaincloudConfig"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},yPos:{defaultValue:null,description:"",name:"yPos",required:!0,type:{name:"number"}},baseTable:{defaultValue:null,description:"",name:"baseTable",required:!0,type:{name:"ColumnTable"}},circleCallback:{defaultValue:null,description:"",name:"circleCallback",required:!0,type:{name:"(circles: { id: string[]; x: number; y: number; }[]) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/rain/WheatPlot.tsx#WheatPlot"]={docgenInfo:tN.__docgenInfo,name:"WheatPlot",path:"src/vis/raincloud/rain/WheatPlot.tsx#WheatPlot"})}catch(e){}function tM(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function tD(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(t=a.next()).done)&&(l.push(t.value),!n||l.length!==n);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return tM(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tM(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tY={left:20,right:20};function tK(e){var n=e.column,t=e.config,r=e.selectionCallback,a=e.selected,l=e.idToLabelMapper,i=tD((0,o.y)(),2),c=i[0],s=i[1],d=s.width,p=s.height,m=(0,u.useMemo)(function(){return(0,L.Kz)({values:n.resolvedValues.map(function(e){return e.val}),ids:n.resolvedValues.map(function(e){return e.id})})},[n.resolvedValues]),y=tD((0,u.useState)([]),2),g=y[0],b=y[1],h=tg({range:[tY.left,d-tY.right],column:n}),S=(0,u.useCallback)(function(e){b(e)},[]),v=(0,u.useMemo)(function(){return g.map(function(e){return u.createElement(tL,{key:e.id[0],x:e.x,isStrip:t.rainType===tc.g6.STRIPPLOT,y:e.y,id:(null==l?void 0:l(e.id[0]))||e.id[0],raincloudType:t.rainType,color:e.id.find(function(e){return a[e]})?"#E29609":"cornflowerblue"})})},[g,a]),C=(0,u.useCallback)(function(e){if(null===e){r([]);return}var n=[h.invert(e[0]),h.invert(e[1])];r(m.params({lowRange:n[0],highRange:n[1]}).filter(function(e,n){return e.values>=n.lowRange&&e.values<=n.highRange}).array("ids"))},[m,r,h]),O=(0,u.useMemo)(function(){return m.orderby("values").derive({percentRank:L.op.ntile(100)}).groupby("percentRank").rollup({values:L.op.mean("values"),ids:L.op.array_agg("ids")})},[m]),E=n.resolvedValues.filter(function(e){return null!==e.val}).length>0;return u.createElement(f.x,{ref:c,style:{maxWidth:"100%",maxHeight:"100%",position:"relative",overflow:"hidden"}},u.createElement(B.W,{fluid:!0,pl:0,pr:0,style:{height:p,width:"100%"}},u.createElement("svg",{key:n.info.id,width:d,height:p},0!==d&&0!==p?u.createElement("g",null,u.createElement("text",{textAnchor:"middle",dominantBaseline:"middle",x:d/2,y:15},n.info.name),E?u.createElement("g",null,t.cloudType===tc.$9.HEATMAP?u.createElement(tS,{width:d,height:p/2,config:t,numCol:n}):t.cloudType===tc.$9.HISTOGRAM?u.createElement(tO,{width:d,height:p/2,config:t,numCol:n}):u.createElement(tE,{width:d,height:p/2,config:t,numCol:n}),t.rainType===tc.g6.DOTPLOT?u.createElement(tj,{yPos:p/2,width:d,height:p,config:t,numCol:n,circleCallback:S,baseTable:t.aggregateRain||n.resolvedValues.length>400?O:m}):t.rainType===tc.g6.BEESWARM?u.createElement(tk,{baseTable:t.aggregateRain||n.resolvedValues.length>400?O:m,yPos:p/2,width:d,height:p/2,config:t,numCol:n,circleCallback:S}):t.rainType===tc.g6.WHEATPLOT?u.createElement(tN,{yPos:p/2,width:d,height:p/2,config:t,numCol:n,circleCallback:S,baseTable:t.aggregateRain||n.resolvedValues.length>400?O:m}):t.rainType===tc.g6.STRIPPLOT?u.createElement(tB,{yPos:p/2,width:d,height:p/2,config:t,numCol:n,circleCallback:S,baseTable:t.aggregateRain||n.resolvedValues.length>400?O:m}):null,v,t.lightningType===tc.eP.MEAN_AND_DEV?u.createElement(tw,{yPos:p/2,width:d,height:p,config:t,numCol:n,baseTable:m}):t.lightningType===tc.eP.MEAN?u.createElement(tx,{yPos:p/2,width:d,height:p,config:t,numCol:n,baseTable:m}):t.lightningType===tc.eP.MEDIAN_AND_DEV?u.createElement(tT,{yPos:p/2,width:d,height:p,config:t,numCol:n,baseTable:m}):t.lightningType===tc.eP.BOXPLOT?u.createElement(tV,{yPos:p/2,width:d,height:p,config:t,numCol:n,baseTable:m}):null,u.createElement(n0,{xScale:h,vertPosition:p/2,yRange:null}),u.createElement(ty,{y:p/2-20,x:tY.left,height:40,width:d-tY.left,onBrush:C,id:n.info.id})):u.createElement("foreignObject",{width:"100%",height:"100%"},u.createElement(I,{headerMessage:"Invalid data",bodyMessage:"Could not render plot due to all values being null."}))):null)))}try{tK.displayName="Raincloud",tK.__docgenInfo={description:"",displayName:"Raincloud",props:{column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"{ resolvedValues: (VisNumericalValue | VisCategoricalValue)[]; type: EColumnTypes; info: ColumnInfo; }"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IRaincloudConfig"}},selectionCallback:{defaultValue:null,description:"",name:"selectionCallback",required:!0,type:{name:"(ids: string[]) => void"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"{ [key: string]: boolean; }"}},idToLabelMapper:{defaultValue:null,description:"",name:"idToLabelMapper",required:!0,type:{name:"(id: string) => string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/Raincloud.tsx#Raincloud"]={docgenInfo:tK.__docgenInfo,name:"Raincloud",path:"src/vis/raincloud/Raincloud.tsx#Raincloud"})}catch(e){}function tH(e){var n=e.columns,t=e.config,r=e.selectionCallback,a=e.selected,l=(0,j.r)(tm,[n,t.numColumnsSelected]).value;return u.createElement(q.M,{cols:Math.ceil(Math.sqrt(null==l?void 0:l.numColVals.length)),style:{width:"100%",height:"100%"}},l&&t.numColumnsSelected.length>=1?l.numColVals.map(function(e){return u.createElement(tK,{key:e.info.id,column:e,config:t,selectionCallback:r,selected:a,idToLabelMapper:l.idToLabelMapper})}):u.createElement(I,{headerMessage:"Invalid settings",bodyMessage:"To create a raincloud chart, select at least 1 numerical column."}))}try{tH.displayName="RaincloudGrid",tH.__docgenInfo={description:"",displayName:"RaincloudGrid",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IRaincloudConfig"}},selectionCallback:{defaultValue:null,description:"",name:"selectionCallback",required:!0,type:{name:"(ids: string[]) => void"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"{ [key: string]: boolean; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/RaincloudGrid.tsx#RaincloudGrid"]={docgenInfo:tH.__docgenInfo,name:"RaincloudGrid",path:"src/vis/raincloud/RaincloudGrid.tsx#RaincloudGrid"})}catch(e){}function tG(e){var n=e.config,t=e.columns,l=e.selectionCallback,o=e.selectedMap,i=(0,u.useRef)();return u.createElement(r.Z,{wrap:"nowrap",pl:0,pr:0,style:{flexGrow:1,height:"100%",overflow:"hidden",width:"100%",position:"relative"},ref:i},u.createElement(a.K,{gap:0,style:{height:"100%",width:"100%"}},u.createElement(tH,{columns:t,config:n,selectionCallback:void 0===l?function(){return null}:l,selected:void 0===o?{}:o})))}try{tG.displayName="RaincloudVis",tG.__docgenInfo={description:"",displayName:"RaincloudVis",props:{config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"IRaincloudConfig"}},setConfig:{defaultValue:null,description:"",name:"setConfig",required:!1,type:{name:"(config: IRaincloudConfig) => void"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},optionsConfig:{defaultValue:null,description:"",name:"optionsConfig",required:!1,type:{name:"any"}},colors:{defaultValue:null,description:"",name:"colors",required:!1,type:{name:"string[]"}},shapes:{defaultValue:null,description:"",name:"shapes",required:!1,type:{name:"string[]"}},filterCallback:{defaultValue:null,description:"",name:"filterCallback",required:!1,type:{name:"(s: EFilterOptions) => void"}},selectionCallback:{defaultValue:{value:"() => null"},description:"",name:"selectionCallback",required:!1,type:{name:"(s: string[]) => void"}},selectedMap:{defaultValue:{value:"{}"},description:"",name:"selectedMap",required:!1,type:{name:"{ [key: string]: boolean; }"}},selectedList:{defaultValue:null,description:"",name:"selectedList",required:!1,type:{name:"string[]"}},showCloseButton:{defaultValue:null,description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},closeButtonCallback:{defaultValue:null,description:"",name:"closeButtonCallback",required:!1,type:{name:"() => void"}},scales:{defaultValue:null,description:"",name:"scales",required:!1,type:{name:"Scales"}},enableSidebar:{defaultValue:null,description:"",name:"enableSidebar",required:!1,type:{name:"boolean"}},showSidebar:{defaultValue:null,description:"",name:"showSidebar",required:!1,type:{name:"boolean"}},showSidebarDefault:{defaultValue:null,description:"",name:"showSidebarDefault",required:!1,type:{name:"boolean"}},setShowSidebar:{defaultValue:null,description:"",name:"setShowSidebar",required:!1,type:{name:"(s: boolean) => void"}},extensions:{defaultValue:null,description:"",name:"extensions",required:!1,type:{name:"{ prePlot?: ReactNode; postPlot?: ReactNode; preSidebar?: ReactNode; postSidebar?: ReactNode; }"}},scrollZoom:{defaultValue:null,description:"",name:"scrollZoom",required:!1,type:{name:"boolean"}},showDragModeOptions:{defaultValue:null,description:"",name:"showDragModeOptions",required:!1,type:{name:"boolean"}},dimensions:{defaultValue:null,description:"",name:"dimensions",required:!0,type:{name:"{ width: number; height: number; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/RaincloudVis.tsx#RaincloudVis"]={docgenInfo:tG.__docgenInfo,name:"RaincloudVis",path:"src/vis/raincloud/RaincloudVis.tsx#RaincloudVis"})}catch(e){}function tz(e){var n=e.callback,t=e.currentValue;return u.createElement(te.r,{checked:t,onChange:function(e){return n(e.currentTarget.checked)},label:"Aggregate rain"})}try{tz.displayName="AggregateRainSwitch",tz.__docgenInfo={description:"",displayName:"AggregateRainSwitch",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(b: boolean) => void"}},currentValue:{defaultValue:null,description:"",name:"currentValue",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/AggregateRainSwitch.tsx#AggregateRainSwitch"]={docgenInfo:tz.__docgenInfo,name:"AggregateRainSwitch",path:"src/vis/raincloud/AggregateRainSwitch.tsx#AggregateRainSwitch"})}catch(e){}function tU(e){var n=e.callback,t=e.currentSelected,r=[{value:tc.$9.SPLIT_VIOLIN,label:tc.$9.SPLIT_VIOLIN},{value:tc.$9.HEATMAP,label:tc.$9.HEATMAP},{value:tc.$9.HISTOGRAM,label:tc.$9.HISTOGRAM}];return u.createElement(C.P,{label:"Cloud options",onChange:function(e){return n(e)},data:r,value:t})}try{tU.displayName="RaincloudCloudSelect",tU.__docgenInfo={description:"",displayName:"RaincloudCloudSelect",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(c: ECloudType) => void"}},currentSelected:{defaultValue:null,description:"",name:"currentSelected",required:!0,type:{name:"enum",value:[{value:'"Split violin"'},{value:'"Heatmap"'},{value:'"Histogram"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/RaincloudCloudSelect.tsx#RaincloudCloudSelect"]={docgenInfo:tU.__docgenInfo,name:"RaincloudCloudSelect",path:"src/vis/raincloud/RaincloudCloudSelect.tsx#RaincloudCloudSelect"})}catch(e){}function tF(e){var n=e.callback,t=e.currentSelected,r=[{value:tc.eP.MEAN_AND_DEV,label:tc.eP.MEAN_AND_DEV},{value:tc.eP.MEAN,label:tc.eP.MEAN},{value:tc.eP.MEDIAN_AND_DEV,label:tc.eP.MEDIAN_AND_DEV},{value:tc.eP.BOXPLOT,label:tc.eP.BOXPLOT}];return u.createElement(C.P,{label:"Lightning options",onChange:function(e){return n(e)},data:r,value:t})}try{tF.displayName="RaincloudLightningSelect",tF.__docgenInfo={description:"",displayName:"RaincloudLightningSelect",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(c: ELightningType) => void"}},currentSelected:{defaultValue:null,description:"",name:"currentSelected",required:!0,type:{name:"enum",value:[{value:'"Mean and deviation"'},{value:'"Median and deviation"'},{value:'"Mean"'},{value:'"Boxplot"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/RaincloudLightningSelect.tsx#RaincloudLightningSelect"]={docgenInfo:tF.__docgenInfo,name:"RaincloudLightningSelect",path:"src/vis/raincloud/RaincloudLightningSelect.tsx#RaincloudLightningSelect"})}catch(e){}function tW(e){var n=e.callback,t=e.currentSelected,r=[{value:tc.g6.DOTPLOT,label:tc.g6.DOTPLOT},{value:tc.g6.BEESWARM,label:tc.g6.BEESWARM},{value:tc.g6.WHEATPLOT,label:tc.g6.WHEATPLOT},{value:tc.g6.STRIPPLOT,label:tc.g6.STRIPPLOT}];return u.createElement(C.P,{label:"Rain options",onChange:function(e){return n(e)},data:r,value:t})}try{tW.displayName="RaincloudRainSelect",tW.__docgenInfo={description:"",displayName:"RaincloudRainSelect",props:{callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(c: ERainType) => void"}},currentSelected:{defaultValue:null,description:"",name:"currentSelected",required:!0,type:{name:"enum",value:[{value:'"Dot plot"'},{value:'"Beeswarm"'},{value:'"Wheat plot"'},{value:'"Strip plot"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/RaincloudRainSelect.tsx#RaincloudRainSelect"]={docgenInfo:tW.__docgenInfo,name:"RaincloudRainSelect",path:"src/vis/raincloud/RaincloudRainSelect.tsx#RaincloudRainSelect"})}catch(e){}function tZ(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])})}return e}function tX(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}function t$(e){var n=e.config,t=e.columns,r=e.setConfig;return u.createElement(u.Fragment,null,u.createElement(nn,{callback:function(e){return r(tX(tZ({},n),{numColumnsSelected:e}))},columns:t,currentSelected:n.numColumnsSelected||[],columnType:x.ae.NUMERICAL}),u.createElement(tU,{callback:function(e){return r(tX(tZ({},n),{cloudType:e}))},currentSelected:n.cloudType}),u.createElement(tF,{callback:function(e){return r(tX(tZ({},n),{lightningType:e}))},currentSelected:n.lightningType}),u.createElement(tW,{callback:function(e){return r(tX(tZ({},n),{rainType:e}))},currentSelected:n.rainType}),u.createElement(tz,{callback:function(e){return r(tX(tZ({},n),{aggregateRain:e}))},currentValue:n.aggregateRain}))}try{t$.displayName="RaincloudVisSidebar",t$.__docgenInfo={description:"",displayName:"RaincloudVisSidebar",props:{config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IRaincloudConfig"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},setConfig:{defaultValue:null,description:"",name:"setConfig",required:!0,type:{name:"((config: IRaincloudConfig) => void) & ((c: IRaincloudConfig) => void)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},optionsConfig:{defaultValue:null,description:"",name:"optionsConfig",required:!1,type:{name:"any"}},filterCallback:{defaultValue:null,description:"",name:"filterCallback",required:!1,type:{name:"(s: EFilterOptions) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/raincloud/RaincloudVisSidebar.tsx#RaincloudVisSidebar"]={docgenInfo:t$.__docgenInfo,name:"RaincloudVisSidebar",path:"src/vis/raincloud/RaincloudVisSidebar.tsx#RaincloudVisSidebar"})}catch(e){}var tQ=t("./node_modules/@mantine/core/esm/core/MantineProvider/color-functions/lighten/lighten.mjs"),tJ=t("./node_modules/@mantine/core/esm/core/MantineProvider/color-functions/rgba/rgba.mjs"),t0=t("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");function t1(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}void 0===window.URL.createObjectURL&&(window.URL.createObjectURL=function(){});var t2=u.lazy(function(){return Promise.all([Promise.resolve().then(t.t.bind(t,"./node_modules/plotly.js-dist-min/plotly.min.js",23)),t.e(922).then(t.bind(t,"./node_modules/react-plotly.js/factory.js"))]).then(function(e){var n=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(t=a.next()).done)&&(l.push(t.value),!n||l.length!==n);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t1(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return t1(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),t=n[0];return{default:n[1].default(t)}})});function t3(e){return u.createElement(u.Suspense,{fallback:null},u.createElement(t2,e))}try{t3.displayName="PlotlyComponent",t3.__docgenInfo={description:"",displayName:"PlotlyComponent",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/plotly/index.tsx#PlotlyComponent"]={docgenInfo:t3.__docgenInfo,name:"PlotlyComponent",path:"src/plotly/index.tsx#PlotlyComponent"})}catch(e){}function t5(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function t6(e,n,t,r,a,l,o){try{var i=e[l](o),u=i.value}catch(e){t(e);return}i.done?n(u):Promise.resolve(u).then(r,a)}function t4(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function t8(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(t=a.next()).done)&&(l.push(t.value),!n||l.length!==n);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t5(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return t5(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t7(e,n){return t9.apply(this,arguments)}function t9(){return(t9=function(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var l=e.apply(n,t);function o(e){t6(l,r,a,o,i,"next",e)}function i(e){t6(l,r,a,o,i,"throw",e)}o(void 0)})}}(function(e,n){return function(e,n){var t,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}(this,function(t){switch(t.label){case 0:return[4,er(n.catColumnsSelected.map(function(n){return e.find(function(e){return e.info.id===n.id})}))];case 1:return[2,function(e){var n=0,t={nodes:{labels:[],inverseLookup:[]},links:{source:[],target:[],value:[],inverseLookup:[]}};if(e.length<2)return null;var r=e.map(function(e){var r=e.resolvedValues.map(function(e){return e.val}),a=[],l=new Set;e.resolvedValues.forEach(function(e){l.has(e.val)?a.find(function(n){return n.value===e.val}).inverseLookup.push(e.id):(a.push({id:n++,value:e.val,inverseLookup:[e.id]}),l.add(e.val))});var o=!0,i=!1,u=void 0;try{for(var c,s=a[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var d=c.value;t.nodes.labels.push(d.value),t.nodes.inverseLookup.push(d.inverseLookup)}}catch(e){i=!0,u=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw u}}return{info:e.info,nodes:a,values:r}});return r.forEach(function(e,n){var a=function(n){if(Object.prototype.hasOwnProperty.call(o,n)){var r=function(r){Object.prototype.hasOwnProperty.call(o[n],r)&&(t.links.source.push(e.nodes.find(function(e){return e.value===n}).id),t.links.target.push(l.nodes.find(function(e){return e.value===r}).id),t.links.value.push(o[n][r].count),t.links.inverseLookup.push(o[n][r].inverseLookup))};for(var a in o[n])r(a)}};if(n!==r.length-1){var l=r[n+1],o={};for(var i in e.values.forEach(function(e,n){var t=l.values[n];e in o?t in o[e]?(o[e][t].count+=1,o[e][t].inverseLookup.push(n.toString())):o[e][t]={count:1,inverseLookup:[n.toString()]}:o[e]=t4({},t,{count:1,inverseLookup:[n.toString()]})}),o)a(i)}}),t}(t.sent())]}})})).apply(this,arguments)}function re(e,n){var t=!0,r=!1,a=void 0;try{for(var l,o=n[Symbol.iterator]();!(t=(l=o.next()).done);t=!0){var i=l.value;if(e.has(i))return!0}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}return!1}var rn=(0,t0.iv)({flexGrow:1,height:"100%",width:"100%",overflow:"hidden",position:"relative",".nsewdrag":{cursor:"pointer !important"}});function rt(e){var n=e.config,t=e.columns,l=e.selectedList,o=e.selectionCallback;e.dimensions;var i=t8(u.useState([]),2),c=i[0],s=i[1],d=(0,j.r)(t7,[t,n]).value,p=t8(u.useState(),2),m=p[0],f=p[1],y=(0,ez.rZ)();return u.useEffect(function(){var e=new Set(c);d?f(function(e,n,t){var r=(0,tQ.$)(t.colors[t.primaryColor][5],.2),a=n.size>0?(0,tJ.m)(t.colors.gray[4],.5):r;return[{type:"sankey",arrangement:"fixed",orientation:"h",node:{pad:15,thickness:30,line:{color:"black",width:.5},label:e.nodes.labels,color:e.nodes.labels.map(function(t,l){return re(n,e.nodes.inverseLookup[l])?r:a})},link:function(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){t4(e,n,t[n])})}return e}({},e.links),{color:e.links.value.map(function(t,l){return re(n,e.links.inverseLookup[l])?r:a})})}]}(d,e,y)):f(null)},[c,d,y]),u.useEffect(function(){s(l)},[l]),u.createElement(r.Z,{wrap:"nowrap",pl:0,pr:0,className:rn.name,style:{flexGrow:1}},u.createElement(a.K,{gap:0,style:{height:"100%",width:"100%"}},m?u.createElement(t3,{data:m,style:{width:"100%"},config:{displayModeBar:!1},layout:{font:{size:12},autosize:!0},onClick:function(e){if(e.points[0]){var n=e.points[0];"sourceLinks"in n?o(d.nodes.inverseLookup[n.index]):o(d.links.inverseLookup[n.index])}}}):u.createElement(I,{headerMessage:"Invalid settings",bodyMessage:"To create a sankey chart, select at least 2 columns."})))}try{rt.displayName="SankeyVis",rt.__docgenInfo={description:"",displayName:"SankeyVis",props:{config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"ISankeyConfig"}},setConfig:{defaultValue:null,description:"",name:"setConfig",required:!1,type:{name:"(config: ISankeyConfig) => void"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},optionsConfig:{defaultValue:null,description:"",name:"optionsConfig",required:!1,type:{name:"any"}},colors:{defaultValue:null,description:"",name:"colors",required:!1,type:{name:"string[]"}},shapes:{defaultValue:null,description:"",name:"shapes",required:!1,type:{name:"string[]"}},filterCallback:{defaultValue:null,description:"",name:"filterCallback",required:!1,type:{name:"(s: EFilterOptions) => void"}},selectionCallback:{defaultValue:null,description:"",name:"selectionCallback",required:!1,type:{name:"(s: string[]) => void"}},selectedMap:{defaultValue:null,description:"",name:"selectedMap",required:!1,type:{name:"{ [key: string]: boolean; }"}},selectedList:{defaultValue:null,description:"",name:"selectedList",required:!1,type:{name:"string[]"}},showCloseButton:{defaultValue:null,description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},closeButtonCallback:{defaultValue:null,description:"",name:"closeButtonCallback",required:!1,type:{name:"() => void"}},scales:{defaultValue:null,description:"",name:"scales",required:!1,type:{name:"Scales"}},enableSidebar:{defaultValue:null,description:"",name:"enableSidebar",required:!1,type:{name:"boolean"}},showSidebar:{defaultValue:null,description:"",name:"showSidebar",required:!1,type:{name:"boolean"}},showSidebarDefault:{defaultValue:null,description:"",name:"showSidebarDefault",required:!1,type:{name:"boolean"}},setShowSidebar:{defaultValue:null,description:"",name:"setShowSidebar",required:!1,type:{name:"(s: boolean) => void"}},extensions:{defaultValue:null,description:"",name:"extensions",required:!1,type:{name:"{ prePlot?: ReactNode; postPlot?: ReactNode; preSidebar?: ReactNode; postSidebar?: ReactNode; }"}},scrollZoom:{defaultValue:null,description:"",name:"scrollZoom",required:!1,type:{name:"boolean"}},showDragModeOptions:{defaultValue:null,description:"",name:"showDragModeOptions",required:!1,type:{name:"boolean"}},dimensions:{defaultValue:null,description:"",name:"dimensions",required:!0,type:{name:"{ width: number; height: number; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/sankey/SankeyVis.tsx#SankeyVis"]={docgenInfo:rt.__docgenInfo,name:"SankeyVis",path:"src/vis/sankey/SankeyVis.tsx#SankeyVis"})}catch(e){}function rr(e){var n=e.config,t=e.setConfig,r=(e.className,e.columns),a=e.style;return(void 0===a?{}:a).width,function(e,n){if(null!=e){var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}}}(e.style,["width"]),u.createElement(nn,{callback:function(e){return t(function(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])})}return e}({},n),{catColumnsSelected:e}))},columns:r,currentSelected:n.catColumnsSelected||[],columnType:x.ae.CATEGORICAL})}try{rr.displayName="SankeyVisSidebar",rr.__docgenInfo={description:"",displayName:"SankeyVisSidebar",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},optionsConfig:{defaultValue:null,description:"",name:"optionsConfig",required:!1,type:{name:"any"}},filterCallback:{defaultValue:null,description:"",name:"filterCallback",required:!1,type:{name:"(s: EFilterOptions) => void"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"ISankeyConfig"}},setConfig:{defaultValue:null,description:"",name:"setConfig",required:!0,type:{name:"(c: ISankeyConfig) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/sankey/SankeyVisSidebar.tsx#SankeyVisSidebar"]={docgenInfo:rr.__docgenInfo,name:"SankeyVisSidebar",path:"src/vis/sankey/SankeyVisSidebar.tsx#SankeyVisSidebar"})}catch(e){}var ra={type:x.bu.SANKEY,catColumnsSelected:[]};function rl(e,n){return(0,tu.merge)({},ra,n)}var ro=t("./node_modules/plotly.js-dist-min/plotly.min.js"),ri=t.n(ro),ru="#2e2e2e",rc="#E29609";function rs(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function rd(e,n,t,r,a,l,o){try{var i=e[l](o),u=i.value}catch(e){t(e);return}i.done?n(u):Promise.resolve(u).then(r,a)}function rp(e){return function(e){if(Array.isArray(e))return rs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return rs(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rs(e,n)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rm(e,n){if(!e)return null;if(void 0!==e[0]&&void 0!==e[1])return[e[0],e[1]];var t,r,a=(t=Math).min.apply(t,rp(n)),l=(r=Math).max.apply(r,rp(n));return[e[0]?e[0]:a,e[1]?e[1]:l+l/20]}var rf={type:x.bu.SCATTER,numColumnsSelected:[],color:null,numColorScaleType:x.WE.SEQUENTIAL,shape:null,dragMode:x.nj.RECTANGLE,alphaSliderVal:.5,sizeSliderVal:8};function ry(e,n){var t=W()({},rf,n),r=e.filter(function(e){return e.type===x.ae.NUMERICAL});return 0===t.numColumnsSelected.length&&r.length>1?(t.numColumnsSelected.push(r[r.length-1].info),t.numColumnsSelected.push(r[r.length-2].info)):1===t.numColumnsSelected.length&&r.length>1&&(r[r.length-1].info.id!==t.numColumnsSelected[0].id?t.numColumnsSelected.push(r[r.length-1].info):t.numColumnsSelected.push(r[r.length-2].info)),t}function rg(e,n,t,r,a,l,o,i,u){return rb.apply(this,arguments)}function rb(){return(rb=function(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var l=e.apply(n,t);function o(e){rd(l,r,a,o,i,"next",e)}function i(e){rd(l,r,a,o,i,"throw",e)}o(void 0)})}}(function(e,n,t,r,a,l,o,u,c){var d,p,m,f,y,g,b,h,S,C,O,E,V,w,T,A,_,k,R,I,q,P,L,j,B,N,M,D,Y,K,H,G,z;return function(e,n){var t,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}(this,function(U){switch(U.label){case 0:if(d=1,p={plots:[],legendPlots:[],rows:0,cols:0,errorMessage:v.ag.t("visyn:vis.scatterError"),errorMessageHeader:v.ag.t("visyn:vis.errorHeader"),formList:["color","shape","bubble","opacity"]},!n)return[2,p];return m=n.map(function(n){return e.find(function(e){return e.info.id===n.id})}),f=[],[4,er(m)];case 1:return y=U.sent(),[4,ea(n_(e,t))];case 2:return g=U.sent(),[4,ea(n_(e,r))];case 3:return b=U.sent(),[4,eo(e)];case 4:if(h=U.sent(),S=t?i.PKp().domain(rp(new Set(g.resolvedValues.map(function(e){return e.val})))).range(c):null,C=0,O=0,r&&(C=i.VV$(b.resolvedValues.map(function(e){return+e.val}).filter(function(e){return null!==e})),O=i.Fp7(b.resolvedValues.map(function(e){return+e.val}).filter(function(e){return null!==e}))),E=r?i.BYU().domain([O,(O+C)/2,C]).range(o===x.WE.SEQUENTIAL?[(0,s.uY)("visyn-s9-blue"),(0,s.uY)("visyn-s5-blue"),(0,s.uY)("visyn-s1-blue")]:[(0,s.uY)("visyn-c1"),"#d3d3d3",(0,s.uY)("visyn-c2")]):null,V=[],1===y.length)return[2,p];if(2===y.length)w=y[0].resolvedValues.map(function(e){return e.val}),T=y[1].resolvedValues.map(function(e){return e.val}),A=rm(y[0].domain,w),_=rm(y[1].domain,T),f.push({data:{x:w,y:T,ids:y[0].resolvedValues.map(function(e){return e.id.toString()}),xaxis:1===d?"x":"x".concat(d),yaxis:1===d?"y":"y".concat(d),type:"scattergl",mode:"markers",showlegend:!1,hoverlabel:{bgcolor:"black"},hovertext:y[0].resolvedValues.map(function(e,n){return"".concat(h(e.id),"<br>x: ").concat(e.val,"<br>y: ").concat(y[1].resolvedValues[n].val).concat(b?"<br>".concat(en(b.info),": ").concat(b.resolvedValues[n].val):"").concat(g?"<br>".concat(en(g.info),": ").concat(g.resolvedValues[n].val):"")}),hoverinfo:"text",text:y[0].resolvedValues.map(function(e){return e.id.toString()}),marker:{symbol:g?g.resolvedValues.map(function(e){return S(e.val)}):"circle",color:b?b.resolvedValues.map(function(e){return b.type===x.ae.NUMERICAL?E(e.val):b.color?b.color[e.val]:u.color(e.val)}):rc},selected:{marker:{line:{width:0},opacity:1,size:l}},unselected:{marker:{line:{width:0},color:ru,opacity:a,size:l}}},xLabel:en(y[0].info),yLabel:en(y[1].info),xDomain:A,yDomain:_});else{k=!0,R=!1,I=void 0;try{for(q=y[Symbol.iterator]();!(k=(P=q.next()).done);k=!0){L=P.value,j=!0,B=!1,N=void 0;try{for(M=y[Symbol.iterator]();!(j=(D=M.next()).done);j=!0)(Y=D.value).info.id===L.info.id?f.push({data:{x:Y.resolvedValues.map(function(e){return e.val}),xaxis:1===d?"x":"x".concat(d),yaxis:1===d?"y":"y".concat(d),type:"histogram",hoverlabel:{namelength:5},showlegend:!1,marker:{color:ru},opacity:a},xLabel:en(Y.info),yLabel:en(L.info)}):(K=Y.resolvedValues.map(function(e){return e.val}),H=L.resolvedValues.map(function(e){return e.val}),G=rm(Y.domain,K),z=rm(L.domain,H),f.push({data:{x:K,y:H,ids:Y.resolvedValues.map(function(e){return e.id.toString()}),xaxis:1===d?"x":"x".concat(d),yaxis:1===d?"y":"y".concat(d),type:"scattergl",mode:"markers",hovertext:Y.resolvedValues.map(function(e,n){return"".concat(e.id,"<br>x: ").concat(e.val,"<br>y: ").concat(L.resolvedValues[n].val,"<br>").concat(b?"".concat(en(b.info),": ").concat(b.resolvedValues[n].val):"")}),hoverinfo:"text",hoverlabel:{bgcolor:"black"},showlegend:!1,text:y[0].resolvedValues.map(function(e){return e.id.toString()}),marker:{color:b?b.resolvedValues.map(function(e){return b.type===x.ae.NUMERICAL?E(e.val):b.color?b.color[e.val]:u.color(e.val)}):rc},selected:{marker:{line:{width:0},symbol:g?g.resolvedValues.map(function(e){return S(e.val)}):"circle",opacity:1,size:l}},unselected:{marker:{line:{width:0},symbol:g?g.resolvedValues.map(function(e){return S(e.val)}):"circle",color:ru,opacity:a,size:l}}},xLabel:en(Y.info),yLabel:en(L.info),xDomain:G,yDomain:z})),d+=1}catch(e){B=!0,N=e}finally{try{j||null==M.return||M.return()}finally{if(B)throw N}}}}catch(e){R=!0,I=e}finally{try{k||null==q.return||q.return()}finally{if(R)throw I}}}return b&&b.type===x.ae.CATEGORICAL&&y.length>0&&V.push({data:{x:y[0].resolvedValues.map(function(e){return e.val}),y:y[0].resolvedValues.map(function(e){return e.val}),ids:y[0].resolvedValues.map(function(e){return e.id.toString()}),xaxis:"x",yaxis:"y",type:"scattergl",mode:"markers",visible:"legendonly",legendgroup:"color",hoverinfo:"skip",legendgrouptitle:{text:en(b.info)},marker:{line:{width:0},symbol:"circle",size:l,color:b?b.resolvedValues.map(function(e){return b.color?b.color[e.val]:u.color(e.val)}):ru,opacity:1},transforms:[{type:"groupby",groups:b.resolvedValues.map(function(e){return e.val}),styles:rp(rp(new Set(b.resolvedValues.map(function(e){return e.val}))).map(function(e){return{target:e,value:{name:e}}}))}]},xLabel:en(y[0].info),yLabel:en(y[0].info)}),g&&V.push({data:{x:y[0].resolvedValues.map(function(e){return e.val}),y:y[0].resolvedValues.map(function(e){return e.val}),ids:y[0].resolvedValues.map(function(e){return e.id.toString()}),xaxis:"x",yaxis:"y",type:"scattergl",mode:"markers",visible:"legendonly",showlegend:!0,legendgroup:"shape",hoverinfo:"skip",legendgrouptitle:{text:en(g.info)},marker:{line:{width:0},opacity:a,size:l,symbol:g?g.resolvedValues.map(function(e){return S(e.val)}):"circle",color:ru},transforms:[{type:"groupby",groups:g.resolvedValues.map(function(e){return e.val}),styles:rp(rp(new Set(g.resolvedValues.map(function(e){return e.val}))).map(function(e){return{target:e,value:{name:e}}}))}]},xLabel:en(y[0].info),yLabel:en(y[0].info)}),[2,{plots:f,legendPlots:V,rows:Math.sqrt(f.length),cols:Math.sqrt(f.length),errorMessage:v.ag.t("visyn:vis.scatterError"),errorMessageHeader:v.ag.t("visyn:vis.errorHeader")}]}})})).apply(this,arguments)}function rh(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function rS(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])})}return e}function rv(e){return function(e){if(Array.isArray(e))return rh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rC(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rC(e,n){if(e){if("string"==typeof e)return rh(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rh(e,n)}}function rO(e){var n=e.config,t=e.columns,l=e.shapes,o=void 0===l?["circle","square","triangle-up","star"]:l,c=e.selectionCallback,s=void 0===c?function(){return null}:c,d=e.selectedMap,p=void 0===d?{}:d,m=e.selectedList,f=void 0===m?[]:m,y=e.setConfig,g=e.dimensions,b=e.showDragModeOptions,h=e.scales,S=e.scrollZoom,v=u.useMemo(function(){return nG()("ScatterVis")},[]),C=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(t=a.next()).done)&&(l.push(t.value),!n||l.length!==n);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}}(e,n)||rC(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,u.useState)(null),2),O=C[0],E=C[1];(0,u.useEffect)(function(){var e=document.getElementById("plotlyDiv".concat(v));e&&ri().Plots.resize(e)},[v,g]),(0,u.useEffect)(function(){E(null)},[n.numColumnsSelected.length]);var V=(0,nP.r5)(rg,[t,n.numColumnsSelected,n.shape,n.color,n.alphaSliderVal,n.sizeSliderVal,n.numColorScaleType,h,o]),x=V.value,w=V.status,T=V.error;u.useEffect(function(){if(x){var e={showlegend:!0,legend:{itemclick:!1,itemdoubleclick:!1,font:{size:13.4}},font:{family:"Roboto, sans-serif"},margin:{t:b?25:50,r:25,l:100,b:100},grid:{rows:x.rows,columns:x.cols,xgap:.3,pattern:"independent"},shapes:[],dragmode:n.dragMode};E(rS({},O,et(x,e,O,!1)))}},[x,n.dragMode]);var A=(0,u.useMemo)(function(){if(x){var e=x.plots;return e.filter(function(e){return"scattergl"===e.data.type}).forEach(function(e){var t=[];e.data.ids.forEach(function(e,r){(p[e]||0===f.length&&n.color)&&t.push(r)}),e.data.selectedpoints=t,0===f.length&&n.color?e.data.selected.marker.opacity=n.alphaSliderVal:e.data.selected.marker.opacity=1}),e}return[]},[p,x,f,n.color,n.alphaSliderVal]),k=(0,u.useMemo)(function(){return x?rv(A.map(function(e){return e.data})).concat(rv(x.legendPlots.map(function(e){return e.data}))):[]},[A,x]);return u.createElement(a.K,{gap:0,style:{height:"100%",width:"100%"}},b?u.createElement(_.M,null,u.createElement(r.Z,{mt:"lg"},u.createElement(nA,{callback:function(e){return y(function(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}(rS({},n),{dragMode:e}))},dragMode:n.dragMode}))):null,"success"===w&&A.length>0?u.createElement(t3,{key:v,divId:"plotlyDiv".concat(v),data:k,layout:O,config:{responsive:!0,displayModeBar:!1,scrollZoom:S},useResizeHandler:!0,style:{width:"100%",height:"100%"},onClick:function(e){var n=e.points[0].id;p[n]?s(f.filter(function(e){return e!==n})):s(rv(f).concat([n]))},onInitialized:function(){i.Ys("#plotlyDiv".concat(v)).selectAll(".legend").selectAll(".traces").style("opacity",1)},onUpdate:function(){i.Ys("#plotlyDiv".concat(v)).selectAll(".legend").selectAll(".traces").style("opacity",1)},onSelected:function(e){s(e?e.points.map(function(e){return e.id}):[])}}):"pending"!==w&&"idle"!==w?u.createElement(I,{headerMessage:null==x?void 0:x.errorMessageHeader,bodyMessage:(null==T?void 0:T.message)||(null==x?void 0:x.errorMessage)}):null)}try{rO.displayName="ScatterVis",rO.__docgenInfo={description:"",displayName:"ScatterVis",props:{config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"IScatterConfig"}},setConfig:{defaultValue:null,description:"",name:"setConfig",required:!1,type:{name:"(config: IScatterConfig) => void"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},optionsConfig:{defaultValue:null,description:"",name:"optionsConfig",required:!1,type:{name:"any"}},colors:{defaultValue:null,description:"",name:"colors",required:!1,type:{name:"string[]"}},shapes:{defaultValue:{value:"['circle', 'square', 'triangle-up', 'star']"},description:"",name:"shapes",required:!1,type:{name:"string[]"}},filterCallback:{defaultValue:null,description:"",name:"filterCallback",required:!1,type:{name:"(s: EFilterOptions) => void"}},selectionCallback:{defaultValue:{value:"() => null"},description:"",name:"selectionCallback",required:!1,type:{name:"(s: string[]) => void"}},selectedMap:{defaultValue:{value:"{}"},description:"",name:"selectedMap",required:!1,type:{name:"{ [key: string]: boolean; }"}},selectedList:{defaultValue:{value:"[]"},description:"",name:"selectedList",required:!1,type:{name:"string[]"}},showCloseButton:{defaultValue:null,description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},closeButtonCallback:{defaultValue:null,description:"",name:"closeButtonCallback",required:!1,type:{name:"() => void"}},scales:{defaultValue:null,description:"",name:"scales",required:!1,type:{name:"Scales"}},enableSidebar:{defaultValue:null,description:"",name:"enableSidebar",required:!1,type:{name:"boolean"}},showSidebar:{defaultValue:null,description:"",name:"showSidebar",required:!1,type:{name:"boolean"}},showSidebarDefault:{defaultValue:null,description:"",name:"showSidebarDefault",required:!1,type:{name:"boolean"}},setShowSidebar:{defaultValue:null,description:"",name:"setShowSidebar",required:!1,type:{name:"(s: boolean) => void"}},extensions:{defaultValue:null,description:"",name:"extensions",required:!1,type:{name:"{ prePlot?: ReactNode; postPlot?: ReactNode; preSidebar?: ReactNode; postSidebar?: ReactNode; }"}},scrollZoom:{defaultValue:null,description:"",name:"scrollZoom",required:!1,type:{name:"boolean"}},showDragModeOptions:{defaultValue:null,description:"",name:"showDragModeOptions",required:!1,type:{name:"boolean"}},dimensions:{defaultValue:null,description:"",name:"dimensions",required:!0,type:{name:"{ width: number; height: number; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/scatter/ScatterVis.tsx#ScatterVis"]={docgenInfo:rO.__docgenInfo,name:"ScatterVis",path:"src/vis/scatter/ScatterVis.tsx#ScatterVis"})}catch(e){}function rE(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])})}return e}function rV(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}var rx={color:{enable:!0,customComponent:null},shape:{enable:!0,customComponent:null},filter:{enable:!0,customComponent:null}};function rw(e){var n=e.config,t=e.optionsConfig,r=e.columns,a=e.filterCallback,l=e.setConfig,o=(0,u.useMemo)(function(){return W()({},rx,t)},[t]);return u.createElement(u.Fragment,null,u.createElement(nn,{callback:function(e){return l(rV(rE({},n),{numColumnsSelected:e}))},columns:r,currentSelected:n.numColumnsSelected||[],columnType:x.ae.NUMERICAL}),o.color.enable?o.color.customComponent||u.createElement(nk,{callback:function(e){return l(rV(rE({},n),{color:e}))},numTypeCallback:function(e){return l(rV(rE({},n),{numColorScaleType:e}))},currentNumType:n.numColorScaleType,columns:r,currentSelected:n.color}):null,o.shape.enable?o.shape.customComponent||u.createElement(ek,{label:"Shape",columnType:x.ae.CATEGORICAL,callback:function(e){return l(rV(rE({},n),{shape:e}))},columns:r,currentSelected:n.shape}):null,u.createElement(nL,{callback:function(e){n.alphaSliderVal!==e&&l(rV(rE({},n),{alphaSliderVal:e}))},currentValue:n.alphaSliderVal}),a&&o.filter.enable?o.filter.customComponent||u.createElement(eq,{callback:a}):null)}try{rw.displayName="ScatterVisSidebar",rw.__docgenInfo={description:"",displayName:"ScatterVisSidebar",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},optionsConfig:{defaultValue:null,description:"",name:"optionsConfig",required:!1,type:{name:"any"}},filterCallback:{defaultValue:null,description:"",name:"filterCallback",required:!1,type:{name:"(s: EFilterOptions) => void"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IScatterConfig"}},setConfig:{defaultValue:null,description:"",name:"setConfig",required:!0,type:{name:"(c: IScatterConfig) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/scatter/ScatterVisSidebar.tsx#ScatterVisSidebar"]={docgenInfo:rw.__docgenInfo,name:"ScatterVisSidebar",path:"src/vis/scatter/ScatterVisSidebar.tsx#ScatterVisSidebar"})}catch(e){}function rT(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function rA(e,n,t,r,a,l,o){try{var i=e[l](o),u=i.value}catch(e){t(e);return}i.done?n(u):Promise.resolve(u).then(r,a)}var r_={type:x.bu.VIOLIN,numColumnsSelected:[],catColumnsSelected:[],violinOverlay:nj.$.NONE};function rk(e,n){var t=W()({},r_,n),r=e.filter(function(e){return e.type===x.ae.NUMERICAL});return 0===t.numColumnsSelected.length&&r.length>0&&t.numColumnsSelected.push(r[r.length-1].info),t}function rR(e,n,t,r,a){return rI.apply(this,arguments)}function rI(){return(rI=function(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var l=e.apply(n,t);function o(e){rA(l,r,a,o,i,"next",e)}function i(e){rA(l,r,a,o,i,"throw",e)}o(void 0)})}}(function(e,n,t,r,a){var l,o,i,u,c,s,d,p,m,f,y,g,b,h,S,C,O,E;return function(e,n){var t,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=n.call(e,o)}catch(e){l=[6,e],r=0}finally{t=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}(this,function(t){switch(t.label){case 0:if(l=1,!n.numColumnsSelected||!n.catColumnsSelected)return[2,{plots:[],legendPlots:[],rows:0,cols:0,errorMessage:v.ag.t("visyn:vis.violinError"),errorMessageHeader:v.ag.t("visyn:vis.errorHeader")}];return o=n.numColumnsSelected.map(function(n){return e.find(function(e){return e.info.id===n.id})}),i=n.catColumnsSelected.map(function(n){return e.find(function(e){return e.info.id===n.id})}),u=[],[4,er(o)];case 1:return c=t.sent(),[4,er(i)];case 2:if(0===(s=t.sent()).length){d=!0,p=!1,m=void 0;try{for(f=c[Symbol.iterator]();!(d=(y=f.next()).done);d=!0)g=y.value,u.push({data:{y:g.resolvedValues.map(function(e){return e.val}),ids:g.resolvedValues.map(function(e){return e.id}),xaxis:1===l?"x":"x".concat(l),yaxis:1===l?"y":"y".concat(l),type:"violin",pointpos:0,jitter:.3,hoveron:"violins",points:!1,box:{visible:n.violinOverlay===nj.$.BOX},marker:{color:0!==r.length&&g.resolvedValues.find(function(e){return a[e.id]})?rc:"#878E95"},spanmode:"hard",name:"".concat(en(g.info)),hoverinfo:"y",scalemode:"width",showlegend:!1},xLabel:en(g.info),yLabel:en(g.info)}),l+=1}catch(e){p=!0,m=e}finally{try{d||null==f.return||f.return()}finally{if(p)throw m}}}b=!0,h=!1,S=void 0;try{for(C=function(){var e=E.value,t=!0,o=!1,i=void 0;try{for(var c,d=s[Symbol.iterator]();!(t=(c=d.next()).done);t=!0)!function(){var t=c.value;u.push({data:{x:t.resolvedValues.map(function(e){return e.val}),ids:t.resolvedValues.map(function(e){return e.id}),y:e.resolvedValues.map(function(e){return e.val}),xaxis:1===l?"x":"x".concat(l),yaxis:1===l?"y":"y".concat(l),type:"violin",hoveron:"violins",hoverinfo:"y",name:"".concat(en(t.info)," + ").concat(en(e.info)),scalemode:"width",pointpos:0,jitter:.3,spanmode:"hard",points:!1,box:{visible:n.violinOverlay===nj.$.BOX},showlegend:!1,transforms:[{type:"groupby",groups:t.resolvedValues.map(function(e){return e.val}),styles:(function(e){return function(e){if(Array.isArray(e))return rT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return rT(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rT(e,n)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()})(new Set(t.resolvedValues.map(function(e){return e.val}))).map(function(e){return{target:e,value:{line:{color:0!==r.length&&t.resolvedValues.filter(function(n){return n.val===e}).find(function(e){return a[e.id]})?rc:"#878E95"}}}})}]},xLabel:en(t.info),yLabel:en(e.info)}),l+=1}()}catch(e){o=!0,i=e}finally{try{t||null==d.return||d.return()}finally{if(o)throw i}}},O=c[Symbol.iterator]();!(b=(E=O.next()).done);b=!0)C()}catch(e){h=!0,S=e}finally{try{b||null==O.return||O.return()}finally{if(h)throw S}}return[2,{plots:u,legendPlots:[],rows:c.length,cols:s.length>0?s.length:1,errorMessage:v.ag.t("visyn:vis.violinError"),errorMessageHeader:v.ag.t("visyn:vis.errorHeader")}]}})})).apply(this,arguments)}function rq(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function rP(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])})}return e}function rL(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}function rj(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(t=a.next()).done)&&(l.push(t.value),!n||l.length!==n);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}}(e,n)||rN(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rB(e){return function(e){if(Array.isArray(e))return rq(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rN(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rN(e,n){if(e){if("string"==typeof e)return rq(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rq(e,n)}}function rM(e){var n=e.config,t=e.columns,r=e.scales,l=e.dimensions,o=e.selectedList,c=e.selectedMap,s=e.selectionCallback,d=(0,nP.r5)(rR,[t,n,r,o,c]),p=d.value,m=d.status,f=d.error,y=rj((0,u.useState)(null),2),g=y[0],b=y[1],h=(0,u.useMemo)(function(){return nG()("ViolinVis")},[]),S=rj((0,u.useState)(null),2),v=S[0],C=S[1],O=(0,u.useMemo)(function(){if(!p)return null;var e,n,t=null===(e=p.plots)||void 0===e?void 0:e.map(function(e){var n;return null==e?void 0:null===(n=e.data.y)||void 0===n?void 0:n.reduce(function(e,n,t){return null===n?rB(e).concat([t]):e},[])});return rL(rP({},p),{plots:null==p?void 0:null===(n=p.plots)||void 0===n?void 0:n.map(function(e,n){var r,a,l,o,i,u,c,s;return rL(rP({},e),{data:rL(rP({},e.data),{y:null===(a=e.data)||void 0===a?void 0:null===(r=a.y)||void 0===r?void 0:r.filter(function(e,r){return!t[n].includes(r)}),x:null===(o=e.data)||void 0===o?void 0:null===(l=o.x)||void 0===l?void 0:l.filter(function(e,r){return!t[n].includes(r)}),ids:null===(u=e.data)||void 0===u?void 0:null===(i=u.ids)||void 0===i?void 0:i.filter(function(e,r){return!t[n].includes(r)}),transforms:null===(s=e.data)||void 0===s?void 0:null===(c=s.transforms)||void 0===c?void 0:c.map(function(e){var r;return null===(r=e.groups)||void 0===r?void 0:r.filter(function(e,r){return!t[n].includes(r)})})})})})})},[p]);return(0,u.useEffect)(function(){var e=document.getElementById("plotlyDiv".concat(h));e&&b(setTimeout(function(){return ri().Plots.resize(e)}))},[h,l,p]),(0,u.useEffect)(function(){return function(){g&&clearTimeout(g)}},[g]),(0,u.useEffect)(function(){if(O){var e={showlegend:!0,legend:{itemclick:!1,itemdoubleclick:!1},margin:{t:25,r:25,l:25,b:25},font:{family:"Roboto, sans-serif"},clickmode:"event+select",autosize:!0,grid:{rows:O.rows,columns:O.cols,xgap:.3,pattern:"independent"},shapes:[]};C(function(n){return rP({},n,et(O,e,n,!0))})}},[O]),u.createElement(a.K,{gap:0,style:{height:"100%",width:"100%",overflow:"hidden",position:"relative",".nsewdrag":{cursor:"pointer !important"}}},"success"===m&&v&&(null==O?void 0:O.plots.length)>0?u.createElement(t3,{divId:"plotlyDiv".concat(h),data:rB(O.plots.map(function(e){return e.data})).concat(rB(O.legendPlots.map(function(e){return e.data}))),layout:v,config:{responsive:!0,displayModeBar:!1},useResizeHandler:!0,style:{width:"100%",height:"100%"},onClick:function(e){if(!e||!e.points||!e.points[0]){s([]);return}var n=e.event.shiftKey,t=null===(r=e.points[0])||void 0===r?void 0:r.fullData.ids;if(n){var r,a=o.filter(function(e){return!t.includes(e)});a.length===o.length&&a.push.apply(a,rB(t)),s(a)}else o.length===t.length&&t.every(function(e){return c[e]})?s([]):s(t)},onUpdate:function(){var e=!0,n=!1,t=void 0;try{for(var r,a=p.plots[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var l=r.value;i.Ys("g .".concat(l.data.xaxis,"title")).style("pointer-events","all").append("title").text(l.xLabel),i.Ys("g .".concat(l.data.yaxis,"title")).style("pointer-events","all").append("title").text(l.yLabel)}}catch(e){n=!0,t=e}finally{try{e||null==a.return||a.return()}finally{if(n)throw t}}}}):"pending"!==m&&"idle"!==m&&v?u.createElement(I,{headerMessage:null==O?void 0:O.errorMessageHeader,bodyMessage:(null==f?void 0:f.message)||(null==O?void 0:O.errorMessage)}):null)}try{rM.displayName="ViolinVis",rM.__docgenInfo={description:"",displayName:"ViolinVis",props:{config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"IViolinConfig"}},setConfig:{defaultValue:null,description:"",name:"setConfig",required:!1,type:{name:"(config: IViolinConfig) => void"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},optionsConfig:{defaultValue:null,description:"",name:"optionsConfig",required:!1,type:{name:"any"}},colors:{defaultValue:null,description:"",name:"colors",required:!1,type:{name:"string[]"}},shapes:{defaultValue:null,description:"",name:"shapes",required:!1,type:{name:"string[]"}},filterCallback:{defaultValue:null,description:"",name:"filterCallback",required:!1,type:{name:"(s: EFilterOptions) => void"}},selectionCallback:{defaultValue:null,description:"",name:"selectionCallback",required:!1,type:{name:"(s: string[]) => void"}},selectedMap:{defaultValue:null,description:"",name:"selectedMap",required:!1,type:{name:"{ [key: string]: boolean; }"}},selectedList:{defaultValue:null,description:"",name:"selectedList",required:!1,type:{name:"string[]"}},showCloseButton:{defaultValue:null,description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},closeButtonCallback:{defaultValue:null,description:"",name:"closeButtonCallback",required:!1,type:{name:"() => void"}},scales:{defaultValue:null,description:"",name:"scales",required:!1,type:{name:"Scales"}},enableSidebar:{defaultValue:null,description:"",name:"enableSidebar",required:!1,type:{name:"boolean"}},showSidebar:{defaultValue:null,description:"",name:"showSidebar",required:!1,type:{name:"boolean"}},showSidebarDefault:{defaultValue:null,description:"",name:"showSidebarDefault",required:!1,type:{name:"boolean"}},setShowSidebar:{defaultValue:null,description:"",name:"setShowSidebar",required:!1,type:{name:"(s: boolean) => void"}},extensions:{defaultValue:null,description:"",name:"extensions",required:!1,type:{name:"{ prePlot?: ReactNode; postPlot?: ReactNode; preSidebar?: ReactNode; postSidebar?: ReactNode; }"}},scrollZoom:{defaultValue:null,description:"",name:"scrollZoom",required:!1,type:{name:"boolean"}},showDragModeOptions:{defaultValue:null,description:"",name:"showDragModeOptions",required:!1,type:{name:"boolean"}},dimensions:{defaultValue:null,description:"",name:"dimensions",required:!0,type:{name:"{ width: number; height: number; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/violin/ViolinVis.tsx#ViolinVis"]={docgenInfo:rM.__docgenInfo,name:"ViolinVis",path:"src/vis/violin/ViolinVis.tsx#ViolinVis"})}catch(e){}function rD(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])})}return e}function rY(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t})(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}),e}var rK={overlay:{enable:!0,customComponent:null},filter:{enable:!0,customComponent:null}};function rH(e){var n=e.config,t=e.optionsConfig,r=e.columns,a=e.setConfig,l=(e.className,e.style),o=((void 0===l?{}:l).width,e.filterCallback);!function(e,n){if(null!=e){var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}}}(e.style,["width"]);var i=(0,u.useMemo)(function(){return W()({},rK,t)},[t]);return u.createElement(u.Fragment,null,u.createElement(nn,{callback:function(e){return a(rY(rD({},n),{numColumnsSelected:e}))},columns:r,currentSelected:n.numColumnsSelected||[],columnType:x.ae.NUMERICAL}),u.createElement(nn,{callback:function(e){return a(rY(rD({},n),{catColumnsSelected:e}))},columns:r,currentSelected:n.catColumnsSelected||[],columnType:x.ae.CATEGORICAL}),i.overlay.enable?i.overlay.customComponent||u.createElement(nB,{callback:function(e){return a(rY(rD({},n),{violinOverlay:e}))},currentSelected:n.violinOverlay}):null,o&&i.filter.enable?i.filter.customComponent||u.createElement(eq,{callback:o}):null)}try{rH.displayName="ViolinVisSidebar",rH.__docgenInfo={description:"",displayName:"ViolinVisSidebar",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"VisColumn[]"}},optionsConfig:{defaultValue:null,description:"",name:"optionsConfig",required:!1,type:{name:"any"}},filterCallback:{defaultValue:null,description:"",name:"filterCallback",required:!1,type:{name:"(s: EFilterOptions) => void"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"IViolinConfig"}},setConfig:{defaultValue:null,description:"",name:"setConfig",required:!0,type:{name:"(c: IViolinConfig) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/violin/ViolinVisSidebar.tsx#ViolinVisSidebar"]={docgenInfo:rH.__docgenInfo,name:"ViolinVisSidebar",path:"src/vis/violin/ViolinVisSidebar.tsx#ViolinVisSidebar"})}catch(e){}function rG(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function rz(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var l=[],o=!0,i=!1;try{for(a=a.call(e);!(o=(t=a.next()).done)&&(l.push(t.value),!n||l.length!==n);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return l}}(e,n)||rU(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rU(e,n){if(e){if("string"==typeof e)return rG(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rG(e,n)}}var rF=["circle","square","triangle-up","star"];function rW(e){var n=(0,d.jx)().registerVisType;u.useEffect(function(){n.apply(void 0,function(e){return function(e){if(Array.isArray(e))return rG(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rU(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(e){return[(0,d.Gd)({type:x.bu.SCATTER,renderer:rO,sidebarRenderer:rw,mergeConfig:ry,description:"Visualizes two variables as individual data points in two-dimensional space"}),(0,d.Gd)({type:x.bu.BAR,renderer:eE,sidebarRenderer:eK,mergeConfig:es,description:"Visualizes categorical data with rectangular bars"}),(0,d.Gd)({type:x.bu.HEXBIN,renderer:n9,sidebarRenderer:ti,mergeConfig:nZ,description:"Visualizes 2D data points within hexagons"}),(0,d.Gd)({type:x.bu.SANKEY,renderer:rt,sidebarRenderer:rr,mergeConfig:rl,description:"Visualizes the flow of data between different categories"}),(0,d.Gd)({type:x.bu.HEATMAP,renderer:nO,sidebarRenderer:nD,mergeConfig:nh,description:"Visualizes matrix data using color gradients"}),(0,d.Gd)({type:x.bu.VIOLIN,renderer:rM,sidebarRenderer:rH,mergeConfig:rk,description:"Visualizes numerical data distribution by combining a box plot and a kernel density plot"}),(0,d.Gd)({type:x.bu.RAINCLOUD,renderer:tG,sidebarRenderer:t$,mergeConfig:tp,description:"Visualizes a combination of boxplot, violin plot, and jitter plot"}),(0,d.Gd)({type:x.bu.CORRELATION,renderer:e4,sidebarRenderer:na,mergeConfig:eQ,description:"Visualizes statistical relationships between pairs of numerical variables"})].filter(function(n){return!e||e.includes(n.type)})}(e)))},[n,e])}function rZ(e){var n,t=e.columns,p=e.selected,m=void 0===p?[]:p,f=e.colors,y=void 0===f?null:f,g=e.shapes,b=e.selectionCallback,h=e.filterCallback,S=e.setExternalConfig,v=void 0===S?function(){return null}:S,C=e.closeCallback,O=e.showCloseButton,E=e.externalConfig,T=void 0===E?null:E,_=e.enableSidebar,k=void 0===_||_,R=e.showSidebar,I=e.showDragModeOptions,q=e.setShowSidebar,P=e.showSidebarDefault,L=e.scrollZoom,j=e.visTypes,B=rz((0,l.C)({value:R,defaultValue:void 0!==P&&P,finalValue:!1,onChange:q}),2),N=B[0],M=B[1],D=rz((0,o.y)(),2),Y=D[0],K=D[1];rW(j);var H=(0,d.jx)().getVisByType,G=rz(u.useState(T?{consistent:null,current:T}:t.filter(function(e){return e.type===x.ae.NUMERICAL}).length>1?{consistent:null,current:{type:x.bu.SCATTER,numColumnsSelected:[],color:null,numColorScaleType:x.WE.SEQUENTIAL,shape:null,dragMode:x.nj.RECTANGLE,alphaSliderVal:.5}}:{consistent:null,current:{type:x.bu.BAR,multiples:null,group:null,direction:eu.Fb.HORIZONTAL,display:eu.Ln.ABSOLUTE,groupType:eu._G.STACK,numColumnsSelected:[],catColumnSelected:null,aggregateColumn:null,aggregateType:x.Ym.COUNT}}),2),z=G[0],U=z.consistent,F=z.current,W=G[1],Z=(0,c.x)(v);(0,u.useEffect)(function(){var e;null===(e=Z.current)||void 0===e||e.call(Z,U)},[JSON.stringify(U),Z]);var X=u.useCallback(function(e){W(function(n){return{current:e,consistent:n.current.type!==e.type?n.consistent:e}})},[]);u.useEffect(function(){var e=H(null==F?void 0:F.type);if(e){var n=e.mergeConfig(t,F);W({current:n,consistent:n})}},[null==F?void 0:F.type,H]),(0,u.useEffect)(function(){T&&X(T)},[T,X]);var $=(0,u.useMemo)(function(){var e={};return m.forEach(function(n){e[n]=!0}),e},[m]),Q=(0,u.useMemo)(function(){return{color:i.PKp().range(y||[(0,s.uY)("visyn-c1"),(0,s.uY)("visyn-c2"),(0,s.uY)("visyn-c3"),(0,s.uY)("visyn-c4"),(0,s.uY)("visyn-c5"),(0,s.uY)("visyn-c6"),(0,s.uY)("visyn-c7"),(0,s.uY)("visyn-c8"),(0,s.uY)("visyn-c9"),(0,s.uY)("visyn-c10")])}},[y]);if(!U)return u.createElement("div",{className:"tdp-busy"});var J=null===(n=H(null==U?void 0:U.type))||void 0===n?void 0:n.renderer;return u.createElement(r.Z,{wrap:"nowrap",pl:0,pr:0,style:{flexGrow:1,height:"100%",width:"100%",overflow:"hidden",position:"relative",".nsewdrag":{cursor:"pointer !important"}}},k&&!N?u.createElement(A,{onClick:function(){return M(!N)}}):null,u.createElement(a.K,{gap:0,style:{width:"100%",height:"100%",overflow:"hidden"},align:"stretch",ref:Y},J?u.createElement(J,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){!function(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])})}return e}({config:U,dimensions:K,optionsConfig:{color:{enable:!0}},showDragModeOptions:void 0===I||I,shapes:void 0===g?rF:g,setConfig:X,filterCallback:h,selectionCallback:void 0===b?function(){return null}:b,selectedMap:$,selectedList:m,columns:t,scales:Q,showSidebar:N,showCloseButton:void 0!==O&&O,closeButtonCallback:void 0===C?function(){return null}:C,scrollZoom:void 0===L||L},{showSidebar:N,setShowSidebar:M,enableSidebar:k})):null),N?u.createElement(V,{config:U,setConfig:X,onClick:function(){return M(!1)}},u.createElement(w,{config:U,columns:t,filterCallback:h,setConfig:X})):null)}try{rW.displayName="useRegisterDefaultVis",rW.__docgenInfo={description:"",displayName:"useRegisterDefaultVis",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/EagerVis.tsx#useRegisterDefaultVis"]={docgenInfo:rW.__docgenInfo,name:"useRegisterDefaultVis",path:"src/vis/EagerVis.tsx#useRegisterDefaultVis"})}catch(e){}try{rZ.displayName="EagerVis",rZ.__docgenInfo={description:"",displayName:"EagerVis",props:{columns:{defaultValue:null,description:"Required data columns which are displayed.",name:"columns",required:!0,type:{name:"VisColumn[]"}},selected:{defaultValue:{value:"[]"},description:"Optional Prop for identifying which points are selected. Any ids that are in this array will be considered selected.",name:"selected",required:!1,type:{name:"string[]"}},colors:{defaultValue:{value:"null"},description:"Optional Prop for changing the colors that are used in color mapping. Defaults to the Datavisyn categorical color scheme",name:"colors",required:!1,type:{name:"string[]"}},shapes:{defaultValue:{value:"['circle', 'square', 'triangle-up', 'star']"},description:"Optional Prop for changing the shapes that are used in shape mapping. Defaults to the circle, square, triangle, star.",name:"shapes",required:!1,type:{name:"string[]"}},selectionCallback:{defaultValue:{value:"() => null"},description:"Optional Prop which is called when a selection is made in the scatterplot visualization. Passes in the selected points.",name:"selectionCallback",required:!1,type:{name:"(s: string[]) => void"}},filterCallback:{defaultValue:null,description:"Optional Prop which is called when a filter is applied. Returns a string identifying what type of filter is desired. This logic will be simplified in the future.",name:"filterCallback",required:!1,type:{name:"(s: EFilterOptions) => void"}},setExternalConfig:{defaultValue:{value:"() => null"},description:"",name:"setExternalConfig",required:!1,type:{name:"(config: BaseVisConfig) => void"}},closeCallback:{defaultValue:{value:"() => null"},description:"",name:"closeCallback",required:!1,type:{name:"() => void"}},showCloseButton:{defaultValue:{value:"false"},description:"",name:"showCloseButton",required:!1,type:{name:"boolean"}},externalConfig:{defaultValue:{value:"null"},description:"",name:"externalConfig",required:!1,type:{name:"IScatterConfig | BaseVisConfig | IBarConfig | IHexbinConfig | ISankeyConfig | IHeatmapConfig | IViolinConfig | IRaincloudConfig | ICorrelationConfig"}},enableSidebar:{defaultValue:{value:"true"},description:"",name:"enableSidebar",required:!1,type:{name:"boolean"}},showSidebar:{defaultValue:null,description:"",name:"showSidebar",required:!1,type:{name:"boolean"}},showDragModeOptions:{defaultValue:{value:"true"},description:"",name:"showDragModeOptions",required:!1,type:{name:"boolean"}},setShowSidebar:{defaultValue:null,description:"",name:"setShowSidebar",required:!1,type:{name:"(show: boolean) => void"}},showSidebarDefault:{defaultValue:{value:"false"},description:"",name:"showSidebarDefault",required:!1,type:{name:"boolean"}},scrollZoom:{defaultValue:{value:"true"},description:"",name:"scrollZoom",required:!1,type:{name:"boolean"}},visTypes:{defaultValue:null,description:"Optional property which enables the user to specify which vis types to show as options in the sidebar. If not specified, all vis types will be used.",name:"visTypes",required:!1,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/vis/EagerVis.tsx#EagerVis"]={docgenInfo:rZ.__docgenInfo,name:"EagerVis",path:"src/vis/EagerVis.tsx#EagerVis"})}catch(e){}},"./src/vis/bar/interfaces.ts":(e,n,t)=>{"use strict";t.d(n,{Fb:()=>o,Ln:()=>l,_G:()=>a,fD:()=>r,u_:()=>u});var r,a,l,o,i=t("./src/vis/interfaces.ts");!function(e){e.NONE="NONE",e.CAT_ASC="CAT_ASC",e.CAT_DESC="CAT_DESC",e.COUNT_ASC="COUNT_ASC",e.COUNT_DESC="COUNT_DESC"}(r||(r={})),function(e){e.STACK="Stacked",e.GROUP="Grouped"}(a||(a={})),function(e){e.ABSOLUTE="Absolute",e.NORMALIZED="Normalized"}(l||(l={})),function(e){e.VERTICAL="Vertical",e.HORIZONTAL="Horizontal"}(o||(o={}));var u={type:i.bu.BAR,numColumnsSelected:[],catColumnSelected:null,group:null,groupType:"Stacked",multiples:null,display:"Absolute",direction:"Horizontal",aggregateColumn:null,aggregateType:i.Ym.COUNT}},"./src/vis/correlation/interfaces.ts":(e,n,t)=>{"use strict";var r;t.d(n,{L:()=>r}),t("./src/vis/interfaces.ts"),function(e){e.PEARSON="Pearson",e.SPEARMAN="Spearman"}(r||(r={}))},"./src/vis/heatmap/interfaces.ts":(e,n,t)=>{"use strict";var r;t.d(n,{s:()=>r}),t("./src/vis/interfaces.ts"),function(e){e.CAT_ASC="CAT_ASC",e.CAT_DESC="CAT_DESC",e.VAL_ASC="VAL_ASC",e.VAL_DESC="VAL_DESC"}(r||(r={}))},"./src/vis/hexbin/interfaces.ts":(e,n,t)=>{"use strict";var r;t.d(n,{F:()=>r}),t("./src/vis/interfaces.ts"),function(e){e.COLOR="Color",e.PIE="Pie",e.BINS="Bins"}(r||(r={}))},"./src/vis/interfaces.ts":(e,n,t)=>{"use strict";var r,a,l,o,i,u,c;t.d(n,{WE:()=>i,Ym:()=>a,ae:()=>l,bu:()=>r,nj:()=>u,u5:()=>o,zK:()=>c}),function(e){e.SCATTER="Scatter plot",e.VIOLIN="Violin plot",e.BAR="Bar chart",e.HEXBIN="Hexbin plot",e.HEATMAP="Heatmap plot",e.RAINCLOUD="Raincloud plot",e.SANKEY="Sankey",e.CORRELATION="Correlation plot"}(r||(r={})),function(e){e.COUNT="Count",e.MIN="Minimum",e.AVG="Average",e.MED="Median",e.MAX="Maximum"}(a||(a={})),function(e){e.NUMERICAL="Numerical",e.CATEGORICAL="Categorical"}(l||(l={})),function(e){e.IN="Filter in",e.OUT="Filter out",e.CLEAR="Clear"}(o||(o={})),function(e){e.SEQUENTIAL="Sequential",e.DIVERGENT="Divergent"}(i||(i={})),function(e){e.RECTANGLE="select",e.LASSO="lasso",e.ZOOM="zoom",e.PAN="pan"}(u||(u={})),function(e){e.LINEAR="Linear",e.LOG="Log"}(c||(c={}))},"./src/vis/raincloud/interfaces.ts":(e,n,t)=>{"use strict";var r,a,l;t.d(n,{$9:()=>a,eP:()=>l,g6:()=>r}),t("./src/vis/interfaces.ts"),function(e){e.DOTPLOT="Dot plot",e.BEESWARM="Beeswarm",e.WHEATPLOT="Wheat plot",e.STRIPPLOT="Strip plot"}(r||(r={})),function(e){e.SPLIT_VIOLIN="Split violin",e.HEATMAP="Heatmap",e.HISTOGRAM="Histogram"}(a||(a={})),function(e){e.MEAN_AND_DEV="Mean and deviation",e.MEDIAN_AND_DEV="Median and deviation",e.MEAN="Mean",e.BOXPLOT="Boxplot"}(l||(l={}))},"./src/vis/violin/interfaces.ts":(e,n,t)=>{"use strict";var r;t.d(n,{$:()=>r}),t("./src/vis/interfaces.ts"),function(e){e.NONE="None",e.BOX="Box"}(r||(r={}))},"./node_modules/plotly.js-dist-min sync recursive":e=>{function n(e){var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}n.keys=()=>[],n.resolve=n,n.id="./node_modules/plotly.js-dist-min sync recursive",e.exports=n}}]);